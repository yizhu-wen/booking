(self["b-attractions-product-frontend-capla__LOADABLE_LOADED_CHUNKS__"]=self["b-attractions-product-frontend-capla__LOADABLE_LOADED_CHUNKS__"]||[]).push([["e93e6b6d"],{"9b3b77b6":(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a("ead71eb0");const r=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px"},i.createElement("path",{d:"M22.5 17.25a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0m1.5 0a6.75 6.75 0 1 0-13.5 0 6.75 6.75 0 0 0 13.5 0m-4.676-2.194-2.905 3.873h-.002l-1.499-1.5a.75.75 0 1 0-1.06 1.061l1.5 1.5a1.502 1.502 0 0 0 2.26-.16l2.906-3.874a.75.75 0 0 0-1.2-.9M8.25 16.5h-6a.75.75 0 0 1-.75-.75V3.765a.75.75 0 0 1 .75-.75h13.5a.75.75 0 0 1 .75.75V8.25a.75.75 0 0 0 1.5 0V3.765a2.25 2.25 0 0 0-2.25-2.25H2.25A2.25 2.25 0 0 0 0 3.765V15.75A2.25 2.25 0 0 0 2.25 18h6a.75.75 0 0 0 0-1.5m-7.5-9h16.5V6H.75zm5.243-3.75v-3a.75.75 0 0 0-1.5 0v3a.75.75 0 0 0 1.5 0m7.5 0v-3a.75.75 0 0 0-1.5 0v3a.75.75 0 0 0 1.5 0"}))}},"1277160c":(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a("ead71eb0");const r=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px"},i.createElement("path",{d:"M21.75 12c0 5.385-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12 6.615 2.25 12 2.25s9.75 4.365 9.75 9.75m1.5 0C23.25 5.787 18.213.75 12 .75S.75 5.787.75 12 5.787 23.25 12 23.25 23.25 18.213 23.25 12m-10.5 0V8.25a.75.75 0 0 0-1.5 0V12a.75.75 0 0 0 1.5 0m-1.28.53 4.687 4.688a.75.75 0 0 0 1.06-1.06L12.53 11.47a.75.75 0 0 0-1.06 1.06"}))}},e402f5dc:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a("ead71eb0");const r=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px"},i.createElement("path",{d:"M22.5 15v3a.75.75 0 0 1-.75.75H2.25A.75.75 0 0 1 1.5 18v-3l-.75.75a3.75 3.75 0 1 0 0-7.5L1.5 9V6a.75.75 0 0 1 .75-.75h19.5a.75.75 0 0 1 .75.75v3l.75-.75a3.75 3.75 0 1 0 0 7.5zm1.5 0a.75.75 0 0 0-.75-.75 2.25 2.25 0 0 1 0-4.5A.75.75 0 0 0 24 9V6a2.25 2.25 0 0 0-2.25-2.25H2.25A2.25 2.25 0 0 0 0 6v3c0 .414.336.75.75.75a2.25 2.25 0 0 1 0 4.5A.75.75 0 0 0 0 15v3a2.25 2.25 0 0 0 2.25 2.25h19.5A2.25 2.25 0 0 0 24 18zM9 9a.75.75 0 1 1-1.5 0A.75.75 0 0 1 9 9m1.5 0A2.25 2.25 0 1 0 6 9a2.25 2.25 0 0 0 4.5 0m6.75 6a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m1.5 0a2.25 2.25 0 1 0-4.5 0 2.25 2.25 0 0 0 4.5 0m-3.53-7.28-7.5 7.5a.75.75 0 1 0 1.06 1.06l7.5-7.5a.75.75 0 0 0-1.06-1.06"}))}},"190b2600":(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a("ead71eb0");const r=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px","data-rtl-flip":"true"},i.createElement("path",{d:"m12.897 1.175 7.826 11.25v-.856l-7.826 11.25a.75.75 0 0 0 1.232.856l7.826-11.25a.75.75 0 0 0 0-.856L14.129.319a.75.75 0 0 0-1.232.856M3.318-.003c-1.143 0-1.69 1.043-1.035 1.98l6.708 9.642a.76.76 0 0 1-.02.78l-6.687 9.617c-.653.94-.107 1.978 1.036 1.978h3.3a2.87 2.87 0 0 0 2.126-1.086l6.737-9.68c.48-.764.48-1.698.02-2.433L8.774 1.122a2.87 2.87 0 0 0-2.11-1.12L3.319-.004zm0 1.5L6.62 1.5c.348.02.708.208.949.514l6.681 9.608a.75.75 0 0 1-.02.78l-6.69 9.614c-.214.27-.574.458-.963.48l-3.258-.002c.066 0 .235.321.196.378l6.707-9.647c.48-.765.48-1.697.02-2.431l-6.73-9.675c.04.057-.127.378-.195.378z"}))}},"361fd853":(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a("ead71eb0");const r=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px"},i.createElement("path",{d:"m.595 8.03 15.75 15.75a.75.75 0 1 0 1.06-1.06L1.655 6.97a.75.75 0 0 0-1.06 1.06m1.81.75 6.311-6.31a.75.75 0 0 1 1.06 0l6.44 6.44V7.848l-7.371 7.37h1.06l-7.5-7.5zm-1.06-1.06a.75.75 0 0 0 0 1.06l7.5 7.5a.75.75 0 0 0 1.06 0l7.371-7.37a.75.75 0 0 0 0-1.061l-6.439-6.44a2.25 2.25 0 0 0-3.181 0l-6.311 6.31zm11.431-3.31 3.13-3.13h-1.061l7.5 7.5V7.72l-6.063 6.063a.75.75 0 0 1-1.061 0l-1.938-1.937a.75.75 0 1 0-1.06 1.06l1.937 1.937v.001a2.25 2.25 0 0 0 3.183 0l6.062-6.064a.75.75 0 0 0 0-1.06l-7.5-7.5a.75.75 0 0 0-1.06 0l-3.13 3.129a.75.75 0 0 0 1.061 1.06zm4.998 8.916a3.45 3.45 0 0 1-.42-4.51.75.75 0 0 0-1.217-.875 4.95 4.95 0 0 0 .601 6.47.75.75 0 0 0 1.036-1.085"}))}},e83cc0a6:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a("ead71eb0");const r=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px"},i.createElement("path",{d:"M5.999.75v22.5a.75.75 0 0 0 1.5 0V.75a.75.75 0 0 0-1.5 0m3 0V7.5a2.26 2.26 0 0 1-2.252 2.25 2.26 2.26 0 0 1-2.248-2.252V.75a.75.75 0 0 0-1.5 0V7.5a3.76 3.76 0 0 0 3.748 3.75 3.76 3.76 0 0 0 3.752-3.748V.75a.75.75 0 0 0-1.5 0m6.75 15.75h3c1.183.046 2.203-.9 2.25-2.111a2 2 0 0 0 0-.168c-.25-6.672-.828-9.78-3.231-13.533a1.508 1.508 0 0 0-2.77.81V23.25a.75.75 0 0 0 1.5 0V1.503c0 .003.001 0 .003 0l.008.002c2.21 3.45 2.75 6.354 2.99 12.773v.053a.696.696 0 0 1-.721.67L15.749 15a.75.75 0 0 0 0 1.5"}))}},"1424d033":(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a("ead71eb0");const r=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px"},i.createElement("path",{d:"M15 8.25a3 3 0 1 1-6 0 3 3 0 0 1 6 0m1.5 0a4.5 4.5 0 1 0-9 0 4.5 4.5 0 0 0 9 0M12 1.5a6.75 6.75 0 0 1 6.75 6.75c0 2.537-3.537 9.406-6.75 14.25-3.214-4.844-6.75-11.713-6.75-14.25A6.75 6.75 0 0 1 12 1.5M12 0a8.25 8.25 0 0 0-8.25 8.25c0 2.965 3.594 9.945 7 15.08a1.5 1.5 0 0 0 2.5 0c3.406-5.135 7-12.115 7-15.08A8.25 8.25 0 0 0 12 0"}))}},"1c0fcf2b":(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a("ead71eb0");const r=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px"},i.createElement("path",{d:"M4.5 8.911h3l-.75-.75v9l.75-.75h-3l.75.75v-9zm0-1.5a.75.75 0 0 0-.75.75v9c0 .414.336.75.75.75h3a.75.75 0 0 0 .75-.75v-9a.75.75 0 0 0-.75-.75zm6 1.5h3l-.75-.75v9l.75-.75h-3l.75.75v-9zm0-1.5a.75.75 0 0 0-.75.75v9c0 .414.336.75.75.75h3a.75.75 0 0 0 .75-.75v-9a.75.75 0 0 0-.75-.75zm6 1.5h3l-.75-.75v9l.75-.75h-3l.75.75v-9zm0-1.5a.75.75 0 0 0-.75.75v9c0 .414.336.75.75.75h3a.75.75 0 0 0 .75-.75v-9a.75.75 0 0 0-.75-.75zm4.5 12H3l.75.75v-2.25h16.5v2.25zm0 1.5a.75.75 0 0 0 .75-.75v-2.25a1.5 1.5 0 0 0-1.5-1.5H3.75a1.5 1.5 0 0 0-1.5 1.5v2.25c0 .414.336.75.75.75zm-19.5 3h21a.75.75 0 0 0 0-1.5h-21a.75.75 0 0 0 0 1.5m0-3h21a.75.75 0 0 0 0-1.5h-21a.75.75 0 0 0 0 1.5m18.75-15.75v2.25H3.75v-2.25l-.415.67L12 1.5l8.665 4.332zm1.5 0a.75.75 0 0 0-.415-.67L12.67.157a1.5 1.5 0 0 0-1.34 0L2.666 4.49a.75.75 0 0 0-.415.671v2.25a1.5 1.5 0 0 0 1.5 1.5h16.5a1.5 1.5 0 0 0 1.5-1.5v-2.25zM3 5.911h18a.75.75 0 0 0 0-1.5H3a.75.75 0 0 0 0 1.5"}))}},"5a9673bb":(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a("ead71eb0");const r=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px"},i.createElement("path",{d:"m9.22 13.718-9 9a.75.75 0 1 0 1.06 1.06l9-9a.75.75 0 1 0-1.06-1.06M24 7.498V.748a.75.75 0 0 0-.75-.75H16.5a.75.75 0 0 0 0 1.5h6.75l-.75-.75v6.75a.75.75 0 0 0 1.5 0m-24 9v6.75c0 .414.336.75.75.75H7.5a.75.75 0 0 0 0-1.5H.75l.75.75v-6.75a.75.75 0 0 0-1.5 0M22.72.218l-9 9a.75.75 0 1 0 1.06 1.06l9-9a.75.75 0 0 0-1.06-1.06m-9 14.56 9 9a.75.75 0 1 0 1.06-1.06l-9-9a.75.75 0 1 0-1.06 1.06M1.5 7.498V.748l-.75.75H7.5a.75.75 0 0 0 0-1.5H.75a.75.75 0 0 0-.75.75v6.75a.75.75 0 0 0 1.5 0m21 9v6.75l.75-.75H16.5a.75.75 0 0 0 0 1.5h6.75a.75.75 0 0 0 .75-.75v-6.75a.75.75 0 0 0-1.5 0M.22 1.278l9 9a.75.75 0 1 0 1.06-1.06l-9-9a.75.75 0 1 0-1.06 1.06"}))}},"8c1b86b7":(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a("ead71eb0");const r=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px"},i.createElement("path",{d:"M19.5 1.5v6h-15v-6h2.25v.75a2.25 2.25 0 0 0 4.5 0V1.5h1.5v.75a2.25 2.25 0 0 0 4.5 0V1.5zm0-1.5h-2.25a1.5 1.5 0 0 0-1.5 1.5v.75a.75.75 0 0 1-1.5 0V1.5a1.5 1.5 0 0 0-1.5-1.5h-1.5a1.5 1.5 0 0 0-1.5 1.5v.75a.75.75 0 0 1-1.5 0V1.5A1.5 1.5 0 0 0 6.75 0H4.5A1.5 1.5 0 0 0 3 1.5v6A1.5 1.5 0 0 0 4.5 9h15A1.5 1.5 0 0 0 21 7.5v-6A1.5 1.5 0 0 0 19.5 0M4.504 8.175l-1.5 15A.75.75 0 0 0 3.75 24h16.5a.75.75 0 0 0 .746-.825l-1.5-15a.75.75 0 0 0-.746-.675H5.25a.75.75 0 0 0-.746.675m1.492.15L5.25 9h13.5l-.746-.675 1.5 15 .746-.825H3.75l.746.825zM14.25 22.5h-4.5l.75.75V18a1.5 1.5 0 0 1 3 0v5.25zm0 1.5a.75.75 0 0 0 .75-.75V18a3 3 0 1 0-6 0v5.25c0 .414.336.75.75.75zM.75 24h22.5a.75.75 0 0 0 0-1.5H.75a.75.75 0 0 0 0 1.5"}))}},cb670354:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a("ead71eb0");const r=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px","data-rtl-flip":"true"},i.createElement("path",{d:"M.75 4.5h16.34a3.5 3.5 0 1 0 0-1.5H.75a.75.75 0 0 0 0 1.5M20.5 1.75a2 2 0 1 1-2 2 2 2 0 0 1 2-2m2.75 17.75H9.46a3.5 3.5 0 0 0-6.83 0H.75a.75.75 0 0 0 0 1.5h1.88a3.5 3.5 0 0 0 6.83 0h13.79a.75.75 0 0 0 0-1.5m-17.2 2.75a2 2 0 1 1 2-2 2 2 0 0 1-2 2M23.25 11h-7.84a3.49 3.49 0 0 0-6.82 0H.75a.75.75 0 0 0 0 1.5h7.84a3.49 3.49 0 0 0 6.82 0h7.84a.75.75 0 0 0 0-1.5M12 13.75a2 2 0 1 1 2-2 2 2 0 0 1-2 2"}))}},"349a10b4":(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a("ead71eb0");const r=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px","data-rtl-flip":"true"},i.createElement("path",{d:"M10.28 15.22a.75.75 0 0 1 0 1.06l-4.5 4.5a.8.8 0 0 1-.24.16.73.73 0 0 1-.58 0 .8.8 0 0 1-.24-.16l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.22 3.22V3.75a.75.75 0 0 1 1.5 0v14.69l3.22-3.22a.75.75 0 0 1 1.06 0m13.5-7.5-4.5-4.5a.8.8 0 0 0-.28-.16.73.73 0 0 0-.58 0 .8.8 0 0 0-.24.16l-4.5 4.5a.75.75 0 1 0 1.06 1.06L18 5.56v14.69a.75.75 0 0 0 1.5 0V5.56l3.22 3.22a.75.75 0 0 0 1.06 0 .75.75 0 0 0 0-1.06"}))}},a79ff734:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a("ead71eb0");const r=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128",width:"50px"},i.createElement("path",{d:"M78 36c9.941 0 18-8.059 18-18S87.941 0 78 0 60 8.059 60 18s8.059 18 18 18m0-28c5.523 0 10 4.477 10 10s-4.477 10-10 10-10-4.477-10-10S72.477 8 78 8m28 36H91.77a20 20 0 0 1-7-1.26L69 36.84a60.78 60.78 0 0 0-53.19 4.9c-5.575 3.583-7.19 11.008-3.607 16.583A12 12 0 0 0 28.17 62.3 37.1 37.1 0 0 1 48.69 57l-14 27H22c-6.627 0-12 5.373-12 12s5.373 12 12 12h20a12 12 0 0 0 10.65-6.48l3.9-7.52 11.22 5.8 2.34 17.8A12 12 0 0 0 82 128q.789-.004 1.57-.1c6.57-.865 11.196-6.893 10.33-13.464v-.006l-2.61-19.8a20 20 0 0 0-10.65-15.19l-13.06-6.76 4.67-9 4.14 1.54A43.5 43.5 0 0 0 91.78 68H106c6.627 0 12-5.373 12-12s-5.373-12-12-12m0 16H91.79a35.7 35.7 0 0 1-12.6-2.29l-7.47-2.79a4 4 0 0 0-5 1.91l-8.08 15.73A4 4 0 0 0 60.35 78L77 86.54a12 12 0 0 1 6.4 9.13l2.6 19.81a4 4 0 0 1-3.47 4.52q-.265.015-.53 0a4 4 0 0 1-4-3.46l-2.57-19.85a4 4 0 0 0-2.13-3l-16.62-8.6a4 4 0 0 0-5.39 1.71l-5.74 11.06A4 4 0 0 1 42 100H22a4 4 0 0 1 0-8h15.13a4 4 0 0 0 3.55-2.16l17.79-34.31a4 4 0 0 0-2.82-5.78 45.2 45.2 0 0 0-31.57 5.67 4.002 4.002 0 1 1-4.14-6.85 52.79 52.79 0 0 1 46.22-4.24L82 50.24A27.7 27.7 0 0 0 91.77 52H106a4 4 0 0 1 0 8"}))}},"8b362ef2":(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a("ead71eb0");const r=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px"},i.createElement("path",{d:"M20.25 14.25a8.25 8.25 0 1 1-16.5 0 8.25 8.25 0 0 1 16.5 0m1.5 0c0-5.385-4.365-9.75-9.75-9.75s-9.75 4.365-9.75 9.75S6.615 24 12 24s9.75-4.365 9.75-9.75m-3.22-6.22 1.875-1.875a.75.75 0 0 0-1.06-1.06L17.47 6.97a.75.75 0 0 0 1.06 1.06m.44-2.25.75.75a.75.75 0 1 0 1.06-1.06l-.75-.75a.75.75 0 1 0-1.06 1.06m-6.22-.53V.75a.75.75 0 0 0-1.5 0v4.5a.75.75 0 0 0 1.5 0M14.25 0h-4.5a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5m-1.694 14.497-3.75-4.15a.75.75 0 0 0-1.113 1.005l3.75 4.15a.75.75 0 0 0 1.114-1.005z"}))}},"055f0fb2":(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a("ead71eb0");const r=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px"},i.createElement("path",{d:"M16.5 3.75a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m1.5 0a3 3 0 1 0-6 0 3 3 0 0 0 6 0m-10.5 15a3 3 0 1 1-6 0 3 3 0 0 1 6 0m1.5 0a4.5 4.5 0 1 0-9 0 4.5 4.5 0 0 0 9 0m13.5 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0m1.5 0a4.5 4.5 0 1 0-9 0 4.5 4.5 0 0 0 9 0m-12 .75a.75.75 0 0 1-.75-.75 6.73 6.73 0 0 0-3.642-5.994.75.75 0 0 1-.167-1.207l4.043-3.842a.75.75 0 0 1 1.187.208c.062.116.143.252.263.429.197.289.429.577.697.848.8.809 1.758 1.308 2.869 1.308a.75.75 0 0 1 0 1.5 5.56 5.56 0 0 1-4.137-1.966.75.75 0 0 0-1.089-.058l-1.452 1.38a.75.75 0 0 0 .031 1.116 8.22 8.22 0 0 1 2.897 6.277.75.75 0 0 1-.75.751m0 1.5a2.25 2.25 0 0 0 2.25-2.25 9.72 9.72 0 0 0-3.425-7.421l.03 1.114 1.453-1.38-1.089-.059a7.07 7.07 0 0 0 5.268 2.496A2.25 2.25 0 1 0 16.5 9c-.656 0-1.26-.315-1.803-.863a4.6 4.6 0 0 1-.695-.914 2.25 2.25 0 0 0-3.552-.604l-4.043 3.842a2.25 2.25 0 0 0 .51 3.626 5.24 5.24 0 0 1 2.833 4.662A2.25 2.25 0 0 0 12 21"}))}},"0442d256":(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a("ead71eb0");const r=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px"},i.createElement("path",{d:"M18 17a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m1.5 0a2.25 2.25 0 1 0-4.5 0 2.25 2.25 0 0 0 4.5 0M6 17a.75.75 0 1 1-1.5 0A.75.75 0 0 1 6 17m1.5 0A2.25 2.25 0 1 0 3 17a2.25 2.25 0 0 0 4.5 0m8.25-.75h-9a.75.75 0 0 0 0 1.5h9a.75.75 0 0 0 0-1.5m-12 0h-1.5a.75.75 0 0 1-.75-.75V14a2.25 2.25 0 0 1 2.25-2.25.75.75 0 0 0 .67-.415l1.836-3.67a.75.75 0 0 1 .67-.415h7.901a.75.75 0 0 1 .671.415l1.83 3.67a.75.75 0 0 0 .672.415h2.25A2.25 2.25 0 0 1 22.5 14v1.5a.75.75 0 0 1-.75.75h-3a.75.75 0 0 0 0 1.5h3A2.25 2.25 0 0 0 24 15.5V14a3.75 3.75 0 0 0-3.75-3.75H18l.671.415-1.83-3.67a2.25 2.25 0 0 0-2.014-1.245h-7.9a2.25 2.25 0 0 0-2.013 1.244l-1.835 3.67.671-.414A3.75 3.75 0 0 0 0 14v1.5a2.25 2.25 0 0 0 2.25 2.25h1.5a.75.75 0 0 0 0-1.5m14.25-6H3.75a.75.75 0 0 0 0 1.5H18a.75.75 0 0 0 0-1.5"}))}},"6666266d":(e,t,a)=>{"use strict";a.d(t,{q:()=>u});var i=a("b4083f42"),r=(a("ead71eb0"),a("1d890cd5")),n=a.n(r),s=a("a590b133"),o=a("45ccbd8e"),l=a("6222292b"),c=a("6790ce78"),d=a.n(c);const u=e=>{let{marginTop:t="none",warningBanners:a=[]}=e;const r=(0,o.y)(_);return a.length?(0,i.tZ)(s.R,{margin:[t,"none","none","none"],"data-testid":"alert-banner-stack"},a.filter((e=>"ATTRACTIONS_UFI_BANNER"===e.variant)).map((e=>(0,i.tZ)("div",{css:r.alertBanner,key:`${e.type}-${d()(e.title)}`},"ERROR"===e.type?(0,i.tZ)(n(),{title:e.title,variant:"error",inline:!1},e.content):(0,i.tZ)(l.Banner,{title:e.title,variant:"callout",dismissible:!1},e.content))))):null},_=e=>(0,o.k)({alertBanner:{marginBottom:e.units.spacing_4x}})},"2438bcaf":(e,t,a)=>{"use strict";a.d(t,{VP:()=>r,yo:()=>s,ze:()=>n});var i=a("28dbd132");const r=e=>{var t,a;return!(null===(t=e.duration)||void 0===t||!t.label)&&!(null!==(a=e.typicalDuration)&&void 0!==a&&a.label)},n=(e,t,a,n)=>{if(!r(e))return;const s={city:3,searchresults:1,ticket:2};switch(t){case"click":(0,i.trackCustomGoal)(i.exp`HWAFNHUYbIeIPNQBWbSaKAZfAC`,1),(0,i.trackCustomGoal)(i.exp`HWAFNHUYbIeIPNQBWbSaKAZfAC`,1+s[a]);break;case"view":(0,i.trackExperimentStage)(i.exp`HWAFNHUYbIeIPNQBWbSaKAZfAC`,3),(0,i.trackExperimentStage)(i.exp`HWAFNHUYbIeIPNQBWbSaKAZfAC`,n?5:4),(0,i.trackExperimentStage)(i.exp`HWAFNHUYbIeIPNQBWbSaKAZfAC`,5+s[a])}},s=e=>{if(!e)return;const t=e.some(r);(0,i.trackExperimentStage)(i.exp`HWAFNHUYbIeIPNQBWbSaKAZfAC`,1),t&&(0,i.trackExperimentStage)(i.exp`HWAFNHUYbIeIPNQBWbSaKAZfAC`,2)}},e308cac8:(e,t,a)=>{"use strict";a.d(t,{C:()=>n,T:()=>s});var i=a("28dbd132");const r=i.exp`HWAFYTbRSdWTNUSfCSRBRT`,n=(e,t,a)=>{var n;if(null===(n=e.offers)||void 0===n?void 0:n.some((e=>{var t;return null===(t=e.items)||void 0===t?void 0:t.some((e=>e.tieredPricing))})))switch((0,i.trackExperimentStage)(r,2),(0,i.trackExperimentStage)(r,t?3:4),a){case"searchresults":(0,i.trackExperimentStage)(r,5);break;case"city":(0,i.trackExperimentStage)(r,6);break;case"ticket":(0,i.trackExperimentStage)(r,7)}},s=(e,t)=>{var a;(null===(a=e.offers)||void 0===a?void 0:a.some((e=>{var t;return null===(t=e.items)||void 0===t?void 0:t.some((e=>e.tieredPricing))})))&&(0,i.trackCustomGoal)(r,"ticket"===t?2:1)}},d33a9817:(e,t,a)=>{"use strict";a.d(t,{i4:()=>Se,l3:()=>Te,U0:()=>Ee,_U:()=>Fe});var i=a("ead71eb0"),r=a.n(i),n=a("aef1fcb8"),s=a("28dbd132"),o=a("2fe2e183"),l=a("ff4048bc"),c=a("e357ae41"),d=a("a88d9cf2"),u=a("421f0856"),_=a("a0585de1"),p=a("9d2cb845"),g=a("7b5b6285"),m=a("b4083f42"),f=a("c44dcb0c"),b=a("9a67ad93"),h=a("74ac0209"),v=a("45ccbd8e"),y=a("3d054e81"),x=a("6222292b");const k=e=>{const{cityName:t,inCityName:a,text:i}=e,{translate:r}=(0,f.useTranslations)(),n=(0,v.y)(C);let s=i;return s||(s=t&&a?r("attractions_lf_sr_pp_bestseller_in_cityname",{variables:{city_name:t,in_city_name:a}}):r("attractions_lf_sr_pp_bestseller_in_this_location")),(0,m.tZ)("div",{css:n.Ribbon},(0,m.tZ)(x.Tooltip,{text:r("attractions_lf_sr_pp_bestseller_tooltip")},(e=>(0,m.tZ)("div",e,s))))},C=e=>(0,v.k)({Ribbon:{background:e.colors.color_brand_primary_background,borderRadius:e.units.border_radius_100,borderBottomLeftRadius:0,color:e.colors.color_white,fontSize:e.fonts.medium.font_small_1.fontSize,padding:`${e.units.spacing_half} ${e.units.spacing_1x}`,position:"absolute",left:`-${e.units.spacing_1x}`,top:e.units.spacing_1x,"&::after":{borderTop:"4px solid #001737",borderLeft:"4px solid transparent",content:'""',display:"table",height:4,width:4,position:"absolute",left:0,top:"100%"},"[dir=rtl] &":{borderBottomLeftRadius:e.units.border_radius_100,borderBottomRightRadius:0,left:"auto",right:`-${e.units.spacing_1x}`,"&::after":{borderRight:"4px solid transparent",borderLeft:"none",left:"auto",right:0}}}});var w=a("f57825c1"),Z=a("9f694d85");const S=e=>{var t,a,i,r;return{small:{x:(null===e||void 0===e||null===(t=e.small)||void 0===t?void 0:t.x)||16,y:(null===e||void 0===e||null===(a=e.small)||void 0===a?void 0:a.y)||12},large:{x:(null===e||void 0===e||null===(i=e.large)||void 0===i?void 0:i.x)||16,y:(null===e||void 0===e||null===(r=e.large)||void 0===r?void 0:r.y)||16}}},T=e=>({small:!(null===e||void 0===e||!e.small),large:!(null===e||void 0===e||!e.large)});var A=a("8cf3c84b");const F=e=>{const{bestSellerDisplayType:t="badge",cardIndex:a,cityName:r,flags:n,imageMargin:s,images:o,inCityName:l,padding:d,pictureBleed:u,pictureLayout:_="default",pointerIntersectsCard:p,zoomImageOnHover:g,previewButton:h,imageGalleryContainerAttributes:x,imageGalleryContainerClassName:C,onClick:S,className:T}=e,[F,O]=(0,b.YD)({rootMargin:"180px",triggerOnce:!0}),{translate:P}=(0,f.useTranslations)(),{isSmallViewport:B,isLargeViewport:I,width:L}=(0,Z.T1)(),D=(0,A.N)(L,300),R=(0,c.j)(w.K.bestseller,n),V=null===o||void 0===o?void 0:o[0],M=(0,i.useMemo)((()=>R&&"ribbon"===t?(0,m.tZ)(k,{cityName:r,inCityName:l,text:P("attr_product_page_best_seller_tag")}):null),[R,t,r,l,P]),N=(0,i.useMemo)((()=>{const t=D&&D<320?80:e.pictureSize||100;return{height:"fullWidth"===_?210:"fullHeight"===_?"100%":t,width:"fullWidth"===_?"100%":t}}),[D,_,e.pictureSize]),G=(0,i.useMemo)((()=>B?null!==d&&void 0!==d&&d.small&&d.small.x>4?"200":"100":null!==d&&void 0!==d&&d.large&&d.large.x>4?"200":"100"),[B,d]),U=(0,v.y)(H({imageMargin:s,pictureBleed:u,pictureBorderRadius:G,pictureSize:N})),Y=(0,i.useMemo)((()=>({fullWidth:e=>(0,m.tZ)("div",{css:[U.Image,U.Image__fullWidth,I&&p&&g&&U.Image__zoomOnHover,"",""],key:`${e}_fW`},(0,m.tZ)("div",{css:U.Image__background,style:{...E(a,O)&&{backgroundImage:`url(${e})`}}})),fullHeight:e=>(0,m.tZ)("div",{css:U.Image,style:N,key:`${e}_fH`},(0,m.tZ)("div",{css:U.Image__background,style:{...E(a,O)&&{backgroundImage:`url(${e})`}}})),default:e=>(0,m.tZ)("div",{css:U.Image,key:`${e}_d`},E(a,O)&&(0,m.tZ)("img",{alt:"",css:U.Image,height:N.height,loading:W(a)?"lazy":"eager",src:e,width:N.width}))})),[a,I,O,N,p,U,g]),$=(0,i.useCallback)((e=>"fullHeight"===_?Y.fullHeight(e):"fullWidth"===_?Y.fullWidth(e):Y.default(e)),[_,Y]);return(0,m.tZ)("div",{css:[U.Container,"fullWidth"===_&&U.Container__fullWidth,"",""],onClick:S,className:T},(0,m.tZ)("div",(0,y.Z)({},x,{css:[U.ImageGalleryContainer,C,"",""]}),(0,m.tZ)("div",{css:U.Image__intersectionVisible,ref:F},(0,m.tZ)("div",{css:U.ImageGallery},V?$(V):null))),M,h)},E=(e,t)=>(0,s.trackExperiment)(s.exp`HWAFNJbaOLSaNFO`)?t:e<=6||t,W=e=>!!(0,s.trackExperiment)(s.exp`HWAFNJbaOLSaNFO`)&&e>=6,H=e=>{let{imageMargin:t,pictureBleed:a,pictureBorderRadius:i,pictureSize:r}=e;return e=>{const n=(e=>({small:(null===e||void 0===e?void 0:e.small)||16,large:(null===e||void 0===e?void 0:e.large)||16}))(t),s=T(a);return(0,v.k)({Container:{..."number"===typeof r.height&&{height:r.height},..."number"===typeof r.width&&{width:r.width},margin:`0 ${n.small}px 0 0`,position:"relative","[dir=rtl] &":{margin:`0 0 0 ${n.small}px`},[h.FU]:{...!s.small&&s.large&&{margin:0,"[dir=rtl] &":{margin:0}},...!s.large&&{margin:` 0 ${n.large}px 0 0`,"[dir=rtl] &":{margin:`0 0 0 ${n.large}px`}}}},Container__fullWidth:{...!s.small&&{margin:`0 0 ${n.small}px`},[h.FU]:{...!s.small&&s.large&&{margin:0,"[dir=rtl] &":{margin:0}},...!s.large&&{margin:`0 0 ${n.large}px`}}},ImageGalleryContainer:{background:`${e.colors.color_background_base_alt}`,...!s.small&&{borderRadius:e.units[`border_radius_${i}`]},height:r.height,overflow:"hidden",position:"relative",width:r.width,[h.FU]:{...s.small&&!s.large&&{borderRadius:e.units[`border_radius_${i}`]},...s.large&&{borderRadius:0}},transformOrigin:"bottom left"},ImageGallery:{height:r.height,width:r.width},Image:{display:"block",flexShrink:0,position:"relative",scrollSnapAlign:"start",scrollSnapStop:"always",transition:"transform linear .24s"},Image__intersectionVisible:{height:"100%"},Image__background:{backgroundSize:"cover",backgroundPosition:"center center",width:"100%",height:"100%",minHeight:124},Image__fullWidth:{height:210,minWidth:"100%"},Image__zoomOnHover:{transform:"scale(1.1)"}})}};var O=a("190b2600"),P=a("1277160c"),B=a("8b362ef2"),I=a("61227f07"),L=a("9b3b77b6"),D=a("e402f5dc"),R=a("6d85eadf"),V=a("f10a6b4d"),M=a("50dfd774");(0,a("5705b365").j)();var N=a("2488081c"),G=a("d7e898a0"),U=a("0bf59517"),Y=a("bca8c5c4"),$=a("826f1bad");const Q=e=>{const{duration:t,flags:a,hasDealOfTheMonth:n,hasFreeCancellation:o,hasBlackFridayDiscount:l,hasGeniusDiscount:c,hasSkipTheLine:d,hasGroupDiscount:u,priceDiscount:_,reviewsStats:p,showDiscountBadgeAbovePrice:g,showUnavailableDatesMessage:b,showSkipTheLine:h}=e,y=(()=>{const{translate:e}=(0,f.useTranslations)();return e("attr_web_deals_of_month_badge",{variables:{month:(new Date).getMonth()+1}})})(),{isSmallViewport:k}=(0,Z.T1)(),C=(0,v.y)(z),S=k?"small_1":"body_2",T=(0,M.nF)(p),A=(0,s.trackExperiment)(s.exp`HWAFYRcVFRURURYYYbIeIdKC`)&&(null===a||void 0===a?void 0:a.some((e=>e.flag===w.K.newProduct))),F=(0,s.trackExperiment)(s.exp`HWAFNQBSdVFdXUWcaAEUZC`),E=!!(0,s.trackExperiment)(s.exp`HWAFYTbRSdWTNUSfCSRBRT`),W=(0,i.useMemo)((()=>d?(0,m.tZ)("div",{css:C.MetaItem},(0,m.tZ)(x.Icon,{size:"smaller",svg:(0,m.tZ)(O.Z,null)}),(0,m.tZ)(x.Text,{css:C.MetaText},(0,m.tZ)(f.Trans,{tag:"attractions_lf_pp_skip_the_line"}))):null),[d,C.MetaItem,C.MetaText]),H=(0,i.useMemo)((()=>b||!t?null:(0,m.tZ)("div",{css:C.MetaItem},1===F?(0,m.tZ)(x.Icon,{svg:(0,m.tZ)(P.Z,null)}):(0,m.tZ)(x.Icon,{svg:(0,m.tZ)(B.Z,null)}),(0,m.tZ)(x.Text,{variant:S,css:C.MetaText},t))),[t,S,b,F,C.MetaItem,C.MetaText]),Q=(0,i.useMemo)((()=>T?(0,m.tZ)(G.D,{reviewsStats:p,css:C.MetaItem,iconSize:"small"}):null),[p,T,C.MetaItem]),K=(0,i.useMemo)((()=>b||!o?null:(0,m.tZ)("div",{css:C.MetaItem},1===F?(0,m.tZ)(x.Icon,{size:"smaller",svg:(0,m.tZ)(I.Z,null),color:"constructive"}):(0,m.tZ)(x.Icon,{svg:(0,m.tZ)(L.Z,null),color:"constructive"}),(0,m.tZ)(x.Text,{color:"constructive",variant:S,css:C.MetaText},(0,m.tZ)(f.Trans,{tag:"att_free_canc_usp"})))),[o,S,b,F,C.MetaItem,C.MetaText]),q=(0,i.useMemo)((()=>E&&u?(0,m.tZ)("div",{css:C.MetaItem},(0,m.tZ)(x.Icon,{svg:(0,m.tZ)(D.Z,null)}),(0,m.tZ)(x.Text,{variant:S,css:C.MetaText},(0,m.tZ)(f.Trans,{tag:"att_bp_group_discounts"}))):null),[u,S,E,C.MetaItem,C.MetaText]),J=(0,i.useMemo)((()=>g&&n?(0,m.tZ)("div",{css:C.MetaItem},(0,m.tZ)(x.Badge,{text:y,variant:c?"brand-genius-primary":"constructive"})):null),[y,n,c,g,C.MetaItem]),j=(0,i.useMemo)((()=>g||b||!_?null:(0,m.tZ)("div",{css:C.MetaItem},c&&(0,m.tZ)(N.Q,null),l&&(0,m.tZ)(Y.l,null),!g&&n&&(0,m.tZ)(x.Badge,{text:y,variant:c?"brand-genius-primary":"constructive"}),!g&&(0,m.tZ)(V.F,{discount:_,variant:c?"brand-genius-primary":void 0}))),[y,l,n,c,_,g,b,C.MetaItem]),X=(0,i.useMemo)((()=>A?(0,m.tZ)("div",{css:C.MetaItem},(0,m.tZ)(x.Badge,{text:(0,m.tZ)(f.Trans,{tag:"bhc_sr_new_to_bcom_badge",variables:{b_companyname:$.pB}}),variant:"accent"})):null),[A,C.MetaItem]),ee=(0,U.T)(a??[]),te=(0,i.useMemo)((()=>ee.length>0?(0,m.tZ)(w.k,{css:C.SecondaryBadgeMaxWidth,secondaryBadgesToDisplay:ee}):null),[ee,C.SecondaryBadgeMaxWidth]),ae=(0,i.useMemo)((()=>J||j||te||X?(0,m.tZ)(r().Fragment,null,J,j,te,X):null),[J,j,te,X]),ie=(0,i.useMemo)((()=>b?(0,m.tZ)("div",{css:C.MetaItem},(0,m.tZ)(x.Icon,{svg:(0,m.tZ)(R.Z,null),color:"destructive"}),(0,m.tZ)(x.Text,{color:"destructive",variant:S,css:C.MetaText},(0,m.tZ)(f.Trans,{tag:"attr_sr_pinned_not_ava"}))):null),[S,b,C.MetaItem,C.MetaText]);return(0,m.tZ)("div",{css:[C.Meta,F&&C.Meta__increasedSpacing,"",""]},0===F&&H,Q,K,q,1===F&&H,h&&W,ae,ie)},z=e=>(0,v.k)({Meta:{display:"flex",flexDirection:"column",gap:e.units.spacing_1x},Meta__increasedSpacing:{gap:e.units.spacing_2x},MetaItem:{display:"flex",alignItems:"flex-start",gap:e.units.spacing_1x},MetaText:{lineHeight:"16px !important"},SecondaryBadgeMaxWidth:{maxWidth:158}});var K=a("a6b472cf"),q=a("5799ed43"),J=a("45733827");const j=e=>{const{buildUrl:t}=(0,g.Z)(),{isSmallViewport:a}=(0,Z.T1)(),{translate:r}=(0,f.useTranslations)(),{availableFrom:n,padding:s,route:o,showAvailableFrom:l,showCallToAction:c,showDiscountBadgeAbovePrice:d,showPriceChevron:u,showDiscountPriceInRed:_,targetProps:p}=e,b=(0,v.y)(X({padding:s})),h=(e=>{const{translate:t}=(0,f.useTranslations)();if(!e)return;const a=new Date(e);let i;return i=(0,J.zk)(a)?t("attractions_disc_search_available_date_from_today"):(0,J.Pm)(a)?t("attractions_disc_search_available_date_from_tomorrow"):t("attractions_disc_search_available_date_tag",{variables:{date:(0,J.T8)(e,void 0,{month:"short",day:"numeric"})}}),i})(n),y=h?(0,m.tZ)(x.Text,{color:"neutral_alt",variant:"small_1"},h):null,k=(0,m.tZ)("div",{css:[b.PriceDiscountWrapper,_&&b.Price__mobileSpace,"",""]},!!e.price.discountPercentage&&d&&(0,m.tZ)("div",{css:b.Discount},e.price.hasBlackFridayDiscount?(0,m.tZ)(Y.l,null):null,e.price.hasGeniusDiscount?(0,m.tZ)(N.Q,null):null,(0,m.tZ)(V.F,{discount:e.price.discountPercentage,variant:e.price.hasGeniusDiscount?"brand-genius-primary":void 0})),a&&l&&y,(0,m.tZ)("div",{css:[b.PriceChevronWrapper,u&&b.PriceChevronWrapper__withChevron,"",""]},(0,m.tZ)(q.t,{price:e.price.price,originalPrice:e.price.originalPrice,priceIsAStartingPrice:!0,showDiscountPriceInRed:_}),u&&(0,m.tZ)(x.Icon,{svg:(0,m.tZ)(K.Z,null),color:"neutral",size:"medium"})),!a&&l&&y),C=(0,i.useMemo)((()=>(0,m.tZ)(x.Button,{attributes:{...p,"data-link-type":"cta"},css:b.Button,href:t(o),icon:(0,m.tZ)(K.Z,null),iconPosition:"end",text:r("attr_sr_see_availability_cta"),variant:"secondary"})),[t,o,b,r,p]);return(0,m.tZ)("div",{css:[b.ButtonWrapper,a&&b.ButtonWrapper__mobile,"",""]},k,c?(0,m.tZ)("div",{css:b.DesktopOnly},C):null)},X=e=>{let{padding:t}=e;return e=>{const a=S(t),i=a.small.x>4?a.small.x/2:a.small.x,r=a.large.x>4?a.large.x/2:a.large.x;return(0,v.k)({PriceDiscountWrapper:{display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"flex-end",gap:e.units.spacing_1x},Price__mobileSpace:{[h.gp]:{marginInlineEnd:e.units.spacing_2x}},PriceChevronWrapper:{display:"flex",alignItems:"center",gap:e.units.spacing_half},PriceChevronWrapper__withChevron:{margin:`0 -${i}px 0 0`,"[dir=rtl] &":{margin:`0 0 0 -${i}px`},[h.FU]:{margin:`0 -${r}px 0 0`,"[dir=rtl] &":{margin:`0 0 0 -${r}px`}}},Discount:{display:"flex",flexWrap:"wrap",gap:e.units.spacing_1x,justifyContent:"flex-end"},Button:{whiteSpace:"nowrap","[dir=rtl] & svg":{transform:"scale(-1, -1)"}},ButtonWrapper:{display:"flex",alignItems:"flex-end",flexDirection:"column",gap:e.units.spacing_2x,alignSelf:"end"},ButtonWrapper__mobile:{width:"100%"},DesktopOnly:{[h.gp]:{display:"none"}}})}};var ee=a("98553a92"),te=a("3f5449ae"),ae=a("4e4a7a66");const ie=e=>{const t=e.titleTagName||"h3",a=(0,v.y)(re),i=(0,m.iv)(a.Header,"large"===e.fontSize&&a.Header__fontSizeLarge,e.showWishlistWidget&&a.Header__wishlistSpacing,"","");return(0,m.tZ)(t,{css:i,"data-testid":"card-title"},(0,m.tZ)(ae.Z,(0,y.Z)({attributes:{"data-link-type":"title"},css:a.Link,noHover:!0},e.route,e.targetProps,{style:{fontWeight:700}}),e.title))},re=e=>(0,v.k)({Header:{...e.fonts.medium.font_strong_1,marginTop:0,marginBottom:0,overflow:"hidden",textOverflow:"ellipsis"},Header__fontSizeLarge:{[h.FU]:{...e.fonts.medium.font_headline_3}},Header__wishlistSpacing:{padding:`0 ${e.units.spacing_12x} 0 0`,"[dir=rtl] &":{padding:`0 0 0 ${e.units.spacing_12x}`},[h.FU]:{padding:`0 ${e.units.spacing_6x} 0 0`,"[dir=rtl] &":{padding:`0 0 0 ${e.units.spacing_6x}`}}},Link:{borderRadius:e.units.border_radius_100,color:e.colors.color_foreground,fontWeight:700}});var ne=a("ea27e99f"),se=a("034e4b9a");const oe=e=>{var t;const{isLargeViewport:a}=(0,Z.T1)(),{translate:r}=(0,f.useTranslations)(),{trackSponsoredDetailsViewed:n}=(0,se.T)(),{bestSellerDisplayType:s="badge",cityName:o,distances:l,flags:d,id:u,inCityName:_,isSavedInWishlist:p,padding:g,pictureBleed:b,pictureLayout:h,pictureSize:y,route:x,showDescription:k,showDistanceToStay:C,showSponsorshipDetails:S,showWishlistWidget:T,sponsoredByName:A,targetProps:F,text:E,title:W,fontSize:H,titleTagName:O,bestsellerBadgeClassName:P}=e,B=(0,v.y)(le({padding:g,pictureBleed:b,pictureSize:y})),I=(0,c.j)(w.K.bestseller,d),L=(0,m.iv)(B.Description,B.DesktopOnly,"",""),D=null===l||void 0===l||null===(t=l.distanceToAccommodation)||void 0===t?void 0:t.distanceDescription;return(0,m.tZ)("div",{css:B.TextWrapper},S&&A&&(0,m.tZ)(ne.r,{supplierName:A,onView:()=>n()}),(0,m.tZ)(ie,{route:x,targetProps:F,title:W,fontSize:H,showWishlistWidget:T,titleTagName:O}),T&&(0,m.tZ)("div",{css:[B.WishlistWidget,"fullWidth"===h&&B["WishlistWidget--fullWidth"],"",""]},(0,m.tZ)(ee.A,{attractionId:u,page:"searchresults",totalWishlistCount:p?1:0})),(0,m.tZ)("div",{css:B.TitleMeta},(0,m.tZ)("div",{css:B.TitleMetaCityInfo},e.cityName,C&&D&&(0,m.tZ)(i.Fragment,null,(0,m.tZ)(i.Fragment,null," \xb7 "),D)),I&&"badge"===s&&(0,m.tZ)("div",{css:"fullHeight"!==h||a?void 0:B.BestSellerBadgeAbsolutePosition},(0,m.tZ)(te.P,{cityName:o,inCityName:_,rank:I||1,text:r("att_lf_bestselling_att_by_ranking_num",{variables:{rank:I}}),css:[B.BestSellerBadge,P,"",""]}))),k&&(0,m.tZ)("div",{css:L},E))},le=e=>{let{padding:t,pictureBleed:a,pictureSize:i}=e;return e=>{const r=(e=>{let{padding:t,pictureBleed:a,pictureSize:i}=e;const r=S(t),n=T(a).large?{x:0,y:0}:r.large;return{default:{x:i-36-8+n.x,y:8+n.y},fullWidth:{x:16+n.x,y:16+n.y}}})({padding:t,pictureBleed:a,pictureSize:i});return(0,v.k)({TextWrapper:{marginBottom:e.units.spacing_2x,maxWidth:"100%",[h.FU]:{display:"flex",flexDirection:"column",gap:e.units.spacing_1x,marginBottom:e.units.spacing_3x}},TitleMeta:{...e.fonts.medium.font_body_2,color:e.colors.color_foreground_alt,display:"flex",gap:e.units.spacing_2x},TitleMetaCityInfo:{display:"flex",gap:e.units.spacing_1x},Description:{...e.fonts.medium.font_body_2,color:e.colors.color_foreground},BestSellerBadgeAbsolutePosition:{position:"absolute",left:e.units.spacing_2x,top:e.units.spacing_2x,"[dir=rtl] &":{left:"inherit",right:e.units.spacing_2x}},BestSellerBadge:{maxWidth:116,[h.FU]:{maxWidth:"unset"}},DesktopOnly:{[h.gp]:{display:"none"}},DistanceToPointDescription:{"::before":{content:'"\\B7"',margin:`0 ${e.units.spacing_1x} 0 0`,"[dir=rtl] &":{margin:`0 0 0 ${e.units.spacing_1x}`}}},WishlistWidget:{position:"absolute",top:0,right:0,"[dir=rtl] &":{left:0,right:"auto"},[h.FU]:{top:r.default.y,left:r.default.x,right:"auto","[dir=rtl] &":{left:"auto",right:r.default.x}}},"WishlistWidget--fullWidth":{[h.FU]:{top:r.fullWidth.y,right:r.fullWidth.x,left:"auto","[dir=rtl] &":{left:r.fullWidth.x,right:"auto"}}}})}};var ce=a("a8577192"),de=a("5a9673bb"),ue=a("5a887cbf"),_e=a("abe1c127");const pe=()=>{const e=(0,v.y)(ge),{translate:t}=(0,f.useTranslations)();return(0,m.tZ)("div",{"aria-hidden":!0,css:e.ShowAll},(0,m.tZ)(x.Icon,{svg:(0,m.tZ)(_e.Z,null),color:"white",size:"small"}),(0,m.tZ)(x.Text,{variant:"small_1"},t("att_uf_see_all_attr_cta")))},ge=e=>(0,v.k)({ShowAll:{alignItems:"center",background:"rgba(0, 0, 0, .5)",color:e.colors.color_white,display:"flex",flexDirection:"column",gap:e.units.spacing_1x,justifyContent:"center",position:"absolute",bottom:0,left:0,right:0,top:0}}),me=e=>{const{overlayContentAttributes:t,overlayContentClassName:a,active:n,onOpen:o,onClose:l,onViewProduct:c,images:d,price:u,viewAvClassName:_,title:p,className:g}=e,b=(0,v.y)(fe),h=(0,i.useRef)(),{isLargeViewport:k}=(0,Z.T1)(),C=!!(0,s.trackExperiment)(s.exp`HWAFYTbUdCMVJYOcOOIBBO`)&&!k,w=C?d.length:4,S=(0,i.useMemo)((()=>{const e=k?"gallery":"hereProductPageMobile";return d.slice(0,w).map((t=>(0,ue.tg)(t,e)))}),[d,w,k]),{translate:T}=(0,f.useTranslations)(),[A,F]=(0,i.useState)(0),E=(0,i.useRef)(0),W=()=>{if(!(S.length>1))return;const e=Math.round((E.current+1)/S.length*100);k?(0,s.trackGoalWithValue)("js_attr_sr_preview_gallery_pct_scroll_ddot",e):(0,s.trackGoalWithValue)("js_attr_sr_preview_gallery_pct_scroll_mdot",e)};return(0,m.tZ)(r().Fragment,null,(0,m.tZ)(x.Actionable,{onClick:e=>{k?(0,s.trackGoalWithValue)("js_attr_sr_preview_maximize_click_ddot",1):(0,s.trackGoalWithValue)("js_attr_sr_preview_maximize_click_mdot",1),e.stopPropagation(),null===o||void 0===o||o()},css:b.Maximize,className:g,ariaLabel:T("a11y_attractions_uf_search_label_preview")},(0,m.tZ)(x.Icon,{svg:(0,m.tZ)(de.Z,null),color:"white",size:"small"})),(0,m.tZ)(x.Overlay,{active:n,lockClose:!1,onCloseTrigger:l,onAfterOpen:()=>{var e;null===(e=h.current)||void 0===e||null===(e=e.querySelector("ul"))||void 0===e||e.focus()},onOpen:()=>{E.current=0,F(0)},onClose:W,attributes:{onClick:e=>{e.stopPropagation()}}},(e=>{let{active:i}=e;i&&!k&&((0,s.trackExperimentStage)(s.exp`HWAFYTbUdCMVJYOcOOIBBO`,1),d.length>4&&(0,s.trackExperimentStage)(s.exp`HWAFYTbUdCMVJYOcOOIBBO`,2));const r=u.originalPrice!==u.price,n=(0,m.tZ)("span",{css:b.PriceDescription},(0,m.tZ)(x.Text,{color:"white",tagName:"span",variant:"small_1"},T("att_sr_price_from")),(0,m.tZ)(x.Text,{color:"white",tagName:"span",variant:"strong_2"},u.price),r&&(0,m.tZ)(x.Text,{color:"white",tagName:"span",variant:"small_1",decoration:"line-through"},u.originalPrice)),o=(0,m.tZ)(x.Button,{onClick:()=>{k?(0,s.trackGoalWithValue)("js_attr_sr_preview_view_av_click_ddot",1):(0,s.trackGoalWithValue)("js_attr_sr_preview_view_av_click_mdot",1),W();null===c||void 0===c||c({imageIdxToFocus:k?-1:A,shouldFocusTicketSelector:!0})},css:[b.ViewAvCta,_,"",""],variant:"secondary",size:"medium",text:T("attr_sr_see_availability_cta"),icon:(0,m.tZ)(K.Z,null),iconPosition:"end"});return(0,m.tZ)("div",{css:b.OverlayContent},(0,m.tZ)("div",(0,y.Z)({},t,{css:[b.SliderContainer,a,"",""]}),(0,m.tZ)(x.Button,{onClick:l,icon:(0,m.tZ)(ce.Z,null),css:b.SliderContainerCloseButton,variant:"elevated",size:"medium",attributes:{"aria-label":T("close")}}),(0,m.tZ)(x.SliderContainer,{variant:"media",infinite:!1,navigationControlsVisibility:"hover",previousButtonAriaLabel:T("a11y_aria_label_carousel_previous"),nextButtonAriaLabel:T("a11y_aria_label_carousel_next_previous"),css:b.Slider,borderRadius:300,onAfterNavigate:e=>{E.current=Math.max(E.current,e.index),F(e.index)},attributes:{ref:h}},S.map(((e,t)=>{const a=t===S.length-1,i=d.length>S.length;return(0,m.tZ)(x.SliderContainer.Item,{key:t,src:C?void 0:e},C&&(0,m.tZ)(x.Image,{src:e}),a&&i&&(0,m.tZ)(x.Actionable,{onClick:()=>{k?(0,s.trackGoalWithValue)("js_attr_sr_preview_view_all_click_ddot",1):(0,s.trackGoalWithValue)("js_attr_sr_preview_view_all_click_mdot",1),W(),null===c||void 0===c||c({imageIdxToFocus:t})},css:b.ShowAllOverlay,attributes:{tabIndex:-1}},(0,m.tZ)(pe,null)))}))),(0,m.tZ)(x.Scrim,{position:"bottom",css:b.Scrim},(0,m.tZ)(m.ms,null,(e=>{let{css:t}=e;return(0,m.tZ)("div",{css:b.ScrimContent},(0,m.tZ)("div",{css:b.ScrimContentText},(0,m.tZ)(x.Title,{variant:"strong_1",color:"inherit",css:b.PreviewTitle,titleClassName:t(b.PreviewTitleTitle),title:p,subtitle:n}),k&&o),(0,m.tZ)(x.PaginationIndicator,{css:b.ScrimContentPaginationIndicator,variant:"white",total:S.length,activeIndex:A}))})))),!k&&o)})))},fe=e=>(0,v.k)({Maximize:{alignItems:"center",borderRadius:e.units.border_radius_100,color:e.colors.color_white,display:"flex",justifyContent:"center",padding:e.units.spacing_1x,position:"absolute",insetBlockEnd:e.units.spacing_1x,insetInlineStart:e.units.spacing_1x,background:"rgba(26, 26, 26, 0.5)"},ViewAvCta:{[h.gp]:{marginBlockStart:"14px"},[h.FU]:{flexGrow:0,flexShrink:0},boxShadow:e.shadows.shadow_100,pointerEvents:"all"},OverlayContent:{transformOrigin:"bottom left",display:"flex",flexDirection:"column",alignItems:"center"},ShowAllOverlay:{width:"100%",height:"100%","&:focus":{zIndex:0}},Scrim:{"& *":{pointerEvents:"none"}},ScrimContent:{display:"flex",flexDirection:"column",pointerEvents:"none"},ScrimContentText:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:e.units.spacing_4x},ScrimContentPaginationIndicator:{marginBlockStart:e.units.spacing_2x,marginInline:"auto"},SliderContainer:{transformOrigin:"bottom left",position:"relative",borderRadius:e.units.spacing_4x,overflow:"hidden",boxShadow:e.shadows.shadow_200},Slider:{height:"min(min(90vw, calc(100vh - 50px - 16px)), 500px)",width:"min(min(90vw, calc(100vh - 50px - 16px)), 500px)",[h.FU]:{height:"min(calc(50vw * 10 / 16), calc(756px * 10 / 16))",width:"min(50vw, 756px)"},'& > div[aria-hidden="true"]':{display:"none"}},SliderContainerCloseButton:{insetBlockStart:e.units.spacing_2x,insetInlineEnd:e.units.spacing_2x,position:"absolute",zIndex:"var(--bui_z_index_4)"},PreviewTitle:{insetBlockEnd:"18px",insetInlineStart:"0px",color:e.colors.color_foreground_inverted,pointerEvents:"none"},PreviewTitleTitle:{display:"-webkit-box",WebkitLineClamp:2,lineClamp:2,WebkitBoxOrient:"vertical",boxOrient:"vertical",textOverflow:"ellipsis",overflow:"hidden"},PriceDescription:{display:"flex",gap:e.units.spacing_1x,alignItems:"baseline"}});var be=a("96c28170");const he=e=>{const{availableFrom:t,bestSellerDisplayType:a="badge",bleedOnMobile:r,cityName:n,duration:o,flags:l,fontSize:c,hasDealOfTheMonth:u,hasFreeCancellation:_,hasGroupDiscount:p,hasSkipTheLine:h,highlighted:y,id:x,imageMargin:k,images:C,index:w,inCityName:S,isSavedInWishlist:T,isUnavailableForDates:A,onClick:E,onShow:W,padding:H,pictureBleed:O,pictureLayout:P="default",pictureSize:B=124,price:I,distances:L,reviewsStats:D,route:R,showAvailableFrom:V,showCallToAction:M,showDescription:N,showDiscountBadgeAbovePrice:G,showDistanceToStay:U=!1,showSkipTheLine:Y,showSponsorshipDetails:z=!1,showWishlistWidget:K,showPriceChevron:q,showDiscountPriceInRed:J,sponsoredByName:X,stackPrice:ee,target:te,text:ae,title:ie,titleTagName:re,width:ne,zoomImageOnHover:se,showPreviewButton:le}=e,[ce,de]=(0,i.useState)(null),{ref:ue,inView:_e}=(0,b.YD)(),{buildUrl:pe,pushRoute:ge}=(0,g.Z)(),fe=(0,v.y)(ve({padding:H,pictureBleed:O,width:ne})),{translate:he}=(0,f.useTranslations)(),{isLargeViewport:ye}=(0,Z.T1)(),[xe,ke]=(0,i.useState)(!1),[Ce,we]=(0,i.useState)(!1),Ze=ye&&!q&&!M,Se=(0,i.useMemo)((()=>te?{target:te}:void 0),[te]),Te=(0,m.iv)(fe.Card,r&&fe.Card__bleedOnMobile,y&&fe.Card__highlighted,ne&&fe.Card__fixedWidth,xe&&fe.Card__pointerOnHover,xe&&Ze&&fe.Card__hoverState,"large"===c&&fe.Card__largeFontSize,"fullHeight"===P&&ye&&fe.Card__fullHeightImageMinHeight,"fullWidth"===P&&fe.Card__fullWidthImage,"",""),Ae=(0,m.iv)(fe.CardWrapper,"",""),Fe=(0,i.useCallback)((e=>{const t=e.target;E&&E(w,x),"A"!==t.tagName&&!t.closest("A")&&null!==ce&&void 0!==ce&&ce.contains(t)&&("_blank"===te||e.ctrlKey?window.open(pe(R)):ge(R))}),[pe,ce,x,w,E,ge,R,te]);(0,i.useEffect)((()=>{_e&&W&&W(w,x)}),[_e]),(0,i.useEffect)((()=>ke(!0)),[]);const Ee=(0,i.useCallback)((e=>{de(e),ue(e)}),[ue]),We=()=>{(0,s.trackExperimentStage)(s.exp`HWAFYTbBQTPLEfPBCEKdeJOOIBBO`,3),(0,s.trackCustomGoal)(s.exp`HWAFYTbBQTPLEfPBCEKdeJOOIBBO`,1),Oe(!0)},[He,Oe]=(0,i.useState)(!1),{imageGalleryContainerAttributes:Pe,overlayContentAttributes:Be,cardClassName:Ie,bestsellerBadgeClassName:Le,previewButtonClassName:De,viewAvClassName:Re,imageGalleryContainerClassName:Ve,overlayContentClassName:Me}=(0,d.CL)({previewActive:He});let Ne;if(!!le&&!(null===C||void 0===C||!C.length)){const e=e=>{let{imageIdxToFocus:t,shouldFocusTicketSelector:a}=e;null===E||void 0===E||E(w,x);let i=R;a&&(i={...i,fragmentId:$.bn});const r=t>=0;if(ye){let e=i;r&&(e={...i,addQuery:{...i.addQuery,modal:`${be.nK.attractionGallery}_${t}`}}),window.open(pe(e))}else{let e;r&&(e={galleryIdx:t}),ge(i,e)}};Ne=(0,m.tZ)(me,{title:ie,price:I,images:C,overlayContentAttributes:Be,overlayContentClassName:Me,css:De,viewAvClassName:Re,active:He,onOpen:We,onClose:()=>Oe(!1),onViewProduct:e})}return(0,m.tZ)("div",{"aria-label":he("a11y_attr_sr_card_header"),css:[Te,Ie,"",""],"data-product-card":!0,"data-testid":"card",onClick:Fe,onPointerEnter:()=>we(!0),onPointerLeave:()=>we(!1),ref:Ee,role:"group"},(0,m.tZ)(F,{bestSellerDisplayType:a,cardIndex:w,cityName:n,flags:l,imageMargin:k,images:C,inCityName:S,padding:H,pictureBleed:O,pictureLayout:P,pictureSize:B,pointerIntersectsCard:Ce,zoomImageOnHover:se,previewButton:Ne,imageGalleryContainerAttributes:Pe,imageGalleryContainerClassName:Ve,onClick:e=>{ye||((0,s.trackExperimentStage)(s.exp`HWAFYTbBQTPLEfPBCEKdeJOOIBBO`,2),(0,s.trackExperimentStage)(s.exp`HWAFYTbBQTPLEfPBCEKdeJOOIBBO`,3),(0,s.trackExperiment)(s.exp`HWAFYTbBQTPLEfPBCEKdeJOOIBBO`)&&(e.stopPropagation(),We()))},css:!ye&&!!(0,s.trackExperiment)(s.exp`HWAFYTbBQTPLEfPBCEKdeJOOIBBO`)&&fe.CardImageGallery__clickable}),(0,m.tZ)("div",{css:Ae},(0,m.tZ)("div",{css:fe.contentWrapper},(0,m.tZ)("div",{css:fe.content},(0,m.tZ)(oe,{bestSellerDisplayType:a,cityName:n,distances:L,flags:l,fontSize:c,id:x,inCityName:S,isSavedInWishlist:T,padding:H,pictureBleed:O,pictureLayout:P,pictureSize:B,route:R,showDescription:N,showDistanceToStay:U,showSponsorshipDetails:z,showWishlistWidget:K,sponsoredByName:X,targetProps:Se,text:ae,title:ie,titleTagName:re,bestsellerBadgeClassName:Le}))),(0,m.tZ)("div",{css:(0,m.iv)(fe.MetaAndPriceWrapper,ee&&fe.MetaAndPriceWrapperColumn,"","")},(0,m.tZ)(Q,{duration:o,flags:l,hasBlackFridayDiscount:I.hasBlackFridayDiscount,hasDealOfTheMonth:u,hasFreeCancellation:_,hasGroupDiscount:p,hasGeniusDiscount:I.hasGeniusDiscount,priceDiscount:I.discountPercentage,reviewsStats:D,showDiscountBadgeAbovePrice:G,showUnavailableDatesMessage:y&&A,showSkipTheLine:Y,hasSkipTheLine:h}),(0,m.tZ)(j,{availableFrom:t,padding:H,price:I,route:R,showAvailableFrom:V,showCallToAction:M,showDiscountBadgeAbovePrice:G,showPriceChevron:q,showDiscountPriceInRed:J,targetProps:Se}))))},ve=e=>{let{padding:t,pictureBleed:a,width:i}=e;return e=>{const r=S(t),n=T(a);return(0,v.k)({Card:{background:e.colors.color_background_elevation_one,border:`1px solid ${e.colors.color_border_alt}`,borderRadius:e.units.border_radius_200,display:"flex",flex:1,fontWeight:"normal",height:"100%",maxWidth:"100%",overflow:"hidden",...!n.small&&{padding:`${r.small.y}px ${r.small.x}px`},position:"relative",width:"100%",[h.FU]:{...!n.small&&n.large&&{padding:0},...!n.large&&{padding:`${r.large.y}px ${r.large.x}px`}}},Card__pointerOnHover:{cursor:"pointer","&:hover h4 a":{color:e.colors.color_action_foreground}},Card__hoverState:{transition:"box-shadow linear .24s","&:hover":{boxShadow:e.shadows.shadow_100}},Card__fixedWidth:{width:null===i||void 0===i?void 0:i.s,[h.j5]:{width:null===i||void 0===i?void 0:i.m},[h.FU]:{width:null===i||void 0===i?void 0:i.l}},Card__fullHeightImageMinHeight:{minHeight:160},Card__bleedOnMobile:{borderLeft:"none",borderRight:"none",borderRadius:0,[h.FU]:{border:`1px solid ${e.colors.color_border_alt}`,borderRadius:e.units.border_radius_200}},Card__highlighted:{borderColor:e.colors.color_action_border,background:e.colors.color_action_background_alt,boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.16)"},Card__largeFontSize:{...e.fonts.medium.font_body_2,fontWeight:"normal",color:e.colors.color_foreground},Card__fullWidthImage:{alignItems:"stretch",flexDirection:"column",flexWrap:"wrap",height:"100%"},CardWrapper:{display:"flex",flex:"1 0 1px",flexDirection:"column",justifyContent:"flex-start",minWidth:0,...n.small&&{padding:`${r.small.y}px ${r.small.x}px`},[h.FU]:{...n.small&&!n.large&&{padding:0},...n.large&&{padding:`${r.large.y}px ${r.large.x}px`}}},PriceWrapper:{display:"flex",flexDirection:"row",justifyContent:"flex-end",textAlign:"right"},MetaAndPriceWrapper:{display:"flex",flex:"100% 0 1",gap:e.units.spacing_1x,justifyContent:"space-between",alignItems:"flex-start"},MetaAndPriceWrapperColumn:{flexDirection:"column",gap:e.units.spacing_2x},contentWrapper:{display:"flex",flexDirection:"column"},content:{display:"flex",flexDirection:"row",justifyContent:"space-between"},CardImageGallery__clickable:{cursor:"zoom-in"}})}},ye=(0,n.withRouter)((e=>{var t;const{location:a}=(0,g.Z)(),{ufi:n}=(0,o.Z)(),m=(0,p.F)(),f=(0,l.s)(a.pathname),{attraction:b,bestSellerDisplayType:h,bleedOnMobile:v=!0,highlighted:y,imageMargin:x,index:k,fontSize:C,isUnavailableForDates:w,padding:Z,pictureBleed:S,pictureLayout:T,pictureSize:A,roundPrice:F,showAvailableFrom:E,showDescription:W,showDiscountBadgeAbovePrice:H,showDistanceToStay:O=!1,skipAddingUfiParam:P=!1,showSkipTheLine:B=!1,showPriceChevron:I,showDiscountPriceInRed:L,showSponsorshipDetails:D=!1,showWishlistWidget:R=!1,stackPrice:V,target:M,titleTagName:N,toSearch:G,width:U,zoomImageOnHover:Y,showPreviewButton:Q,shouldFocusTicketSelector:z}=e,{cancellationPolicy:K,distances:q,duration:J,id:j,name:X,primaryPhoto:ee,representativePrice:te,reviewsStats:ae,shortDescription:ie,slug:re,typicalDuration:ne,ufiDetails:se,sponsorshipDetails:oe,isSavedInWishlist:le}=b,ce=(0,i.useMemo)((()=>(0,d.z8)({representativePrice:te,roundPrice:F})),[te,F]),de=(0,i.useMemo)((()=>(0,d.Nc)({images:b.photos,primaryPhoto:ee,pictureLayout:T})),[b.photos,ee,T]);if(!b)return null;const ue=(0,s.trackExperiment)(s.exp`HWAFNHUYbIeIPNQBWbSaKAZfAC`)?null===J||void 0===J?void 0:J.label:null===ne||void 0===ne?void 0:ne.label,_e=null===b||void 0===b?void 0:b.availableFrom,pe=!!j&&m.includes(j),ge=K.hasFreeCancellation,me=null===(t=b.offers)||void 0===t?void 0:t.some((e=>{var t;return null===(t=e.items)||void 0===t?void 0:t.some((e=>e.tieredPricing))})),fe=(0,_.V0)("start_date",a.search),be=(0,_.V0)("end_date",a.search),ve=!G,ye={toPage:G?"searchresults":"attraction",slug:re,...P&&{envUrl:{...b.ufiDetails.url}},addQuery:{..."searchresults"===f&&{date:fe,start_date:fe,end_date:be},...G&&{pinned_product:b.id},source:`${f}-${y?"pinned-":""}product-card`,ufi:P||null===n||void 0===n?void 0:n.ufi,...ve&&D&&{is_sponsored:1}},...ve&&z&&{fragmentId:$.bn}},xe=(0,c.L)(b.flags),ke=(0,u.T)(b.highlights,b.itinerary);return r().createElement(he,{availableFrom:_e,bestSellerDisplayType:h,bleedOnMobile:v,cityName:null===se||void 0===se?void 0:se.bCityName,distances:q,duration:ue,flags:xe,fontSize:C,hasDealOfTheMonth:pe,hasFreeCancellation:ge,hasGroupDiscount:me,hasSkipTheLine:ke,highlighted:y,id:j,imageMargin:x,images:de,inCityName:null===se||void 0===se?void 0:se.bInCityName,isSavedInWishlist:le,isUnavailableForDates:w,index:k,onClick:e.onClick,onShow:e.onShow,padding:Z,pictureBleed:S,pictureLayout:T,pictureSize:A,price:ce,reviewsStats:ae,route:ye,showAvailableFrom:E,showCallToAction:e.showCallToAction,showDescription:W,showDiscountBadgeAbovePrice:H,showDistanceToStay:O,showPriceChevron:I,showDiscountPriceInRed:L,showSkipTheLine:B,showSponsorshipDetails:D,showWishlistWidget:R,sponsoredByName:null===oe||void 0===oe?void 0:oe.sponsoredBy,stackPrice:V,target:M,text:ie||"",title:X||"",titleTagName:N,width:U,zoomImageOnHover:Y,showPreviewButton:Q})})),xe=e=>{const{imageMargin:t,padding:a,pictureLayout:i,pictureSize:r,showCallToAction:n,showDescription:s,stackPrice:o}=e,{isLargeViewport:l,width:c}=(0,Z.T1)(),d=(0,v.y)(we({imageMargin:t,padding:a})),u=c&&c<320?80:r||100;return(0,m.tZ)("div",{css:[d.container,"fullWidth"===i&&d.container__vertical,"",""],"data-testid":"card-skeleton"},(0,m.tZ)("div",{css:[d.imageContainer,"fullHeight"===i&&d.imageContainer__fullHeight,"fullWidth"===i&&d.imageContainer__fullWidth,"",""],style:{height:u,width:u}},(0,m.tZ)(ke,{customStyle:d.image})),(0,m.tZ)("div",{css:d.content},(0,m.tZ)("div",{css:d.header},(0,m.tZ)(ke,{customStyle:d.ufi}),(0,m.tZ)(ke,{customStyle:d.title}),s&&(0,m.tZ)(ke,{customStyle:d.description})),(0,m.tZ)("div",{css:[d.meta,o&&d.meta__stacked,"",""]},(0,m.tZ)(ke,{customStyle:d.metaItems}),(0,m.tZ)("div",{css:d.priceWrapper},(0,m.tZ)(ke,{customStyle:d.price}),n&&l&&(0,m.tZ)(ke,{customStyle:d.cta})))))},ke=e=>{let{customStyle:t}=e;const a=(0,v.y)(Ce);return(0,m.tZ)(x.SkeletonLoader,{css:[a.skeletonLoader,t,"",""]})},Ce=()=>(0,v.k)({skeletonLoader:{opacity:.5,"> span":{height:"100%",width:"100%"}}}),we=e=>{let{imageMargin:t,padding:a}=e;return e=>{var i,r,n,s;const o=e.units.border_radius_200,l={x:(null===a||void 0===a||null===(i=a.small)||void 0===i?void 0:i.x)||16,y:(null===a||void 0===a||null===(r=a.small)||void 0===r?void 0:r.y)||12},c={x:(null===a||void 0===a||null===(n=a.large)||void 0===n?void 0:n.x)||16,y:(null===a||void 0===a||null===(s=a.large)||void 0===s?void 0:s.y)||16},d=(null===t||void 0===t?void 0:t.small)||16,u=(null===t||void 0===t?void 0:t.large)||16;return(0,v.k)({container:{background:e.colors.color_background_elevation_one,border:`1px solid ${e.colors.color_border_alt}`,borderRadius:o,position:"relative",display:"flex",padding:`${l.y}px ${l.x}px`,[h.gp]:{borderRadius:0},[h.FU]:{minHeight:220,padding:`${c.y}px ${c.x}px`}},container__vertical:{flexDirection:"column",gap:e.units.spacing_2x},content:{display:"flex",flex:1,flexDirection:"column",gap:e.units.spacing_2x},imageContainer:{display:"flex",gap:e.units.spacing_2x,margin:`0 ${d}px 0 0`,"[dir=rtl] &":{marginRight:0,margin:`0 0 0 ${d}px`},[h.FU]:{margin:`0 ${u}px 0 0`,"[dir=rtl] &":{marginRight:0,margin:`0 0 0 ${u}px`}}},imageContainer__fullHeight:{[h.wh]:{height:"inherit !important"}},imageContainer__fullWidth:{width:"100% !important",margin:`0 0 ${d}px`,"[dir=rtl] &":{margin:`0 0 ${d}px`},[h.FU]:{margin:`0 0 ${u}px`,"[dir=rtl] &":{marginRight:0,margin:`0 0 ${u}px`}}},image:{borderRadius:o,height:"100%",width:"100%"},header:{display:"flex",flexDirection:"column"},ufi:{borderRadius:o,height:e.units.spacing_6x,marginBottom:e.units.spacing_1x,width:"30%",[h.wh]:{width:"40%"}},title:{borderRadius:o,height:e.units.spacing_8x,width:"70%",[h.wh]:{width:"90%"}},description:{borderRadius:o,height:e.units.spacing_6x,marginTop:e.units.spacing_2x},meta:{display:"flex",flex:1,justifyContent:"space-between",gap:e.units.spacing_2x},meta__stacked:{flexDirection:"column"},metaItems:{borderRadius:o,display:"flex",flexDirection:"column",gap:e.units.spacing_1x,height:72,width:"50%",[h.wh]:{width:"70%"}},priceWrapper:{alignItems:"flex-end",display:"flex",gap:e.units.spacing_2x,flexDirection:"column",justifyContent:"flex-end"},price:{borderRadius:o,height:e.units.spacing_6x,width:100},cta:{borderRadius:o,height:e.units.spacing_8x,width:146}})}};var Ze=a("1d7719e6");const Se={Content:e=>{const{attraction:t,index:a,onClick:i,onShow:n}=e,s=(0,Ze.o)()?"_blank":void 0;return r().createElement(ye,{attraction:t,bestSellerDisplayType:"ribbon",index:a,onClick:i,onShow:n,showPriceChevron:!0,stackPrice:!0,target:s})},Skeleton:()=>r().createElement(xe,{stackPrice:!0})},Te={Content:e=>{const{attraction:t,index:a,onClick:i,onShow:n}=e,s=(0,Ze.o)()?"_blank":void 0;return r().createElement(ye,{attraction:t,bestSellerDisplayType:"ribbon",bleedOnMobile:!1,index:a,onClick:i,onShow:n,showPriceChevron:!0,stackPrice:!0,target:s})},Skeleton:()=>r().createElement(xe,{stackPrice:!0})};var Ae=a("6a4a8474");const Fe={Content:e=>{const{attraction:t,highlighted:a,index:i,isUnavailableForDates:n,onClick:o,onShow:l}=e,{location:c}=(0,g.Z)(),{state:d}=(0,Ae.si)(),{isSmallViewport:u,isLargeViewport:p}=(0,Z.T1)(),m=(0,Ze.o)(),f=(0,_.V0)("url_code",c.search),b=(0,_.V0)("start_date",c.search),h=!!(0,s.trackExperiment)(s.exp`HWAFNQVeJOPIcfSePdbRe`),v=!!(0,s.trackExperiment)(s.exp`HWAFNLOLOLOCcbPLDIcHXQDJKaWe`),y=!!(0,s.trackExperiment)(s.exp`HWAFYTbGNONMOfUUTAcHe`),x=!!(0,s.trackExperiment)(s.exp`HWAFYTfDHCOLZOHeYYFGO`),k=!!(0,s.trackExperiment)(s.exp`HWAFYTfDHCOLZIHSHFTdbLSKSGQZbXHcKVT`),C=!!(0,s.trackExperiment)(s.exp`HWAFYTbQTZOUdTJeaILYDISIBBO`),w=!!(0,s.trackExperiment)(s.exp`HWAFYTbUdCISIBBO`)&&p,S=!!(0,s.trackExperiment)(s.exp`HWAFYTaRQMeVXGRcAAKEfPdRT`),T=!!(0,s.trackExperiment)(s.exp`HWAFYTfbfSCTaOBcfae`),{showWishlistWidget:A}=(0,ee.s)(),F=!p&&!!f||p,E=(0,J.Ug)((0,J.PQ)(new Date),b),W=!y||y&&(!b||E<2),H=!!t.sponsorshipDetails,O=H&&v;if(H&&!v)return null;const P=p&&!C,B=u&&!T;return r().createElement(ye,{attraction:t,bestSellerDisplayType:"badge",fontSize:p?"large":void 0,highlighted:a,imageMargin:{small:8},index:i,isUnavailableForDates:n,onClick:o,onShow:l,padding:{small:{x:4,y:4}},pictureBleed:p&&(k||"GRID"===d.pageLayout&&x)?{small:!1,large:!0}:void 0,pictureLayout:p?"GRID"===d.pageLayout&&x?"fullWidth":k?"fullHeight":"default":"fullHeight",pictureSize:p?k?198:174:124,roundPrice:!0,showAvailableFrom:W,showCallToAction:!p||p&&!("GRID"===d.pageLayout&&x),showDescription:P,showDiscountBadgeAbovePrice:p,showDistanceToStay:F,showSkipTheLine:h,showPriceChevron:B,showDiscountPriceInRed:T,showSponsorshipDetails:O,showWishlistWidget:A,skipAddingUfiParam:!!O,stackPrice:u||"GRID"===d.pageLayout&&x,target:m?"_blank":void 0,zoomImageOnHover:"GRID"===d.pageLayout&&x,showPreviewButton:!p||w,shouldFocusTicketSelector:S})},Skeleton:()=>{const{state:e}=(0,Ae.si)(),{isLargeViewport:t}=(0,Z.T1)(),a=!!(0,s.trackExperiment)(s.exp`HWAFYTfDHCOLZOHeYYFGO`),i=!!(0,s.trackExperiment)(s.exp`HWAFYTfDHCOLZIHSHFTdbLSKSGQZbXHcKVT`),n=!!(0,s.trackExperiment)(s.exp`HWAFYTbQTZOUdTJeaILYDISIBBO`),o=t&&!n;return r().createElement(xe,{imageMargin:{small:8},padding:{small:{x:4,y:4}},pictureLayout:t?"GRID"===e.pageLayout&&a?"fullWidth":i?"fullHeight":"default":"fullHeight",pictureSize:t?i?198:174:124,showCallToAction:!0,showDescription:o,stackPrice:!t})}},Ee={Content:e=>r().createElement(ye,(0,y.Z)({},e,{bleedOnMobile:!1,imageMargin:{small:8,large:8},pictureLayout:"fullWidth",showPriceChevron:!0,stackPrice:!0})),Skeleton:()=>r().createElement(xe,{imageMargin:{small:8,large:8},pictureLayout:"fullWidth",stackPrice:!0})}},c2a7c7e1:(e,t,a)=>{"use strict";a.d(t,{A:()=>x});var i=a("ead71eb0"),r=a.n(i),n=a("d16e9636"),s=a.n(n),o=a("dc6d28ff"),l=a.n(o),c=a("43a4d203"),d=a.n(c),u=a("b555ea46"),_=a("a0585de1"),p=a("7b5b6285"),g=a("9f694d85"),m=a("8a0119fc");const f=(0,n.loadable)({resolved:{},chunkName(){return"bWishlistWishlistCs-WishlistWidgetAttractionSr"},isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>a.e("6eb16f84").then(a.t.bind(a,"1a53671f",23)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return a(t)},resolve(){return"1a53671f"}}),b=(0,n.loadable)({resolved:{},chunkName(){return"bWishlistWishlistCs-WishlistWidgetAttractionSrSmallViewport"},isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>a.e("4a6ca094").then(a.t.bind(a,"d815968e",23)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return a(t)},resolve(){return"d815968e"}}),h=(0,n.loadable)({resolved:{},chunkName(){return"bWishlistWishlistCs-WishlistWidgetAttractionSrMobile"},isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>a.e("c8670e03").then(a.t.bind(a,"287ae352",23)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return a(t)},resolve(){return"287ae352"}}),v=(0,n.loadable)({resolved:{},chunkName(){return"bWishlistWishlistCs-WishlistWidgetAttractionDetail"},isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>a.e("4603bc2e").then(a.t.bind(a,"3084ef29",23)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return a(t)},resolve(){return"3084ef29"}}),y=(0,n.loadable)({resolved:{},chunkName(){return"bWishlistWishlistCs-WishlistWidgetAttractionDetailMobile"},isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>a.e("60da5183").then(a.t.bind(a,"1db82b36",23)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return a(t)},resolve(){return"1db82b36"}}),x=e=>{const{attractionId:t,page:a,totalWishlistCount:n}=e,{location:s}=(0,p.Z)(),{isLargeViewport:l}=(0,g.T1)(),d=(0,_.V0)("start_date",s.search),x=(0,_.V0)("end_date",s.search),k=(0,o.getRequestContext)().getSiteType()===c.SiteType.WWW,C=(0,i.useMemo)((()=>"searchresults"===a?k?l?f:b:h:k?v:y),[l,k,a]),{showWishlistWidget:w}=(0,m.s)();return t&&w?r().createElement(u.S,null,r().createElement(C,{attraction:{attractionId:t,searchMeta:{startDate:d,endDate:x}},nbWishlists:n})):null}},"0ddd0ee5":(e,t,a)=>{"use strict";a.d(t,{T:()=>c});var i=a("ead71eb0"),r=a("dc6d28ff"),n=a("28dbd132"),s=a("555efd6b"),o=a("699a7cc2"),l=a("43a4d203");const c=()=>{const e=(0,r.getRequestContext)().getSiteType(),t=(0,s.P)(),a=e===l.SiteType.WWW,c=!!(0,n.trackExperiment)(n.exp`BKATYWbWOOFFfDbIVFGWfdTUC`),d=!!(0,n.trackExperiment)(n.exp`BKATYWPHDDZbVPQWIbAaLFSeKe`),u=t&&(a&&c||!a&&d),{data:_}=(0,o.V00)({skip:!u,ssr:!1});(0,i.useEffect)((()=>{var e;if("WishlistMultipleSuccessOutput"===(null===_||void 0===_||null===(e=_.wishlistService)||void 0===e||null===(e=e.userWishlist)||void 0===e?void 0:e.__typename)){var t;const e=!(null===(t=_.wishlistService.userWishlist.wishlists)||void 0===t||!t.map((e=>e.nbHotels)).filter(Boolean).length);u&&e&&(0,n.trackGoalWithValue)("js_attr_logged_in_with_saved_accommodation_list",1)}}),[_,u])}},"8a0119fc":(e,t,a)=>{"use strict";a.d(t,{s:()=>o});var i=a("43a4d203"),r=a("dc6d28ff"),n=a("28dbd132"),s=a("555efd6b");const o=()=>{const e=(0,s.P)(),t=(0,r.getRequestContext)().getSiteType()===i.SiteType.WWW,a=!!(0,n.trackExperiment)(n.exp`BKATYWbWOOFFfDbIVFGWfdTUC`),o=!!(0,n.trackExperiment)(n.exp`BKATYWPHDDZbVPQWIbAaLFSeKe`);return{showWishlistWidget:e&&(t&&a||!t&&o)}}},"98553a92":(e,t,a)=>{"use strict";a.d(t,{A:()=>i.A,s:()=>r.s});var i=a("c2a7c7e1"),r=a("8a0119fc")},"3f5449ae":(e,t,a)=>{"use strict";a.d(t,{P:()=>s});var i=a("b4083f42"),r=a("c44dcb0c"),n=a("eebff10a");const s=e=>{let{text:t,cityName:a,inCityName:s,className:o,rank:l}=e;const{translate:c}=(0,r.useTranslations)();let d;return d=t||(a&&s?c("att_lf_bestselling_att_by_ranking_num_in_cityname",{variables:{rank:l,city_name:a,in_city_name:s}}):c("att_lf_bestselling_att_by_ranking_num_in_this_location",{variables:{rank:l}})),(0,i.tZ)(n.o,{text:d,description:c("attractions_lf_sr_pp_bestseller_tooltip"),variant:"brand-primary",className:o,"data-testid":"bestseller-badge"})}},bca8c5c4:(e,t,a)=>{"use strict";a.d(t,{l:()=>s});var i=a("b4083f42"),r=a("6222292b"),n=a("c44dcb0c");const s=()=>{const{translate:e}=(0,n.useTranslations)();return(0,i.tZ)(r.Badge,{text:e("deals_blackfriday24_price_display_badge_name")})}},"843a257c":(e,t,a)=>{"use strict";a.d(t,{O:()=>g,z:()=>b});var i=a("b4083f42"),r=a("ead71eb0"),n=a.n(r),s=a("6222292b"),o=a("28dbd132"),l=a("c44dcb0c"),c=a("8bd0b664"),d=a("45ccbd8e"),u=a("7b5b6285"),_=a("7760db43"),p=a("3ec397bd");const g=e=>{const{className:t,items:a,source:r,ufiDetails:n,skipHomeCrumb:g=!1}=e,b=(0,d.y)(m),{buildUrl:h,pushRoute:v}=(0,u.Z)(),{translate:y}=(0,l.useTranslations)(),{apass:x}=(0,_.Z)();(0,p.A)({ssr:!1});const k={text:y("att_seo_enabled_breadcrumbs_index_home"),linkProps:{toPage:"index",addQuery:{source:"attraction-breadcrumb"}},onClick:()=>{"product_page"===r&&((0,o.trackCustomGoal)(o.exp`HWAFNeOYDXKe`,3),(0,o.trackCustomGoal)(o.exp`HWAFNeOYWBLRSXSTdcaKZXSMZVWe`,3),(0,o.trackGoalWithValue)("js_attr_pp_bc_index",1))}},C=[...g?[]:[k],...a];return(0,i.tZ)("div",{css:b.container,className:t},(0,i.tZ)(s.Breadcrumbs,{ariaLabel:y("a11y_aria_label_breadcrumb"),attributes:{"data-testid":"breadcrumbs"},items:C.map(((e,t)=>{const a=e.linkProps?{...e.linkProps,...n}:void 0;return{text:e.text,...a&&{href:h(a),onClick:i=>{var n;(0,c.Z)(i)||(i.preventDefault(),v(a),(e=>{x.event("interaction","click","breadcrumb",{item_location:{page_name:r,block_name:"breadcrumbs"},nav_bar:{level:e,path:C.map(((e,t)=>f(t))).join(">")}})})(t)),null===(n=e.onClick)||void 0===n||n.call(e)}}}}))}))},m=e=>(0,d.k)({container:{marginTop:e.units.spacing_4x}}),f=e=>({0:"home",1:"city",2:"attractions",3:"product"}[e]),b=e=>{let{source:t,attractionLocation:a}=e;const{translate:i}=(0,l.useTranslations)(),r=[{text:i("npd_att_freebook_breadcrumbs_attractions"),linkProps:{toPage:"searchresults",addQuery:{source:"attraction-breadcrumb"}}}];return n().createElement(g,{items:r,source:t,ufiDetails:null===a||void 0===a?void 0:a.url})}},a88d9cf2:(e,t,a)=>{"use strict";a.d(t,{z8:()=>o,Nc:()=>n,CL:()=>p});var i=a("5a887cbf");const r=e=>{let{image:t,pictureLayout:a}=e;return t?"fullWidth"===a?(0,i.Lz)((0,i.Uo)(t,"cardHero")):(0,i.Lz)((null===t||void 0===t?void 0:t.small)||""):""},n=e=>{const t=e.images?e.images.map((t=>r({image:t,pictureLayout:e.pictureLayout}))):[],a=r({image:e.primaryPhoto,pictureLayout:e.pictureLayout});return[...a?[a]:[],...t?t.filter((e=>!a||e!==a)):[]]};var s=a("2d521027");const o=e=>{var t;let{representativePrice:a,roundPrice:i}=e;const r=(0,s.Ft)(a),n=null!==a&&void 0!==a&&a.chargeAmount?(0,s.T4)(null===a||void 0===a?void 0:a.chargeAmount,null===a||void 0===a?void 0:a.currency):"",o=null!==a&&void 0!==a&&a.chargeAmount?(0,s.T4)(null===a||void 0===a?void 0:a.chargeAmount,null===a||void 0===a?void 0:a.currency,void 0,!0):"",l=null!==a&&void 0!==a&&a.publicAmount?(0,s.T4)(null===a||void 0===a?void 0:a.publicAmount,null===a||void 0===a?void 0:a.currency):"",c=null!==a&&void 0!==a&&a.publicAmount?(0,s.T4)(null===a||void 0===a?void 0:a.publicAmount,null===a||void 0===a?void 0:a.currency,void 0,!0):"";return{...0===r&&i?{price:o,originalPrice:c}:{price:n,originalPrice:l},hasBlackFridayDiscount:(0,s.c3)(a),hasGeniusDiscount:(0,s.Kd)(a),discountPercentage:r,ticketOfferType:null===a||void 0===a||null===(t=a.offerItem)||void 0===t?void 0:t.type}};var l=a("ead71eb0"),c=a("45ccbd8e"),d=a("ac10c9a4"),u=a("baae01e7"),_=a.n(u);const p=e=>{const{previewActive:t}=e,[a,i]=(0,l.useState)(m.closed),r=(0,c.y)(g),n=(0,l.useRef)(),s=(0,d.z)(t),[o,u]=(0,l.useState)({}),[p,b]=(0,l.useState)({}),h=(0,l.useRef)();_()((()=>{var e,a;if(!s||t)return;const r=null===(e=n.current)||void 0===e?void 0:e.getBoundingClientRect(),o=null===(a=h.current)||void 0===a?void 0:a.getBoundingClientRect();b(f(o,r)),u(f(r,o)),i(m.preClosing)}),[t]),_()((()=>{var e;e=()=>{a===m.preOpening?i(m.opening):a===m.preClosing&&i(m.closing)},requestAnimationFrame((()=>requestAnimationFrame(e)))}),[a]);const v={ref:(0,l.useCallback)((e=>{var t,a;if(h.current=e,!e)return;const r=null===(t=n.current)||void 0===t?void 0:t.getBoundingClientRect(),s=null===(a=h.current)||void 0===a?void 0:a.getBoundingClientRect();b(f(s,r)),u(f(r,s)),i(m.preOpening)}),[]),style:a===m.preOpening||a===m.closing?p:{}};return{imageGalleryContainerAttributes:{ref:n,onTransitionEnd:()=>{i((e=>e===m.opening?m.opened:e===m.closing?m.closed:e))},style:a===m.opening||a===m.preClosing?o:{}},overlayContentAttributes:v,cardClassName:r[`Card__${a}`],bestsellerBadgeClassName:r[`BestsellerBadge_${a}`],previewButtonClassName:r[`PreviewButton__${a}`],viewAvClassName:r[`ViewAvCta__${a}`],imageGalleryContainerClassName:r[`ImageGalleryContainer__${a}`],overlayContentClassName:r[`OverlayContent__${a}`]}},g=()=>(0,c.k)({[`ViewAvCta__${m.preOpening}`]:{opacity:0},[`ViewAvCta__${m.opening}`]:{opacity:1,transition:"opacity var(--bui_animation_enter)"},[`ViewAvCta__${m.closing}`]:{transition:"opacity var(--bui_animation_exit)",opacity:0},[`ViewAvCta__${m.closed}`]:{opacity:0},[`OverlayContent__${m.preOpening}`]:{opacity:0,transform:"none"},[`OverlayContent__${m.opening}`]:{zIndex:9,opacity:1,transition:"transform var(--bui_animation_enter), opacity var(--bui_animation_enter)"},[`OverlayContent__${m.opened}`]:{opacity:1},[`OverlayContent__${m.preClosing}`]:{opacity:1},[`OverlayContent__${m.closing}`]:{zIndex:9,opacity:0,transition:"transform var(--bui_animation_exit), opacity var(--bui_animation_exit)"},[`OverlayContent__${m.closed}`]:{opacity:0},[`ImageGalleryContainer__${m.opening}`]:{opacity:0,zIndex:9,transition:"transform var(--bui_animation_enter), opacity var(--bui_animation_enter)"},[`ImageGalleryContainer__${m.opened}`]:{opacity:0},[`ImageGalleryContainer__${m.preClosing}`]:{opacity:0},[`ImageGalleryContainer__${m.closing}`]:{opacity:1,zIndex:9,transition:"transform var(--bui_animation_exit), opacity var(--bui_animation_exit)"},[`PreviewButton__${m.opening}`]:{zIndex:9},[`PreviewButton__${m.closing}`]:{zIndex:9},[`Card__${m.opening}`]:{overflow:"visible"},[`Card__${m.closing}`]:{overflow:"visible"},[`BestsellerBadge_${m.opening}`]:{zIndex:9},[`BestsellerBadge_${m.closing}`]:{zIndex:9}});var m=function(e){return e[e.preOpening=0]="preOpening",e[e.opening=1]="opening",e[e.opened=2]="opened",e[e.preClosing=3]="preClosing",e[e.closing=4]="closing",e[e.closed=5]="closed",e}(m||{});function f(e,t){if(!e||!t)return{};const a=t.width/e.width,i=t.height/e.height;return{transform:`translate(${t.x-e.x}px, ${t.bottom-e.bottom}px)  scale(${a}, ${i})`}}},ce9027a3:(e,t,a)=>{"use strict";a.d(t,{_:()=>s});var i=a("28dbd132"),r=a("45733827");const n=(e,t,a)=>{const r=a+1,n=a+2;(0,i.trackExperimentStage)(t,a),(0,i.trackExperimentStage)(t,e?n:r)},s={blackFriday:{onView:(e,t)=>{e.length&&n(t,i.exp`HWAFYTfTLKGfIOeMBUUZDOLbFZVGAZKe`,3)},variant:(0,i.trackExperiment)(i.exp`HWAFYTfTLKGfIOeMBUUZDOLbFZVGAZKe`)},thematicGroups:{onView:(e,t,a,s)=>{Object.keys(e).length>0&&(n(t,i.exp`HWAFNHUYTaeCVLLIYAZTRe`,3),a||(0,i.trackExperimentStage)(i.exp`HWAFNHUYTaeCVLLIYAZTRe`,6),((e,t,a)=>{const n=a,s=a+1,o=a+2;if(e){const a=(0,r.Ug)((0,r.PQ)(new Date),e);(0,i.trackExperimentStage)(t,a>0?n:s)}else(0,i.trackExperimentStage)(t,o)})(s,i.exp`HWAFNHUYTaeCVLLIYAZTRe`,7))},variant:(0,i.trackExperiment)(i.exp`HWAFNHUYTaeCVLLIYAZTRe`)},exploreByCategory:{onView(){(0,i.trackExperimentStage)(i.exp`HWAFYTfDHCOLZBUSEIYcMZINfKBKBUWe`,1)},variant:(0,i.trackExperiment)(i.exp`HWAFYTfDHCOLZBUSEIYcMZINfKBKBUWe`)},geniusSort:{onView:e=>{(0,i.trackExperimentStage)(i.exp`HWAFYTfVdQbHVEZYSCC`,1),(0,i.trackExperimentStage)(i.exp`HWAFYTfVdQbHVEZYSCC`,e?2:3),(0,i.trackExperimentStage)(i.exp`HWAFYTfVdQbHVEZYSCC`,4),(0,i.trackExperimentStage)(i.exp`HWAFYTfVdQbHVEZYSCC`,e?5:6)}}}},bafa5ac4:(e,t,a)=>{"use strict";a.d(t,{gy:()=>le,CS:()=>re,Gw:()=>W});var i=a("b4083f42"),r=a("ead71eb0"),n=a.n(r),s=a("6222292b"),o=a("28dbd132"),l=a("d33a9817"),c=a("dc6d28ff"),d=a("3cbeaaf8"),u=a("d73cc5ab"),_=a("65db78ee"),p=a("3835fb47");const g=e=>{const{carouselPosition:t,carouselType:a,onCardClick:i,onCardShow:s,onScroll:l,roundPrices:c,shouldFocusTicketSelector:d}=e,{suggestions:u}=(0,p.f)(),g=(0,r.useMemo)((()=>u[a]),[a,u]),m=(0,r.useMemo)((()=>"blackFriday"===a||"dealsOfTheMonth"===a||"discountedProducts"===a),[a]),f=!!(0,o.trackExperiment)(o.exp`HWAFNQVeJOPIcfSePdbRe`);return g.length?n().createElement(_.D,{carouselPosition:t,carouselType:a,onCardClick:i,onCardShow:s,onScroll:l,products:g,roundPrices:c,showDiscountBadge:m,showSkipTheLine:f,shouldFocusTicketSelector:d}):null};var m=a("52d06349"),f=a("84f4e099"),b=a("9f372f9b"),h=a("9f694d85");const v=()=>{const{thematicGroups:e}=(0,p.f)(),{isLargeViewport:t}=(0,h.T1)();return(0,i.tZ)(m.e,{carouselPosition:"cardList"},(0,i.tZ)(f.c,{carouselType:"thematicGroups"}),(0,i.tZ)(b.I,{onCardClick:()=>{window.scrollTo({top:0}),(0,o.trackCustomGoal)(o.exp`HWAFNHUYTaeCVLLIYAZTRe`,1)},onScroll:()=>(0,o.trackCustomGoal)(o.exp`HWAFNHUYTaeCVLLIYAZTRe`,2),size:t?"large":void 0,thematicGroups:e}))};var y=a("a0585de1"),x=a("45ccbd8e"),k=a("ce9027a3"),C=a("239beb17"),w=a("9cdf582f"),Z=a("555efd6b"),S=a("293769da"),T=a("2fe2e183"),A=a("bc8a77a1"),F=a("7b5b6285"),E=a("6a4a8474");const W=()=>{const{location:e}=(0,F.Z)(),{state:{pageLayout:t}}=(0,E.si)(),{isLargeViewport:a}=(0,h.T1)(),i=(0,y.V0)("pinned_carousel",e.search),n=!!(0,o.trackExperiment)(o.exp`HWAFYTfTLKGfIOeMBUUZDOLbFZVGAZKe`),s=(0,o.trackExperiment)(o.exp`HWAFYTfDHCOLZOHeYYFGO`),l=!!s;return(0,r.useMemo)((()=>{const e=l&&a&&"GRID"===t,r=e?6:5;let o=4,c=2,d=10,u=10,_=6,p=6,g=12;e&&(1===s?(_=8,p=8):2===s&&(o=3,c=3,d=12,u=12,_=9,p=9,g=15));return{blackFriday:"black_friday"===i&&n?0:r,dealsOfTheMonth:r,discountedProducts:r,login:c,geniusVipVoucher:o,thematicGroups:d,themePark:u,wallet:_,userFeedback:g,exploreByCategory:p,geniusSort:c}}),[n,l,s,a,t,i])};var H=a("7ef54c27"),O=a("be8f84c9"),P=a("421f0856"),B=a("c44dcb0c"),I=a("a590b133"),L=a("8c1b86b7"),D=a("1c0fcf2b");const R=function(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px"},r.createElement("path",{d:"M22.97 16.305a5.21 5.21 0 0 1-5.9-1.428.75.75 0 0 0-1.138.002 5.178 5.178 0 0 1-7.862 0 .75.75 0 0 0-1.137-.002 5.2 5.2 0 0 1-5.9 1.422.75.75 0 1 0-.565 1.39 6.7 6.7 0 0 0 7.6-1.832l-.567-.49-.57.488a6.678 6.678 0 0 0 10.139 0l-1.137.001a6.71 6.71 0 0 0 7.6 1.84.75.75 0 1 0-.564-1.391zM.467 22.008a6.7 6.7 0 0 0 7.6-1.838H6.931a6.678 6.678 0 0 0 10.138 0l-.569-.489-.568.49a6.71 6.71 0 0 0 7.6 1.838.75.75 0 1 0-.564-1.39 5.21 5.21 0 0 1-5.9-1.427.75.75 0 0 0-1.137 0 5.177 5.177 0 0 1-7.862 0 .75.75 0 0 0-1.137 0 5.2 5.2 0 0 1-5.9 1.426.75.75 0 0 0-.564 1.39zM6.75 12.75a5.25 5.25 0 0 1 10.5 0 .75.75 0 0 0 1.5 0 6.75 6.75 0 0 0-13.5 0 .75.75 0 0 0 1.5 0M3.001 12H.751a.75.75 0 0 0 0 1.5h2.25a.75.75 0 0 0 0-1.5m20.25 0h-2.25a.75.75 0 0 0 0 1.5h2.25a.75.75 0 0 0 0-1.5m-12-9.75V4.5a.75.75 0 0 0 1.5 0V2.25a.75.75 0 0 0-1.5 0m7.28 5.03 1.5-1.5a.75.75 0 0 0-1.06-1.06l-1.5 1.5a.75.75 0 0 0 1.06 1.06m-12-1.06-1.5-1.5a.75.75 0 0 0-1.06 1.06l1.5 1.5a.75.75 0 0 0 1.06-1.06"}))};var V=a("e83cc0a6"),M=a("055f0fb2");const N=function(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px"},r.createElement("path",{d:"M6.374 17.625a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0m1.5 0a3.375 3.375 0 1 0-6.75 0 3.375 3.375 0 0 0 6.75 0m1.037 5.272a5 5 0 0 0-8.824 0 .75.75 0 0 0 1.324.706 3.5 3.5 0 0 1 6.176 0 .75.75 0 1 0 1.324-.706m12.463-5.272a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0m1.5 0a3.375 3.375 0 1 0-6.75 0 3.375 3.375 0 0 0 6.75 0m1.037 5.272a5 5 0 0 0-8.824 0 .75.75 0 0 0 1.324.706 3.5 3.5 0 0 1 6.176 0 .75.75 0 0 0 1.324-.706M13.874 3.375a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0m1.5 0a3.375 3.375 0 1 0-6.75 0 3.375 3.375 0 0 0 6.75 0m.445 4.389a5.02 5.02 0 0 0-7.642 0 .75.75 0 0 0 1.142.972 3.518 3.518 0 0 1 5.358 0 .75.75 0 0 0 1.142-.972M8.783 20.408a9.03 9.03 0 0 0 6.482-.02.75.75 0 1 0-.542-1.398 7.53 7.53 0 0 1-5.406.016.75.75 0 1 0-.534 1.402M5.835 5.453A8.97 8.97 0 0 0 2.998 12c0 .26.014.523.041.819a.75.75 0 1 0 1.494-.138A7 7 0 0 1 4.498 12c0-2.066.855-4.04 2.363-5.453a.75.75 0 0 0-1.026-1.094m15.123 7.363a9 9 0 0 0 .041-.816 8.96 8.96 0 0 0-2.837-6.547.75.75 0 0 0-1.026 1.094A7.46 7.46 0 0 1 19.5 12c0 .203-.012.421-.035.684a.75.75 0 0 0 1.494.132z"}))};var G=a("25e7bf7c"),U=a("0216c7de");const Y=e=>{switch(e){case"PTTV32SGqJEv":case"PTCMCuXtHgrC":return(0,i.tZ)(L.Z,null);case"PTCMCcodv3rh":case"PTTV3cuXCgPo":return(0,i.tZ)(D.Z,null);case"PTTV3jCHmADM":case"PTCMCLfBZQwO":return(0,i.tZ)(R,null);case"PTCMCi9PTIPL":case"PTTV3y2qdlBL":return(0,i.tZ)(V.Z,null);case"PTTV3YDywxmN":case"PTCMCowbPYbZ":return(0,i.tZ)(M.Z,null);case"PTCMClxjwGcP":case"PTTV3bWrrud5":return(0,i.tZ)(N,null);default:return(0,i.tZ)(G.Z,null)}},$=()=>{const e=(0,x.y)(Q),{state:{filterOptions:t}}=(0,E.si)(),{activeFilters:a,onChange:n}=(0,U.l)(),{filter_by:l,filter_by_subcategory:c}=a,d=(0,r.useMemo)((()=>{var e;return null===t||void 0===t||null===(e=t.typeFilters)||void 0===e?void 0:e.filter((e=>{var t;const a=l.includes(e.tagname),i=null===(t=e.childFilterOptions)||void 0===t?void 0:t.some((e=>c.includes(e.tagname)));return e.productCount&&!a&&!i}))}),[t,l,c]);return null!==d&&void 0!==d&&d.length?(0,i.tZ)(s.Banner,{dismissible:!1,css:e.exploreByCategoryBanner__searchResults},(0,i.tZ)(s.Title,{variant:"headline_3",title:(0,i.tZ)(B.Trans,{tag:"attractions_discovery_sr_search_by_category_header"}),subtitle:(0,i.tZ)(B.Trans,{tag:"attractions_discovery_sr_search_by_category_subheader"}),color:"inherit"}),(0,i.tZ)(I.R,{direction:"row",align:"center",gap:"spacing_3x",wrap:"wrap",margin:["spacing_3x","none","none","none"]},d.map((t=>{let{tagname:a,name:r,productCount:c}=t;return(0,i.tZ)(s.Button,{key:a,variant:"white",type:"button",rounded:!0,icon:Y(a),onClick:()=>{n({name:"filter_by",value:Array.from(new Set([...l,a]))}),(0,o.trackCustomGoal)(o.exp`HWAFYTfDHCOLZBUSEIYcMZINfKBKBUWe`,1)}},(0,i.tZ)("div",{css:e.exploreByCategoryBanner__category},(0,i.tZ)(s.Text,{variant:"emphasized_1",color:"neutral"},r),c&&(0,i.tZ)(s.Bubble,{text:c,variant:"neutral"})))})))):null},Q=e=>(0,x.k)({exploreByCategoryBanner__searchResults:{backgroundColor:e.colors.color_brand_primary_background,color:e.colors.color_foreground_inverted},exploreByCategoryBanner__category:{display:"inline-flex",justifyContent:"center",alignItems:"center",gap:e.units.spacing_2x}});var z=a("9a67ad93"),K=a("74ac0209");const q=(0,a("69cfa14e").hX)({setName:"illustrations-traveller",assetName:"GeniusGiftBoxDiscount"});function J(e){const{onCtaClick:t}=e,{isLargeViewport:a}=(0,h.T1)(),n=(0,x.y)(j),{translate:l}=(0,B.useTranslations)(),c=(0,r.useId)();return(0,i.tZ)(s.Card,{bleed:a?void 0:0,css:n.root,tagName:"section",attributes:{"aria-labelledby":c}},(0,i.tZ)(s.Stack,{direction:"row",wrap:"nowrap",justifyContent:"space-between",alignItems:"stretch"},(0,i.tZ)(s.Stack.Item,{grow:!0},(0,i.tZ)(s.Stack,{gap:1},(0,i.tZ)(s.Text,{variant:"strong_1",attributes:{id:c},tagName:"h3"},l("attractions_genius_banner_header")),(0,i.tZ)(s.Text,{variant:"body_2"},l("attractions_genius_banner_subheader")),(0,i.tZ)(s.Stack.Item,{grow:!1,split:!0},(0,i.tZ)(s.Button,{variant:"tertiary",onClick:()=>{(0,o.trackGoalWithValue)("js_attr_sr_sort_by_genius_banner_btn_clicked",1),null===t||void 0===t||t()},css:n.cta},l("attractions_genius_banner_cta"))))),(0,i.tZ)(s.Stack.Item,{shrink:!0,css:n.imgContainer},(0,i.tZ)("img",{src:q,css:n.img,alt:""}))))}const j=e=>(0,x.k)({root:{[K.gp]:{borderInline:0,borderRadius:0}},cta:{marginInlineStart:`-${e.units.spacing_2x}`},imgContainer:{width:"150px",position:"relative"},img:{position:"absolute",insetInlineEnd:0,height:"100%",width:"100%",objectFit:"scale-down"}});var X=a("aa08d245");const ee=e=>{var t,a,n;const{index:l}=e,{location:m}=(0,F.Z)(),f=(0,x.y)(ae),b=(0,c.getRequestContext)().getLanguage(),B=b&&["en-us","en-gb"].includes(b),I=(0,y.V0)("start_date",m.search),{state:L}=(0,E.si)(),{filterOptions:D}=L,R=(0,X.w)(),V=(()=>{const e=W(),{highIntentSearchWithoutPinnedProduct:t}=(0,S.A)(),{ufi:a}=(0,T.Z)(),{walletData:i}=(0,A.b)(),{isLargeViewport:n}=(0,h.T1)();return(0,r.useCallback)((r=>{const s=!(null===a||void 0===a||!a.scopeDetails),o=[];return r!==e.blackFriday||!w.F.isBlackFridayCampaignRunning()||t||s||o.push("blackFriday"),r!==e.dealsOfTheMonth||t||s||o.push("dealsOfTheMonth"),r!==e.discountedProducts||t||s||o.push("discountedProducts"),r!==e.login||(0,Z.P)()||o.push("login"),r===e.geniusSort&&o.push("geniusSort"),r!==e.thematicGroups||t||s||o.push("thematicGroups"),r!==e.themePark||t||s||o.push("themePark"),r===e.wallet&&i&&i.wallet.totalBalance.isPresent&&o.push("wallet"),r===e.userFeedback&&o.push("userFeedback"),r===e.geniusVipVoucher&&(0,Z.P)()&&(0,C.isFeatureRunning)(C.feature`cQYIMdUTNOUbIVFGWfdTDPdJaEHOGaMEAbXXRfUaKDDXO`)&&o.push("geniusVipVoucher"),n&&r===e.exploreByCategory&&o.push("exploreByCategory"),o}),[e,t,i,a,n])})(),{loading:M,suggestions:N,thematicGroups:G}=(0,p.f)(),{isLargeViewport:U}=(0,h.T1)(),Y=V(l),Q=[],K=!!(0,o.trackExperiment)(o.exp`HWAFNHUYTaeCVLLIYAZTRe`),q=!!(0,o.trackExperiment)(o.exp`HWAFYTfTLKGfIOeMBUUZDOLbFZVGAZKe`),j=!!(0,o.trackExperiment)(o.exp`HWAFYTfDHCOLZBUSEIYcMZINfKBKBUWe`),ee=!!(0,o.trackExperiment)(o.exp`HWAFYTaRQMeVXGRcAAKEfPdRT`);if((Y.includes("blackFriday")||Y.includes("discountedProducts")||Y.includes("thematicGroups"))&&M?Q.push({key:"suggestionsSkeleton",node:(0,i.tZ)(_.p,{carouselPosition:"cardList"})}):(Y.includes("dealsOfTheMonth")||Y.includes("themePark"))&&M&&Q.push({key:"suggestionsSkeletonWithSeeAllLink",node:(0,i.tZ)(_.p,{carouselPosition:"cardList",showSeeAllLink:!0})}),Y.includes("blackFriday")&&!M&&N.blackFriday.length&&w.F.isBlackFridayCampaignRunning()&&q&&Q.push({key:"blackFriday",node:(0,i.tZ)(z.df,{onChange:e=>{e&&k._.blackFriday.onView(N.blackFriday,U)}},(0,i.tZ)(g,{carouselPosition:"cardList",carouselType:"blackFriday",onCardClick:()=>{(0,o.trackCustomGoal)(o.exp`HWAFYTfTLKGfIOeMBUUZDOLbFZVGAZKe`,1),U&&(0,o.trackCustomGoal)(o.exp`HWAFYTfDHCOLZIHSHFTdbLSKSGQZbXHcKVT`,2),te(U)},roundPrices:!0,shouldFocusTicketSelector:ee}))}),M||N.blackFriday.length&&w.F.isBlackFridayCampaignRunning()&&q||(Y.includes("dealsOfTheMonth")&&N.dealsOfTheMonth.length?Q.push({key:"dealsOfTheMonth",node:(0,i.tZ)(z.df,{onChange:e=>{e&&((0,o.trackExperimentStage)(o.exp`HWAFNHUYHIPALCcYPBAVTJbFMOWe`,4),(0,o.trackExperimentStage)(o.exp`HWAFNHUYHIPALCcYPBAVTJbFMOWe`,6))}},(0,i.tZ)(g,{carouselPosition:"cardList",carouselType:"dealsOfTheMonth",onCardClick:()=>{(0,o.trackCustomGoal)(o.exp`HWAFNHUYHIPALCcYPBAVTJbFMOWe`,1),(0,o.trackCustomGoal)(o.exp`HWAFNHUYHIPALCcYPBAVTJbFMOWe`,3),U&&(0,o.trackCustomGoal)(o.exp`HWAFYTfDHCOLZIHSHFTdbLSKSGQZbXHcKVT`,2),te(U)},roundPrices:!0,shouldFocusTicketSelector:ee}))}):Y.includes("discountedProducts")&&N.discountedProducts.length&&Q.push({key:"discountedProducts",node:(0,i.tZ)(z.df,{onChange:e=>{e&&k._.blackFriday.onView(N.blackFriday,U)}},(0,i.tZ)(g,{carouselPosition:"cardList",carouselType:"discountedProducts",onCardClick:(e,t)=>{(0,P.T)(t.highlights,t.itinerary)?(0,o.trackCustomGoal)(o.exp`HWAFNQVeJOPIcfSePdbRe`,3):(0,o.trackCustomGoal)(o.exp`HWAFNQVeJOPIcfSePdbRe`,4),(0,o.trackCustomGoal)(o.exp`HWAFYTfTLKGfIOeMBUUZDOLbFZVGAZKe`,2),U&&(0,o.trackCustomGoal)(o.exp`HWAFYTfDHCOLZIHSHFTdbLSKSGQZbXHcKVT`,2),te(U)},onCardShow:(e,t)=>{(0,P.T)(t.highlights,t.itinerary)&&((0,o.trackExperimentStage)(o.exp`HWAFNQVeJOPIcfSePdbRe`,2),(0,o.trackExperimentStage)(o.exp`HWAFNQVeJOPIcfSePdbRe`,U?3:4),(0,o.trackExperimentStage)(o.exp`HWAFNQVeJOPIcfSePdbRe`,6))},roundPrices:!0,shouldFocusTicketSelector:ee}))})),Y.includes("thematicGroups")&&!M&&Object.keys(G).length&&K?Q.push({key:"thematicGroups",node:(0,i.tZ)(z.df,{onChange:e=>{e&&k._.thematicGroups.onView(G,U,B,I)}},(0,i.tZ)(v,null))}):Y.includes("themePark")&&!M&&N.themePark.length&&Q.push({key:"themePark",node:(0,i.tZ)(g,{carouselPosition:"cardList",carouselType:"themePark",onCardClick:(e,t)=>{(0,P.T)(t.highlights,t.itinerary)?(0,o.trackCustomGoal)(o.exp`HWAFNQVeJOPIcfSePdbRe`,3):(0,o.trackCustomGoal)(o.exp`HWAFNQVeJOPIcfSePdbRe`,4),U&&(0,o.trackCustomGoal)(o.exp`HWAFYTfDHCOLZIHSHFTdbLSKSGQZbXHcKVT`,2),te(U)},onCardShow:(e,t)=>{(0,P.T)(t.highlights,t.itinerary)&&((0,o.trackExperimentStage)(o.exp`HWAFNQVeJOPIcfSePdbRe`,2),(0,o.trackExperimentStage)(o.exp`HWAFNQVeJOPIcfSePdbRe`,U?3:4),(0,o.trackExperimentStage)(o.exp`HWAFNQVeJOPIcfSePdbRe`,6))},roundPrices:!0,shouldFocusTicketSelector:ee})}),(0,Z.P)()&&(0,o.trackExperiment)(o.exp`HWAFYTfVdQbHVEZYSCC`)&&null!==(t=L.sorters)&&void 0!==t&&t.some((e=>"genius"===e.value))&&Y.includes("geniusSort")&&"genius"!==(null===(a=R.activeSorter)||void 0===a?void 0:a.value)){const e=e=>{e&&k._.geniusSort.onView(U)};Q.push({key:"geniusSort",node:(0,i.tZ)(z.df,{onChange:e},(0,i.tZ)(J,{onCtaClick:()=>{R.onChange({value:"genius"}),window.scrollTo({top:0,behavior:"smooth"})}}))})}else Y.includes("login")&&Q.push({key:"login",node:(0,i.tZ)(d.e,{source:"search_results",titleTagName:"h3"})});return Y.includes("geniusVipVoucher")&&Q.push({key:"geniusVipVoucher",node:(0,i.tZ)(O.D,null)}),Y.includes("wallet")&&Q.push({key:"wallet",node:(0,i.tZ)(u.e,{type:u.y.SearchPage})}),Y.includes("userFeedback")&&Q.push({key:"userFeedback",node:(0,i.tZ)(H.G,{page:"search_results_page"})}),j&&Y.includes("exploreByCategory")&&null!==D&&void 0!==D&&null!==(n=D.typeFilters)&&void 0!==n&&n.length&&Q.push({key:"exploreByCategory",node:(0,i.tZ)(z.df,{onChange:e=>{e&&k._.exploreByCategory.onView()}},(0,i.tZ)($,null))}),Q.length?Q.map((e=>(0,i.tZ)(s.GridColumn,{css:f.gridColumn,key:e.key,tagName:"li",size:12},e.node))):null},te=e=>{(0,o.trackExperimentStage)(o.exp`HWAFYTaRQMeVXGRcAAKEfPdRT`,5),(0,o.trackExperimentStage)(o.exp`HWAFYTaRQMeVXGRcAAKEfPdRT`,9),(0,o.trackExperimentStage)(o.exp`HWAFYTaRQMeVXGRcAAKEfPdRT`,e?7:6)},ae=()=>(0,x.k)({gridColumn:{"&:empty":{display:"none"}}});var ie=a("aa952bae");const re=e=>{let{attractions:t,unavailableAttractions:a,"data-testid":r,onCardClick:c,onCardShow:d}=e;const u=(0,x.y)(ne),{state:{pageLayout:_,pinnedProduct:p}}=(0,E.si)(),{isLargeViewport:g}=(0,h.T1)(),m=(0,o.trackExperiment)(o.exp`HWAFYTfDHCOLZOHeYYFGO`),f=!!m,b=(0,ie.MS)();return(0,i.tZ)("div",{"data-testid":r},(0,i.tZ)(s.Grid,{columns:12,css:f?u["gridSpacing--gridView"]:void 0,"data-testid":r,gap:g?4:1,tagName:"ul"},t.map(((e,t)=>{const r=e.id===p&&!b.length||b[0]===e.id,o=!!e.id&&(null===a||void 0===a?void 0:a.has(e.id));return(0,i.tZ)(n().Fragment,{key:e.id},(0,i.tZ)(ee,{index:t}),(0,i.tZ)(s.GridColumn,{css:u.gridColumn,tagName:"li",size:"GRID"===_&&f?1===m?6:4:12},(0,i.tZ)(l._U.Content,{attraction:e,highlighted:r,index:t,isUnavailableForDates:o,onClick:(e,t)=>{c&&c(e,t)},onShow:(e,t)=>{d&&d(e,t)}})))}))))},ne=()=>(0,x.k)({"gridSpacing--gridView":{alignItems:"stretch"},gridColumn:{"&:empty":{display:"none"}}});var se=a("7760db43"),oe=a("2438bcaf");const le=e=>{let{productSortType:t,attractions:a,loading:r=!1,onCardClick:n,onCardView:s}=e;const c=(0,x.y)(ce),{c360:d}=(0,se.Z)(),{isLargeViewport:u}=(0,h.T1)(),_=r?Array.from(new Array(4).keys()):a;return(0,i.tZ)("ul",{css:c.cardGrid},(0,i.tZ)(I.R,{direction:"row",wrap:"wrap"},_.map(((e,_)=>(0,i.tZ)("li",{key:e.id,css:[c.cardWrapper,_%2?c.cardWrapper__even:c.cardWrapper__odd,a.length-_<=2&&c.cardWrapper__lastTwo,"",""]},r?(0,i.tZ)(l.i4.Skeleton,null):(0,i.tZ)(l.i4.Content,{attraction:e,index:_,onClick:()=>{e&&n&&(d.event("cp_product_clicked","1.0.0",{travel_product:{object_rank:{rank_absolute:_,page_size:a.length},travel_product:d.payloadBuilder.travelProduct(e)},sorter_used:{sorter_id:t}}),n(_),(0,oe.ze)(e,"click","city",u),(0,o.trackCustomGoal)(o.exp`HWAFNQBSdVFdXUWcaAEUZC`,5))},onShow:()=>{var i;e&&s&&(d.event("cp_product_viewed","1.0.0",{travel_product:{object_rank:{rank_absolute:_,page_size:a.length},travel_product:d.payloadBuilder.travelProduct(e)},sorter_used:{sorter_id:t}}),s(e,_),(0,oe.ze)(e,"view","city",u),(0,o.trackExperimentStage)(o.exp`HWAFNQBSdVFdXUWcaAEUZC`,2),(0,o.trackExperimentStage)(o.exp`HWAFNQBSdVFdXUWcaAEUZC`,6),e.cancellationPolicy.hasFreeCancellation&&(0,o.trackCustomGoal)(o.exp`HWAFNQBSdVFdXUWcaAEUZC`,2),null!==(i=e.typicalDuration)&&void 0!==i&&i.label&&(0,o.trackCustomGoal)(o.exp`HWAFNQBSdVFdXUWcaAEUZC`,3))}}))))))},ce=e=>(0,x.k)({cardGrid:{listStyle:"none",margin:0,[K.gp]:{background:e.colors.color_background_alt,borderTop:`1px solid ${e.colors.color_border_alt}`,borderBottom:`1px solid ${e.colors.color_border_alt}`,margin:`0 -${e.units.spacing_4x}`,padding:`${e.units.spacing_2x} 0 0`}},cardWrapper:{boxSizing:"border-box",paddingBottom:e.units.spacing_4x,flexBasis:"100%",maxWidth:"100%",[K.gp]:{paddingBottom:e.units.spacing_2x},[K.FU]:{flexBasis:"50%",maxWidth:"50%"}},cardWrapper__even:{[K.FU]:{paddingLeft:e.units.spacing_2x,"[dir=rtl] &":{paddingRight:e.units.spacing_2x,paddingLeft:0}}},cardWrapper__odd:{[K.FU]:{paddingRight:e.units.spacing_2x,"[dir=rtl] &":{paddingLeft:e.units.spacing_2x,paddingRight:0}}},cardWrapper__lastTwo:{[K.FU]:{paddingBottom:0}}})},"1ff49fad":(e,t,a)=>{"use strict";a.d(t,{b:()=>p});var i=a("b4083f42"),r=(a("ead71eb0"),a("6222292b")),n=a("c44dcb0c"),s=a("274ec0ed"),o=a("74ac0209"),l=a("45ccbd8e");const c=e=>{const{extraCss:t,actions:a,name:o,icon:c,text:u,title:_,variant:p,bleed:g,children:m,source:f}=e,{translate:b}=(0,n.useTranslations)(),h=(0,l.y)(d),v=`attr_${o}`,[y,x]=(0,s._)(v,!1);let k=a;return k&&(k=k.map((e=>({...e,loading:e.loading,loadingAriaLabel:(null===e||void 0===e?void 0:e.loadingAriaLabel)||b("a11y_att_lf_button_loading_state_processing")})))),!0===y?null:(0,i.tZ)(r.Banner,{css:[h.dismissibleBanner,"search_results"===f&&h.dismissibleBanner__searchResults,t,"",""],startIcon:c?(0,i.tZ)(r.Icon,{svg:c,size:"larger"}):void 0,title:_,text:u,actions:k,variant:p,onClose:()=>{x(!0),e.onClose&&e.onClose()},closeAriaLabel:b("close"),bleed:g},m)},d=()=>(0,l.k)({dismissibleBanner:{position:"relative",zIndex:1},dismissibleBanner__searchResults:{[o.gp]:{borderLeft:"none",borderRight:"none",borderRadius:0}}});var u=a("dc6d28ff");const _=["at","be","bg","hr","cy","cz","dk","ee","fi","fr","de","el","hu","ie","it","lv","lt","lu","mt","nl","pl","pt","ro","sk","si","es","se","no","is","li"],p=e=>{const{source:t,margin:a,bleed:r=!1}=e,s=(0,l.y)(g(a)),o=(0,u.getRequestContext)(),d=o.getVisitorCountry()??"";return _.includes(d)?(0,i.tZ)(c,{name:"dsa_how_we_work_banner",source:t,bleed:r,variant:"neutral",extraCss:s.container},(0,i.tZ)("span",null,(0,i.tZ)(n.Trans,{tag:"attractions_sr_web_eea_dsa_banner"})," ",(0,i.tZ)("a",{href:"https://www.booking.com/content/how_we_work.<LANG>.html?#nov2021_how_we_work_attractions_ranking_subheading".replace("<LANG>",o.getLanguage()),target:"_blank",rel:"noreferrer"},(0,i.tZ)(n.Trans,{tag:"attractions_sr_web_eea_dsa_banner_cta"})))):null},g=e=>()=>{const[t,a,i,r]=e||[];return(0,l.k)({container:{...e&&{margin:`${t} ${a} ${i} ${r}`}}})}},f10a6b4d:(e,t,a)=>{"use strict";a.d(t,{F:()=>o});var i=a("b4083f42"),r=a("c44dcb0c"),n=a("6222292b"),s=a("45ccbd8e");const o=e=>{let{discount:t,variant:a="constructive",alternative:o=!1}=e;const c=(0,s.y)(l),{translate:d}=(0,r.useTranslations)(),u=d("attractions_discounts_badge_num_percentage_off",{variables:{num_discount:t}});return(0,i.tZ)(n.Badge,{css:c.badge,text:u,variant:a,alternative:o,attributes:{"data-testid":"discount-badge"}})},l=()=>(0,s.k)({badge:{whiteSpace:"nowrap"}})},cbe54cba:(e,t,a)=>{"use strict";a.d(t,{d:()=>d,B:()=>c});var i=a("b4083f42"),r=(a("ead71eb0"),a("6222292b")),n=a("c44dcb0c"),s=a("a0585de1"),o=a("7b5b6285"),l=a("45ccbd8e");let c=function(e){return e.dates="dates",e.sorters="sorters",e.filters="filters",e.walletInfo="wallet-info",e}({});const d=e=>{const{location:t,replaceRoute:a}=(0,o.Z)(),{translate:c}=(0,n.useTranslations)(),d=(0,l.y)(u),{name:_,children:p,onClose:g,title:m}=e,f=(0,s.$s)(t.search);return(0,i.tZ)(r.SheetContainer,{onCloseTrigger:()=>{a({addQuery:{drawer:void 0}},t.state),g&&g()},title:m,closeAriaLabel:c("a11y_att_sr_close_cta"),active:f.drawer===_,"data-testid":"drawer",css:d.drawer},p)},u=()=>(0,l.k)({drawer:{width:"100%"}})},bd852bbf:(e,t,a)=>{"use strict";a.d(t,{h:()=>I});var i=a("b4083f42"),r=a("ead71eb0"),n=a.n(r),s=a("28dbd132"),o=a("c44dcb0c"),l=a("ce0d1531"),c=a("6222292b"),d=a("a590b133"),u=a("2745372d"),_=a("a0585de1"),p=a("45ccbd8e"),g=a("7b5b6285");const m=e=>{const{childOption:t,onChange:a,parentOption:r,preventToggleOnChange:n,selected:s,variant:o}=e,l=(0,p.y)(f),d=t?t.value:r.value;return(0,i.tZ)("div",{css:l.option},(0,i.tZ)("input",{css:l.input,checked:s,id:d,name:t?"filter_by_subcategory":"filter_by_type",onChange:e=>a(e,r,t),onClick:e=>e.stopPropagation(),type:"checkbox"}),(0,i.tZ)("label",{css:l.label,htmlFor:d,onClick:e=>{n&&e.stopPropagation()}},(0,i.tZ)(c.Text,{tagName:"span",variant:s?"strong_2":"body_2"},"child"===o&&t?t.name:r.name),"parentWithChildren"===o&&(0,i.tZ)(c.Text,{tagName:"span",variant:"body_2",css:l.productCount,color:0===r.productCount?"disabled":"neutral_alt"},`(${r.productCount})`)))},f=e=>(0,p.k)({option:{display:"flex",position:"relative"},input:{border:0,height:1,opacity:0,overflow:"hidden",position:"absolute",width:1,"&:focus + label":{outline:`2px solid ${e.colors.color_action_border}`}},label:{background:"transparent",borderRadius:e.units.border_radius_100,cursor:"pointer",margin:`0 -${e.units.spacing_2x}`,padding:e.units.spacing_2x,transition:"var(--bui_animation_hover)","&:hover":{background:e.colors.color_highlighted_alt}},productCount:{margin:`0 0 0 ${e.units.spacing_1x}`,"[dir=rtl] &":{margin:`0 ${e.units.spacing_1x} 0 0`}}});var b=a("9a67ad93");const h=e=>{const{childOptions:t={},childValues:a=[],label:n,onChange:s,onToggleGroup:o,onView:l,options:f,value:h}=e,{location:y}=(0,g.Z)(),x=(0,p.y)(v),[k,C]=(0,r.useState)([]),w=(0,r.useMemo)((()=>(0,u.LD)(t)),[t]),Z=(e,t)=>{e.preventDefault(),e.stopPropagation();const i=h.includes(t.value),r=w[t.value].some((e=>a.includes(e))),n=i?h.filter((e=>e!==t.value)):[...h,t.value];if(s({name:"filter_by",value:n}),r){const e=w[t.value],i=a.filter((t=>!e.includes(t)));s({name:"filter_by_subcategory",value:i})}},S=(e,t,i)=>{const r=h.includes(t.value),n=a.includes(i.value);if(!0===r){const e=h.filter((e=>e!==t.value)),r=[...a,...w[t.value].filter((e=>e===i.value))];s({name:"filter_by",value:e}),s({name:"filter_by_subcategory",value:r})}else{const e=n?a.filter((e=>e!==i.value)):[...a,i.value];s({name:"filter_by_subcategory",value:e})}},T=(e,t)=>{o&&o();const a=[...k];"open"===t?a.push(e.value):a.splice(a.indexOf(e.value),1),C(a)};(0,r.useEffect)((()=>C((0,_.tg)("filter_by",y.search))),[]);const{ref:A}=(0,b.YD)({onChange:e=>{e&&(null===l||void 0===l||l())},rootMargin:"0px 0px 500px 0px"});return(0,i.tZ)(d.R,{margin:["none","none","spacing_6x"],ref:A},(0,i.tZ)("fieldset",{css:x.container,"data-testid":"accordion-list-group"},(0,i.tZ)("legend",{css:x.legend},(0,i.tZ)(c.Text,{tagName:"h3",variant:"strong_2"},n)),f.map((e=>{const r=h.includes(e.value),n=a.some((t=>w[e.value].includes(t))),s=e.value&&t[e.value];return s?(0,i.tZ)(c.Accordion,{attributes:{"data-testid":`accordion-list-group-${e.value}`},defaultActive:r||n,key:e.value,onClose:()=>T(e,"close"),onOpen:()=>T(e,"open"),titleContent:(0,i.tZ)(m,{onChange:Z,parentOption:e,preventToggleOnChange:r||k.includes(e.value),selected:r||n,variant:"parentWithChildren"})},(0,i.tZ)("div",{css:x.childOptions,"data-testid":`accordion-list-group-children-${e.value}`},s.map((t=>{const r=a.includes(t.value);return(0,i.tZ)(m,{childOption:t,key:t.value,onChange:S,parentOption:e,selected:r,variant:"child"})})))):(0,i.tZ)(m,{onChange:Z,parentOption:e,selected:r,variant:"parent"})}))))},v=e=>(0,p.k)({container:{border:"none",margin:0,padding:0},legend:{padding:`0 0 ${e.units.spacing_2x}`},childOptions:{alignItems:"flex-start",display:"flex",flexDirection:"column",marginTop:`-${e.units.spacing_4x}`,padding:`0 0 0 ${e.units.spacing_4x}`},count:{marginLeft:e.units.spacing_1x,"[dir=rtl] &":{marginRight:e.units.spacing_1x,marginLeft:"auto"}}});var y=a("3d054e81"),x=a("e7547f91"),k=a("9f694d85");const C=e=>{const{accordionLabelId:t,children:a,className:l,defaultActive:d,titleContent:u}=e,{translate:_}=(0,o.useTranslations)(),g=(0,r.useId)(),m=(0,r.useRef)(null),[f,b]=(0,r.useState)(),h=`${g}-content`,[v,y]=n().useState(d?"opened":"closed"),[C,Z]=(0,r.useState)(d||!1),S=(0,p.y)(w);(0,r.useEffect)((()=>{"closed"===v&&C?y("opening"):"opened"!==v||C||y("closing")}),[C]),(0,r.useEffect)((()=>{const e=m.current;e&&b("closing"===v||"closed"===v?void 0:`${e.getBoundingClientRect().height}px`)}),[v]),(0,r.useEffect)((()=>{d&&Z(d)}),[d]);const{isLargeViewport:T}=(0,k.T1)(),A=!T&&!!(0,s.trackExperiment)(s.exp`HWAFYTfVEBJMLaRXZVBBVYYT`);return(0,i.tZ)("div",{css:S.container,className:l,"data-testid":e["data-testid"]},(0,i.tZ)("div",{css:S.title},(0,i.tZ)("span",{id:g},u),(0,i.tZ)(c.Button,{attributes:{"aria-expanded":C,"aria-controls":h,"aria-describedby":t,"aria-label":_(C?"attractions_disco_sr_category_accordian_collapse":"attractions_disco_sr_category_accordian_expand")},css:[S.toggleButton,C&&S["toggleButton--open"],"",""],onClick:()=>Z(!C),variant:"tertiary-neutral"},(0,i.tZ)(c.Icon,{color:"neutral_alt",svg:(0,i.tZ)(x.Z,null),size:A?"medium":"large"}))),(0,i.tZ)("div",{"aria-labelledby":g,css:S.content,hidden:!C,id:h,style:{height:f},onTransitionEnd:()=>{y(C?"opened":"closed")}},(0,i.tZ)("div",{css:S.contentPadding,ref:m},a)))},w=e=>(0,p.k)({container:{display:"flex",flexDirection:"column"},title:{alignItems:"center",display:"flex",justifyContent:"space-between"},content:{height:0,overflow:"hidden",transition:"height 0.2s ease-out"},contentPadding:{paddingTop:e.units.spacing_3x},toggleButton:{minHeight:"inherit",minWidth:"inherit",padding:0,"> span":{transition:"transform linear .1s"}},"toggleButton--open":{"> span":{transform:"rotate(180deg)"}}}),Z=e=>{let{title:t,name:a,options:l=[],values:_=[],childName:g,childOptions:m={},childValues:f=[],onChange:b,enableAutoExpand:h=!0,onToggleGroup:v}=e;const x=(0,p.y)(S),{translate:w}=(0,o.useTranslations)(),[Z,T]=(0,r.useState)((0,u.nf)(m,f,_)),A=(0,r.useMemo)((()=>(0,u.LD)(m)),[m]),F=(0,r.useMemo)((()=>l.reduce(((e,t)=>({...e,[t.value]:_.includes(t.value)})),{})),[l,_]),E=(0,r.useMemo)((()=>(0,u.Ky)(l,m,f)),[l,m,f]),W=(0,r.useMemo)((()=>(0,u.Q4)(m,Z)),[m,Z]),H=(0,r.useMemo)((()=>(0,u.uZ)(m,f,_)),[_,f,m]),O=(0,r.useMemo)((()=>(0,u.tW)(l,m)),[l,m]),{isLargeViewport:P}=(0,k.T1)(),B=!P&&!!(0,s.trackExperiment)(s.exp`HWAFYTfVEBJMLaRXZVBBVYYT`);return(0,i.tZ)(n().Fragment,null,(0,i.tZ)("fieldset",{css:x.container,"data-testid":"accordion-checkbox-group"},(0,i.tZ)("legend",{css:x.title},t),(0,i.tZ)("div",{css:[x.options,B&&x.options__isRedesigned,"",""]},l.map((e=>{const t=W[e.value],r=E[e.value],n=F[e.value],s={...!n&&r&&{checked:!1},...n&&!r&&{checked:!0},...!n&&!r&&{checked:!1}},o={accordionLabelId:`${e.value}-label`,"data-testid":`accordion-group-for-${e.value}`,...v&&{onOpen:v,onClose:v}},l=h&&n||r;return t.length>1?(0,i.tZ)(C,(0,y.Z)({},o,{key:e.value,defaultActive:l,titleContent:(0,i.tZ)(c.InputCheckbox,(0,y.Z)({},s,{css:x.option,label:e.label,name:a,value:e.value,indeterminate:r,disabled:e.disabled,onChange:t=>{let{value:i,checked:n}=t;const s=[..._??[],i];b({name:a,value:Array.from(new Set(n&&!r?s:s.filter((e=>e!==i))))});const o=_.reduce(((e,t)=>[...e,...O[t]??[]]),O[e.value]??[]);b({name:g,value:H.filter((e=>!o.includes(e)))}),n&&T({...Z,[e.value]:!0})}}))}),(0,i.tZ)(d.R,{css:x.childOptionContainer,"data-testid":`child-input-group-${e.value}`},(0,i.tZ)(c.InputCheckboxGroup,{css:x.option,name:g,value:H,onChange:t=>{let{value:i}=t;const r=(_??[]).filter((t=>!t.includes(e.value))),n=r.reduce(((e,t)=>[...e,...A[t]??[]]),[]),s=i.filter((e=>!n.includes(e)));b({name:g,value:s}),b({name:a,value:r})}},(0,i.tZ)(c.Stack,{gap:B?3:void 0},t.map((e=>(0,i.tZ)(c.InputCheckbox,(0,y.Z)({key:e.value},e)))))),!Z[e.value]&&(0,i.tZ)(d.R,{margin:["spacing_2x","none"]},(0,i.tZ)(c.Link,{attributes:{"data-testid":`child-input-group-${e.value}-show-all`},text:w("att_sr_filter_city_more_cta"),onClick:()=>{T({...Z,[e.value]:!0})}})))):(0,i.tZ)(c.InputCheckbox,(0,y.Z)({},s,{css:x.option,key:e.value,label:e.label,name:a,value:e.value,disabled:e.disabled,onChange:e=>{let{value:t,checked:i}=e;const r=[..._??[],t];b({name:a,value:Array.from(new Set(i?r:r.filter((e=>e!==t))))})}}))})))))},S=e=>(0,p.k)({container:{border:"none",padding:0,margin:0},title:{margin:0,padding:`0 0 ${e.units.spacing_1x}`},options:{display:"flex",flexDirection:"column",gap:e.units.spacing_2x},options__isRedesigned:{gap:e.units.spacing_3x},option:{width:"100%"},childOptionContainer:{paddingBlockEnd:`${e.units.spacing_2x}`,marginLeft:e.units.spacing_6x,"[dir=rtl] &":{marginRight:e.units.spacing_6x,marginLeft:"auto"}}}),T=e=>{const{setShowAllOptions:t,totalShowMoreOptions:a,totalOptions:i,label:r}=e,{translate:l}=(0,o.useTranslations)(),u=!!(0,s.trackExperiment)(s.exp`HWAFYTacWCcacdJXINUC`);return n().createElement(d.R,{margin:["spacing_2x","none"]},n().createElement(c.Link,{text:r||(u?l("att_sr_filter_city_more_total_number_cta",{variables:{total_num:1===a?a:i},num_exception:1===a?a:i}):l("att_sr_filter_city_more_cta")),onClick:()=>{t(!0),(0,s.trackCustomGoal)(s.exp`HWAFYTacWCcacdJXINUC`,1)}}))},A=e=>{const{childName:t,childOptions:a,childValues:o,initialLimit:l=10,name:d,options:u,showMoreLabel:_,onChange:g,onView:m,value:f,onToggleGroup:h}=e,v=(0,p.y)(F),{isLargeViewport:x}=(0,k.T1)(),C=!x&&!!(0,s.trackExperiment)(s.exp`HWAFYTfVEBJMLaRXZVBBVYYT`),w=e.label&&(0,i.tZ)(c.Text,{tagName:"h3",variant:C?"strong_1":"emphasized_2",css:C?{paddingBottom:"4px"}:null},e.label),S=!!(0,s.trackExperiment)(s.exp`HWAFYTfePHGPVdMPXKBeWe`),[A,E]=(0,r.useState)(!1),W=(0,r.useMemo)((()=>!x&&S?u:u.slice(0,A?u.length:l)),[l,u,A,x,S]),H=(0,r.useMemo)((()=>u.length-W.length),[u,W]);(0,r.useEffect)((()=>{if(A){document.querySelectorAll(`input[name=${d}]`)[l].focus(),window.scrollTo(window.scrollX,window.scrollY-1),window.scrollTo(window.scrollX,window.scrollY+1)}}),[l,d,A]);const O=!A&&u.length>l,P=O&&(x||!S),B=(0,r.useCallback)((()=>{m&&m(),(0,s.trackExperimentStage)(s.exp`HWAFYTacWCcacdJXINUC`,2),O&&(P&&((0,s.trackExperimentStage)(s.exp`HWAFYTacWCcacdJXINUC`,3),(0,s.trackExperimentStage)(s.exp`HWAFYTacWCcacdJXINUC`,x?5:4)),x||((0,s.trackExperimentStage)(s.exp`HWAFYTfePHGPVdMPXKBeWe`,2),(0,s.trackExperimentStage)(s.exp`HWAFYTfePHGPVdMPXKBeWe`,3)))}),[x,O,m,P]),I=(0,r.useMemo)((()=>!!a&&!!Object.keys(a).flatMap((e=>a[e])).length),[a]),{ref:L}=(0,b.YD)({onChange:e=>{e&&(null===B||void 0===B||B())},rootMargin:"0px 0px 500px 0px"});return(0,i.tZ)("div",{ref:L},t&&a&&o&&I?(0,i.tZ)(Z,{title:w,name:d,options:u,values:f,childName:t,childOptions:a,childValues:o,onChange:g,enableAutoExpand:!1,onToggleGroup:h}):(0,i.tZ)(n().Fragment,null,(0,i.tZ)(c.InputCheckboxGroup,{label:w,name:d,value:f,onChange:g},(0,i.tZ)(c.Stack,{gap:x?2:3},W.map((e=>(0,i.tZ)(c.InputCheckbox,(0,y.Z)({key:e.value},e,{onChange:void 0,css:C&&v.option})))))),P&&(0,i.tZ)(T,{label:_,setShowAllOptions:E,totalShowMoreOptions:H,totalOptions:u.length})))},F=()=>(0,p.k)({option:{overflowAnchor:"none"}}),E=e=>{const{childOptions:t}=e,a=!!(0,s.trackExperiment)(s.exp`HWAFYTacWCcAcJIYINNDdeKe`);return(0,r.useMemo)((()=>!!t&&!!Object.keys(t).flatMap((e=>t[e])).length),[t])&&a?(0,i.tZ)(h,e):(0,i.tZ)(A,e)},W=()=>{const e=(0,p.y)(H);return(0,i.tZ)("div",{css:e.container},["s1","s2","s3","s4"].map((t=>(0,i.tZ)("div",{css:e.filterGroup,key:t},(0,i.tZ)("div",{css:e.title}),(0,i.tZ)("div",{css:e.options},(0,i.tZ)("div",{css:e.option}),(0,i.tZ)("div",{css:e.option}),(0,i.tZ)("div",{css:e.option}))))))},H=e=>(0,p.k)({container:{position:"relative",marginTop:e.units.spacing_4x},filterGroup:{position:"relative",display:"flex",flexDirection:"column",marginBottom:e.units.spacing_6x},title:{backgroundColor:e.colors.color_background_alt,height:e.fonts.medium.font_strong_1.lineHeight,marginBottom:e.units.spacing_2x,borderRadius:e.units.border_radius_100,width:100},options:{display:"flex",flexDirection:"column",gap:e.units.spacing_2x},option:{backgroundColor:e.colors.color_background_alt,borderRadius:e.units.border_radius_100,height:e.fonts.medium.font_body_2.lineHeight}});var O=a("6a4a8474"),P=a("2fe2e183");var B={name:"xctmr2",styles:"margin-block:12px"};const I=e=>{const{location:t}=(0,g.Z)(),{translate:a}=(0,o.useTranslations)(),{state:d}=(0,O.si)(),{loading:m,ufi:f}=(0,P.Z)(),h=(0,p.y)(L),{state:v}=e,{hasData:y,modalGroup:x,filters:C,activeFilters:w,onChange:Z}=v,{isLargeViewport:S}=(0,k.T1)(),T=!(null===f||void 0===f||!f.scopeDetails),F=(0,_.V0)("url_code",t.search),H=!!(0,s.trackExperiment)(s.exp`HWAFNHUYTaGBMLaUC`),I=!S&&!!(0,s.trackExperiment)(s.exp`HWAFYTfVEBJMLaRXZVBBVYYT`),D=(0,r.useMemo)((()=>{const e=C.filter_by_subcategory.length>0&&!I;return(0,u.ng)("filter_by",T?C.filter_by.map((e=>({...e,childFilterOptions:[]}))):C.filter_by,!I,void 0,!0,e)}),[I,C.filter_by,C.filter_by_subcategory.length,T]),R=(0,r.useMemo)((()=>(0,u.l$)(C.filter_by,T,!I)),[I,C.filter_by,T]),V=(0,r.useMemo)((()=>!!Object.keys(R).flatMap((e=>R[e])).length),[R]),M=(0,r.useMemo)((()=>(0,u.ng)("filter_by_label",C.filter_by_label,!1)),[C.filter_by_label]),N=(0,r.useMemo)((()=>T||!C.filter_by_ufi||C.filter_by_ufi.length<2?[]:(0,u.ng)("filter_by_ufi",C.filter_by_ufi,!I)),[I,C.filter_by_ufi,T]),G=(0,r.useMemo)((()=>(0,u.ng)("filter_by_price",C.filter_by_price,!1)),[C.filter_by_price]),U=(0,r.useMemo)((()=>(0,u.ng)("filter_by_language",C.filter_by_language,!I)),[I,C.filter_by_language]),Y=(0,r.useMemo)((()=>{const e=(0,u.ng)("filter_by_time_of_day",C.filter_by_time_of_day,!I);return(0,u.ni)(e)}),[I,C.filter_by_time_of_day]),$=(0,r.useMemo)((()=>(0,u.ng)("filter_by_min_rating",C.filter_by_min_rating,!1)),[C.filter_by_min_rating]),Q=(0,r.useCallback)((()=>{V&&((0,s.trackExperimentStage)(s.exp`HWAFYTacWCcAcJIYINNDdeKe`,4),(0,s.trackExperimentStage)(s.exp`HWAFYTacWCcAcJIYINNDdeKe`,S?6:5))}),[V,S]);if(!(!m&&d.ufi===(null===f||void 0===f?void 0:f.ufi)&&y))return(0,i.tZ)(W,null);const z=I?(0,i.tZ)(c.Divider,{css:B}):null,K=(0,i.tZ)(n().Fragment,null,(0,i.tZ)(A,{label:x?void 0:a("att_sr_filter_city_header"),name:"filter_by_ufi",options:N,value:w.filter_by_ufi,onChange:Z}),z);return(0,i.tZ)(n().Fragment,null,!x&&C.filter_by_landing_category.length>0?(0,i.tZ)(n().Fragment,null,(0,i.tZ)(c.InputCheckboxGroup,{name:"filter_by_landing_category",value:w.filter_by_landing_category,onChange:e=>{Z(e),(0,s.trackCustomGoal)(s.exp`HWAFYTaYSEYCBOcaGPaVHXT`,1)}},(0,i.tZ)(c.Stack,{gap:4,direction:"row"},C.filter_by_landing_category.map((e=>(0,i.tZ)(c.Chip,{key:e.tagname,label:e.name,dismissible:!I,value:e.tagname}))))),z):null,d.showAvailabilityFilters&&(!x||x&&"filter_by_availability"===x)&&(0,i.tZ)(b.df,null,(e=>{let{inView:t,ref:a}=e;return t&&((0,s.trackExperimentStage)(s.exp`HWAFNHUYTaGBMLaUC`,3),(0,s.trackExperimentStage)(s.exp`HWAFNHUYTaGBMLaUC`,S?4:5),(0,s.trackExperimentStage)(s.exp`HWAFNHUYTaGBMLaUC`,F?6:7)),(0,i.tZ)("div",{css:!I&&h.availabilityGroup,ref:a},H&&(0,i.tZ)(n().Fragment,null,(0,i.tZ)(l.D,{onChange:Z,value:w.filter_by_availability}),z))})),!!N.length&&(!x||x&&"filter_by_ufi"===x)&&K,!!D.length&&(!x||x&&"filter_by"===x)&&(0,i.tZ)(n().Fragment,null,(0,i.tZ)(E,{label:x?void 0:a("att_sr_filters_category_subheader"),name:"filter_by",options:D,value:w.filter_by,onChange:Z,onView:Q,childName:"filter_by_subcategory",childOptions:R,childValues:w.filter_by_subcategory}),z),!!G.length&&(!x||x&&"filter_by_price"===x)&&(0,i.tZ)(n().Fragment,null,(0,i.tZ)(A,{label:x?void 0:a("att_sr_filters_price_subheader"),name:"filter_by_price",options:G,value:w.filter_by_price,onChange:Z}),z),!!M.length&&!x&&(0,i.tZ)(n().Fragment,null,(0,i.tZ)(A,{label:a("attractions_uf_filter_bar_misc_filter_header_show_results"),name:"filter_by_label",options:M,value:w.filter_by_label,onChange:Z}),z),!!$.length&&(!x||x&&"filter_by_min_rating"===x)&&(0,i.tZ)(n().Fragment,null,(0,i.tZ)(A,{label:x?void 0:a("attractions_uf_sr_review_filters_filter_header"),name:"filter_by_min_rating",options:$,value:w.filter_by_min_rating,onChange:Z}),z),!!Y.length&&(!x||x&&"filter_by_time_of_day"===x)&&(0,i.tZ)(n().Fragment,null,(0,i.tZ)(A,{label:x?void 0:a("attractions_uf_time_of_day_filter_header"),name:"filter_by_time_of_day",options:Y,value:w.filter_by_time_of_day,onChange:Z}),z),!!U.length&&(!x||x&&"filter_by_language"===x)&&(0,i.tZ)(A,{label:x?void 0:a("attractions_uf_sr_filter_sort_languages_header"),showMoreLabel:a("a11y_attractions_web_sr_show_more_languages"),initialLimit:I?void 0:4,name:"filter_by_language",options:U,value:w.filter_by_language,onChange:Z}))},L=e=>(0,p.k)({availabilityGroup:{":empty":{marginBlockEnd:`-${e.units.spacing_6x}`}}})},"2745372d":(e,t,a)=>{"use strict";a.d(t,{tS:()=>v,ni:()=>w,Q4:()=>m,uZ:()=>f,Ky:()=>g,w2:()=>Z,ed:()=>y,nf:()=>h,tW:()=>b,LD:()=>p,ng:()=>u,l$:()=>_});var i=a("3d054e81"),r=a("ead71eb0"),n=a.n(r),s=a("b4083f42"),o=a("6222292b"),l=a("45ccbd8e");const c=e=>{const t=(0,l.y)(d),{productCount:a,showProductCount:i=!0}=e;return(0,s.tZ)("div",{id:`${e.tagname}-label`},(0,s.tZ)(o.Text,{tagName:"span",variant:"body_2"},e.name),i&&(0,s.tZ)(o.Text,{tagName:"span",variant:"body_2",color:0===a?"disabled":"neutral_alt",css:[t.count,"",""]},`(${e.productCount})`))},d=e=>(0,l.k)({count:{marginLeft:e.units.spacing_1x,"[dir=rtl] &":{marginRight:e.units.spacing_1x,marginLeft:"inherit"}}}),u=(e,t,a,r,s,o)=>{if(!t||0===t.length)return[];const l=[...t];a&&l.sort(((e,t)=>{const a=((null===t||void 0===t?void 0:t.productCount)||0)-((null===e||void 0===e?void 0:e.productCount)||0),i=((null===t||void 0===t?void 0:t.name)||"")<((null===e||void 0===e?void 0:e.name)||"")?1:-1;return a||i}));const d=(l.map((e=>!!(e.childFilterOptions&&e.childFilterOptions.length>1)))||[]).includes(!0),u=l.slice(0,r||t.length).map((t=>{const a=!!(t.childFilterOptions&&t.childFilterOptions.length>1);return{...0===t.productCount&&{disabled:!0},label:n().createElement(c,(0,i.Z)({},t,{filterGroup:e,filterGroupHasChildOptions:d,filterHasChildOptions:a,showProductCount:s})),name:t.name,productCount:t.productCount,value:t.tagname||""}}));if(o){const e=t.filter((e=>{var t;return(null===(t=e.childFilterOptions)||void 0===t?void 0:t.length)&&e.childFilterOptions.length>1})).map((e=>e.tagname));return u.filter((t=>e.includes(t.value))).concat(u.filter((t=>!e.includes(t.value))))}return u},_=function(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.reduce(((e,i)=>({...e,[i.tagname]:t?[]:u("filter_by_subcategory",i.childFilterOptions??[],a,void 0,!1)})),{})},p=e=>Object.entries(e).reduce(((e,t)=>{let[a,i]=t;return{...e,[a]:i.map((e=>e.value))}}),{}),g=(e,t,a)=>e.reduce(((e,i)=>({...e,[i.value]:t[i.value].some((e=>a.includes(e.value)))})),{}),m=(e,t)=>Object.entries(e).reduce(((e,a)=>{let[i,r]=a;return{...e,[i]:r.slice(0,t[i]?r.length:20)}}),{}),f=(e,t,a)=>[...t,...[].concat(...a.map((t=>{var a;return(null===(a=e[t])||void 0===a?void 0:a.map((e=>e.value)))??[]})))],b=(e,t)=>e.reduce(((e,a)=>{var i;return{...e,[a.value]:(null===(i=t[a.value])||void 0===i?void 0:i.map((e=>e.value)))??[]}}),{}),h=(e,t,a)=>Object.entries(e).reduce(((e,i)=>{let[r,n]=i;return{...e,[r]:!!(n.length<=20||a.includes(r)||n.some((e=>e.value&&t.includes(e.value))))}}),{});class v{constructor(e){var t,a,i,r,n,s,o,l,c;this.filters=e.filters,this.activeFilters=e.activeFilters,this.onChange=e.onChange,this.modalGroup=e.modalGroup,this.hasData=!!(e.filters.filter_by_label.length||null!==(t=e.filters.filter_by_price)&&void 0!==t&&t.length||null!==(a=e.filters.filter_by)&&void 0!==a&&a.length||null!==(i=e.filters.filter_by_ufi)&&void 0!==i&&i.length||null!==(r=e.filters.filter_by_destination)&&void 0!==r&&r.length||null!==(n=e.filters.filter_by_language)&&void 0!==n&&n.length||null!==(s=e.filters.filter_by_min_rating)&&void 0!==s&&s.length||null!==(o=e.filters.filter_by_time_of_day)&&void 0!==o&&o.length||null!==(l=e.filters.filter_by_subcategory)&&void 0!==l&&l.length||null!==(c=e.filters.filter_by_landing_category)&&void 0!==c&&c.length),this.hasTypeFiltersApplied=!!e.activeFilters.filter_by.length,this.hasAvailabilityFiltersApplied=!!e.activeFilters.filter_by_availability.length,this.hasLabelFiltersApplied=!!e.activeFilters.filter_by_label.length,this.hasUfiFiltersApplied=!!e.activeFilters.filter_by_ufi.length,this.hasPriceFiltersApplied=!!e.activeFilters.filter_by_price.length,this.hasDestinationFilterApplied=!!e.activeFilters.filter_by_destination.length,this.hasLanguageFilterApplied=!!e.activeFilters.filter_by_language.length,this.hasMinRatingFilterApplied=!!e.activeFilters.filter_by_min_rating.length,this.hasTimeOfDayFilterApplied=!!e.activeFilters.filter_by_time_of_day.length,this.hasSubCategoryFilterApplied=!!e.activeFilters.filter_by_subcategory.length,this.hasAnyFiltersApplied=this.hasTypeFiltersApplied||this.hasAvailabilityFiltersApplied||this.hasLabelFiltersApplied||this.hasUfiFiltersApplied||this.hasPriceFiltersApplied||this.hasDestinationFilterApplied||this.hasMinRatingFilterApplied||this.hasTimeOfDayFilterApplied||this.hasSubCategoryFilterApplied||this.hasLanguageFilterApplied,this.filterTypesApplied=[...this.hasTypeFiltersApplied?["filter_by"]:[],...this.hasAvailabilityFiltersApplied?["filter_by_availability"]:[],...this.hasLabelFiltersApplied?["filter_by_label"]:[],...this.hasUfiFiltersApplied?["filter_by_ufi"]:[],...this.hasPriceFiltersApplied?["filter_by_price"]:[],...this.hasDestinationFilterApplied?["filter_by_destination"]:[],...this.hasLanguageFilterApplied?["filter_by_language"]:[],...this.hasMinRatingFilterApplied?["filter_by_min_rating"]:[],...this.hasTimeOfDayFilterApplied?["filter_by_time_of_day"]:[],...this.hasSubCategoryFilterApplied?["filter_by_subcategory"]:[]],this.activeFiltersCount=this.activeFilters.filter_by_availability.length+this.activeFilters.filter_by_label.length+Math.min(this.activeFilters.filter_by.length)+Math.min(this.activeFilters.filter_by_destination.length,1)+Math.min(this.activeFilters.filter_by_language.length,1)+Math.min(this.activeFilters.filter_by_min_rating.length,1)+Math.min(this.activeFilters.filter_by_price.length,1)+Math.min(this.activeFilters.filter_by_subcategory.length,1)+Math.min(this.activeFilters.filter_by_time_of_day.length,1)+Math.min(this.activeFilters.filter_by_ufi.length,1)+Math.min(this.activeFilters.filter_by_landing_category.length,1)}}a("5a887cbf");const y=["free_cancellation","has_discount","skip_the_line"];var x=a("c44dcb0c"),k=a("45733827");let C=function(e){return e.MORNING="05:00-12:00",e.AFTERNOON="12:00-18:00",e.EVENING="18:00-05:00",e}({});const w=e=>e.map((e=>{var t;return e.helper=(t=e.value)?{[C.MORNING]:n().createElement(x.Trans,{tag:"attractions_web_time_of_day_filter_morning_subhead",variables:{time:(0,k.Pv)("12:00")}}),[C.AFTERNOON]:n().createElement(x.Trans,{tag:"attractions_web_time_of_day_filter_afternoon_subhead",variables:{time:(0,k.Pv)("12:00")}}),[C.EVENING]:n().createElement(x.Trans,{tag:"attractions_web_time_of_day_filter_evening_subhead",variables:{time:(0,k.Pv)("18:00")}})}[t]:null,e})),Z=e=>Boolean(null===e||void 0===e?void 0:e.startsWith("PTLPC"))},"08af926e":(e,t,a)=>{"use strict";a.d(t,{Bo:()=>v,AF:()=>x,tS:()=>k.tS,w2:()=>k.w2,ed:()=>k.ed});var i=a("b4083f42"),r=a("ead71eb0"),n=a.n(r),s=a("6222292b"),o=a("c44dcb0c"),l=a("a590b133"),c=a("45ccbd8e"),d=a("6af95914"),u=a.n(d),_=a("9f694d85");const p=e=>{let{interaction:t,interactionVisible:a,title:n,children:o}=e;const{refs:{contentRef:l,sectionRef:d},state:{isSectionSticky:p}}=(()=>{const e=(0,r.useRef)(null),t=(0,r.useRef)(null),[a,i]=(0,r.useState)(!1),{isLargeViewport:n}=(0,_.T1)(),s=(0,r.useMemo)((()=>u()((()=>{const a=e.current,r=t.current;if(!a||!r)return;const n=r.getBoundingClientRect().top,s=n<=16;if(16!==n){const e="after"===(s?"after":"before")?1e3:0;a.scrollTop=e}i(s)}),80)),[i]);return(0,r.useEffect)((()=>(n&&window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s))),[s,n]),{refs:{contentRef:e,sectionRef:t},state:{isSectionSticky:a}}})(),m=(0,c.y)(g),f=(0,r.useId)();let b=null;return t&&a&&(b=(0,i.tZ)(s.Button,{attributes:{"aria-label":t.ariaText},css:m.action,variant:"tertiary",text:t.text,type:"button",onClick:t.onClick})),(0,i.tZ)("aside",{css:m.container,ref:d,"aria-labelledby":f},(0,i.tZ)("div",{css:m.heading},(0,i.tZ)(s.Text,{tagName:"h2",css:m.title,variant:"strong_1",attributes:{id:f}},n)),(0,i.tZ)("div",{css:[m.content,p&&m.content__sticky,"",""],ref:l},o),b)},g=e=>(0,c.k)({container:{border:`1px solid ${e.colors.color_border_alt}`,borderRadius:e.units.border_radius_200,display:"flex",flexDirection:"column",maxHeight:`calc(100vh - ${e.units.spacing_8x})`,overflow:"hidden",position:"relative"},heading:{alignItems:"center",borderBottom:`1px solid ${e.colors.color_border_alt}`,display:"flex",flexDirection:"row",justifyContent:"space-between",padding:e.units.spacing_4x},title:{lineHeight:"24px",margin:0},action:{right:e.units.spacing_3x,position:"absolute",top:10,"[dir=rtl] &":{right:"inherit",left:e.units.spacing_3x}},content:{overflow:"hidden",padding:`${e.units.spacing_4x} ${e.units.spacing_4x} 0`,width:"100%",display:"flex",gap:e.units.spacing_6x,flexDirection:"column"},content__sticky:{overflowY:"scroll","&::-webkit-scrollbar":{WebkitAppearance:"none",width:8},"&::-webkit-scrollbar-thumb":{borderRadius:4,backgroundColor:"rgba(0,0,0,.4)"}}});var m=a("bd852bbf"),f=a("a115020c"),b=a("7b5b6285"),h=a("6a4a8474");const v=e=>{const{state:t}=e,{actions:a,pagination:{resetPagination:r}}=(0,h.si)(),{translate:n}=(0,o.useTranslations)(),s=Object.keys(t.activeFilters).map((e=>Boolean(t.activeFilters[e].length))).includes(!0);return(0,i.tZ)(p,{title:n("a11y_attractions_web_sr_filter_by"),interaction:{onClick:()=>{t.onChange({value:[],name:"filter_by"}),t.onChange({value:[],name:"filter_by_availability"}),t.onChange({value:[],name:"filter_by_label"}),t.onChange({value:[],name:"filter_by_ufi"}),t.onChange({value:[],name:"filter_by_price"}),t.onChange({value:[],name:"filter_by_destination"}),t.onChange({value:[],name:"available"}),t.onChange({value:[],name:"filter_by_language"}),t.onChange({value:[],name:"filter_by_min_rating"}),t.onChange({value:[],name:"filter_by_time_of_day"}),t.onChange({value:[],name:"filter_by_subcategory"}),r(),a.setQueryUpdateType("filter"),a.setAutoLoadRequests(0)},text:n("att_sr_clear_cta"),ariaText:n("a11y_attractions_sr_clear_all_filters")},interactionVisible:s},(0,i.tZ)(m.h,{state:{...t,modalGroup:void 0}}))};var y={name:"1gqn30x",styles:"position:fixed;bottom:0;left:0;right:0"};const x=e=>{const{state:t}=e,{pushRoute:a}=(0,b.Z)(),{translate:r}=(0,o.useTranslations)();return(0,f.ZP)({header:"regular",scrim:"hidden"}),(0,i.tZ)(n().Fragment,null,(0,i.tZ)(l.R,{margin:["spacing_4x","none"],padding:["none","none","spacing_24x","none"],gap:"spacing_6x"},(0,i.tZ)(m.h,{state:t})),(0,i.tZ)(s.ActionBar,{button:{text:r("att_sr_apply_cta"),onClick:()=>a({addQuery:{modal:void 0}}),attributes:{"data-testid":"apply-filters-button"},size:"large",wide:!0},css:y}))};var k=a("2745372d")},"2488081c":(e,t,a)=>{"use strict";a.d(t,{Q:()=>c});var i=a("b4083f42"),r=a("6222292b"),n=a("c44dcb0c"),s=a("ead71eb0");const o=function(){return s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 81 32"},s.createElement("g",{clipPath:"url(#9ekq28s7m9b9074oa)"},s.createElement("path",{fill:"#003B95",d:"M4.19617 0H76.3262C77.387 0 78.4045 0.421427 79.1546 1.17157C79.9047 1.92172 80.3262 2.93913 80.3262 4V28.13C80.3262 29.1564 79.9184 30.1407 79.1927 30.8665C78.4669 31.5923 77.4826 32 76.4562 32H4.19617C3.16978 32 2.18543 31.5923 1.45967 30.8665C0.733903 30.1407 0.326172 29.1564 0.326172 28.13L0.326172 3.87C0.326172 2.84361 0.733903 1.85926 1.45967 1.1335C2.18543 0.407731 3.16978 0 4.19617 0V0Z"}),s.createElement("path",{fill:"#fff",d:"M69.5962 20.695C69.5952 20.852 69.5508 21.0056 69.4678 21.1389C69.3848 21.2722 69.2666 21.3798 69.1262 21.45C68.7483 21.6503 68.3234 21.7453 67.8962 21.725C67.3424 21.7415 66.796 21.5936 66.3262 21.3C65.9123 21.0405 65.5905 20.6574 65.4062 20.205C65.3944 20.1581 65.3715 20.1148 65.3394 20.0787C65.3074 20.0425 65.267 20.0147 65.2218 19.9975C65.1767 19.9803 65.128 19.9743 65.08 19.98C65.032 19.9856 64.9861 20.0028 64.9462 20.03L63.2912 20.76C63.2418 20.7708 63.1957 20.7932 63.1568 20.8255C63.118 20.8578 63.0874 20.899 63.0678 20.9456C63.0482 20.9922 63.0401 21.0428 63.0442 21.0931C63.0482 21.1435 63.0643 21.1922 63.0912 21.235C63.4455 22.0687 64.0546 22.7688 64.8312 23.235C65.7794 23.7852 66.866 24.0508 67.9612 24C69.0668 24.0366 70.1545 23.7138 71.0612 23.08C71.4631 22.8011 71.7892 22.4266 72.01 21.9901C72.2309 21.5536 72.3395 21.069 72.3262 20.58C72.3262 18.8367 71.0745 17.7567 68.5712 17.34C67.975 17.2656 67.3944 17.0968 66.8512 16.84C66.4512 16.645 65.9962 16.4 65.9962 16.1C66.003 15.9625 66.0516 15.8304 66.1357 15.7214C66.2197 15.6124 66.335 15.5316 66.4662 15.49C66.8622 15.3215 67.2912 15.2446 67.7212 15.265C68.1357 15.2631 68.546 15.3479 68.9258 15.5141C69.3056 15.6803 69.6463 15.9242 69.9262 16.23C69.9873 16.308 70.0769 16.3587 70.1753 16.3709C70.2736 16.383 70.3728 16.3558 70.4512 16.295L71.6262 15.22C71.6696 15.1967 71.7069 15.1634 71.7349 15.1228C71.7629 15.0823 71.7808 15.0356 71.7872 14.9867C71.7936 14.9378 71.7882 14.8881 71.7715 14.8417C71.7548 14.7954 71.7272 14.7536 71.6912 14.72C70.7812 13.5733 69.4362 13 67.6562 13C66.5795 12.944 65.514 13.2407 64.6212 13.845C64.2586 14.1031 63.9653 14.4467 63.7674 14.8453C63.5694 15.2439 63.4728 15.6852 63.4862 16.13C63.4796 16.5096 63.5574 16.8859 63.7139 17.2317C63.8704 17.5776 64.1017 17.8844 64.3912 18.13C65.0855 18.7166 65.928 19.1006 66.8262 19.24C67.5635 19.3415 68.2835 19.5433 68.9662 19.84C69.1437 19.9047 69.2981 20.0204 69.4102 20.1725C69.5222 20.3245 69.5869 20.5063 69.5962 20.695Z"}),s.createElement("path",{fill:"#fff",d:"M52.4762 19.845C52.4444 20.3966 52.5226 20.949 52.7063 21.47C52.89 21.9911 53.1755 22.4704 53.5462 22.88C53.9257 23.2564 54.3798 23.5491 54.8793 23.7394C55.3787 23.9297 55.9125 24.0134 56.4462 23.985C56.8795 23.9898 57.311 23.9291 57.7262 23.805C58.0424 23.716 58.3439 23.5812 58.6212 23.405C58.8847 23.2225 59.1353 23.0221 59.3712 22.805L59.6362 23.43C59.6777 23.5261 59.7483 23.6066 59.838 23.6605C59.9277 23.7143 60.032 23.7386 60.1362 23.73H61.9262C61.9733 23.7365 62.0212 23.7321 62.0662 23.7171C62.1113 23.7022 62.1523 23.677 62.1862 23.6437C62.22 23.6104 62.2457 23.5697 62.2613 23.5249C62.2769 23.48 62.282 23.4322 62.2762 23.385V13.625C62.2822 13.5781 62.2772 13.5304 62.2616 13.4857C62.246 13.441 62.2202 13.4005 62.1862 13.3675C62.1522 13.3346 62.1111 13.3099 62.066 13.2956C62.0208 13.2813 61.973 13.2777 61.9262 13.285H59.7212C59.6745 13.2777 59.6266 13.2813 59.5815 13.2956C59.5364 13.3099 59.4952 13.3346 59.4612 13.3675C59.4273 13.4005 59.4015 13.441 59.3858 13.4857C59.3702 13.5304 59.3652 13.5781 59.3712 13.625V20.275C59.1382 20.6409 58.8157 20.9413 58.4343 21.1477C58.0528 21.3542 57.625 21.46 57.1912 21.455C56.9453 21.4694 56.6992 21.4288 56.4709 21.3363C56.2426 21.2438 56.0378 21.1016 55.8712 20.92C55.5438 20.5234 55.3762 20.0188 55.4012 19.505V13.625C55.4012 13.4 55.2762 13.285 55.0312 13.285H52.8262C52.5812 13.285 52.4562 13.4 52.4562 13.625L52.4762 19.845Z"}),s.createElement("path",{fill:"#FEBB02",d:"M47.1912 9.99999C47.1881 10.2645 47.2398 10.5268 47.343 10.7703C47.4463 11.0139 47.5989 11.2334 47.7912 11.415C48.174 11.7933 48.6905 12.0055 49.2287 12.0055C49.7669 12.0055 50.2834 11.7933 50.6662 11.415C50.8557 11.2318 51.0064 11.0123 51.1093 10.7696C51.2122 10.527 51.2652 10.2661 51.2652 10.0025C51.2652 9.73892 51.2122 9.47803 51.1093 9.23537C51.0064 8.99271 50.8557 8.77323 50.6662 8.59C50.2834 8.21168 49.7669 7.99951 49.2287 7.99951C48.6905 7.99951 48.174 8.21168 47.7912 8.59C47.5995 8.77105 47.4473 8.98974 47.344 9.23237C47.2408 9.47499 47.1888 9.73633 47.1912 9.99999V9.99999Z"}),s.createElement("path",{fill:"#fff",d:"M45.9812 16.755C46.0115 16.2518 45.9384 15.7478 45.7664 15.2739C45.5944 14.8001 45.3272 14.3666 44.9812 14C44.5996 13.6535 44.1528 13.3866 43.6669 13.2149C43.181 13.0432 42.6657 12.9701 42.1512 13C41.0189 13.0102 39.9305 13.4395 39.0962 14.205L38.8262 13.62C38.7949 13.5156 38.7273 13.4259 38.6355 13.3672C38.5438 13.3085 38.434 13.2846 38.3262 13.3H36.5512C36.3062 13.3 36.1812 13.415 36.1812 13.645V23.405C36.1812 23.635 36.3062 23.745 36.5512 23.745H38.7362C38.9862 23.745 39.1062 23.635 39.1062 23.405V16.73C39.3671 16.41 39.686 16.142 40.0462 15.94C40.4114 15.7081 40.8336 15.5818 41.2662 15.575C42.4762 15.575 43.0812 16.215 43.0812 17.505V23.405C43.0812 23.4501 43.0901 23.4947 43.1075 23.5363C43.1249 23.5778 43.1504 23.6156 43.1825 23.6472C43.2146 23.6788 43.2527 23.7038 43.2945 23.7206C43.3363 23.7373 43.3811 23.7457 43.4262 23.745H45.6312C45.6769 23.7457 45.7223 23.7372 45.7647 23.7202C45.8072 23.7031 45.8458 23.6778 45.8783 23.6457C45.9109 23.6136 45.9368 23.5754 45.9544 23.5332C45.9721 23.491 45.9812 23.4457 45.9812 23.4V16.755Z"}),s.createElement("path",{fill:"#fff",d:"M34.8812 18.94C34.8872 18.987 34.8822 19.0347 34.8666 19.0794C34.8509 19.1241 34.8251 19.1645 34.7912 19.1975C34.7572 19.2305 34.716 19.2551 34.6709 19.2694C34.6258 19.2837 34.5779 19.2874 34.5312 19.28H27.0312C27.1679 19.8986 27.5012 20.4564 27.9812 20.87C28.4888 21.2812 29.1283 21.4943 29.7812 21.47C30.2319 21.4886 30.6794 21.3874 31.0782 21.1766C31.477 20.9657 31.8128 20.6529 32.0512 20.27C32.1412 20.14 32.2762 20.12 32.4662 20.205L34.3262 21C34.5412 21.07 34.5912 21.2 34.4762 21.385C34.0086 22.2117 33.3218 22.8932 32.4917 23.3546C31.6615 23.816 30.7201 24.0393 29.7712 24C28.2865 24.0312 26.8494 23.4761 25.7712 22.455C25.2299 21.9517 24.8026 21.3383 24.518 20.6561C24.2334 19.974 24.0981 19.2388 24.1212 18.5C24.0982 17.7633 24.2321 17.0302 24.514 16.3492C24.7959 15.6682 25.2193 15.0549 25.7562 14.55C26.7892 13.543 28.1787 12.9858 29.6212 13C30.3344 12.9598 31.0479 13.0728 31.7138 13.3316C32.3796 13.5903 32.9823 13.9887 33.4812 14.5C34.4218 15.5139 34.9248 16.8577 34.8812 18.24V18.94ZM31.2562 15.94C30.7791 15.6019 30.2058 15.4266 29.6212 15.44C29.0454 15.4228 28.4804 15.5988 28.0162 15.94C27.5889 16.2571 27.2652 16.6939 27.0862 17.195H32.0862C31.9822 16.6864 31.6846 16.2382 31.2562 15.945V15.94Z"}),s.createElement("path",{fill:"#fff",d:"M22.9212 21.565C22.918 21.6614 22.894 21.756 22.8508 21.8423C22.8077 21.9286 22.7464 22.0046 22.6712 22.065C21.0538 23.3245 19.0611 24.0058 17.0112 24C12.2162 24 8.32617 20.445 8.32617 16.065C8.32617 11.685 12.2162 7.99999 17.0112 7.99999C19.0535 7.98735 21.0411 8.65986 22.6562 9.90999C22.691 9.93721 22.72 9.97115 22.7415 10.0098C22.763 10.0485 22.7765 10.091 22.7812 10.135C22.7899 10.2249 22.7629 10.3147 22.7062 10.385C22.3162 10.84 21.5112 11.795 21.1112 12.26C21.0814 12.2952 21.0448 12.324 21.0035 12.3447C20.9623 12.3653 20.9172 12.3773 20.8712 12.38C20.8262 12.3845 20.7809 12.3797 20.7379 12.3659C20.6949 12.3522 20.6552 12.3297 20.6212 12.3C19.6022 11.4696 18.3256 11.0205 17.0112 11.03C14.0462 11.03 11.6412 13.345 11.6412 16.03C11.6412 18.715 14.0462 21 17.0112 21C18.1075 21.0061 19.1823 20.6953 20.1062 20.105V17.885H17.5662C17.4746 17.885 17.3866 17.8491 17.3212 17.785C17.2894 17.7537 17.2641 17.7163 17.2469 17.6751C17.2298 17.6339 17.221 17.5896 17.2212 17.545V15.42C17.221 15.3753 17.2298 15.3311 17.2469 15.2899C17.2641 15.2487 17.2894 15.2113 17.3212 15.18C17.3877 15.1176 17.475 15.082 17.5662 15.08H22.5662C22.6568 15.08 22.7438 15.1156 22.8084 15.1793C22.8729 15.2429 22.9099 15.3294 22.9112 15.42L22.9212 21.565Z"}),s.createElement("path",{fill:"#fff",d:"M49.1512 13.275H48.0512C48.0059 13.2743 47.9609 13.2826 47.9188 13.2993C47.8766 13.3161 47.8382 13.3409 47.8057 13.3725C47.7732 13.4041 47.7473 13.4417 47.7293 13.4833C47.7114 13.525 47.7018 13.5697 47.7012 13.615V23.405C47.7018 23.4503 47.7114 23.495 47.7293 23.5367C47.7473 23.5783 47.7732 23.6159 47.8057 23.6475C47.8382 23.6791 47.8766 23.7039 47.9188 23.7207C47.9609 23.7374 48.0059 23.7457 48.0512 23.745H50.4062C50.4515 23.7457 50.4965 23.7374 50.5386 23.7207C50.5807 23.7039 50.6191 23.6791 50.6516 23.6475C50.6841 23.6159 50.7101 23.5783 50.728 23.5367C50.7459 23.495 50.7555 23.4503 50.7562 23.405V14.865C50.7562 13.795 50.2312 13.275 49.1512 13.275Z"})),s.createElement("defs",null,s.createElement("clipPath",{id:"9ekq28s7m9b9074oa"},s.createElement("path",{fill:"#fff",d:"M0 0H80V32H0z",transform:"translate(.326)"}))))};var l=a("45ccbd8e");const c=()=>{const e=(0,l.y)(d),{translate:t}=(0,n.useTranslations)();return(0,i.tZ)(r.Icon,{ariaLabel:t("www_ge_screenreader_generic_logo"),css:e.GeniusBadge,svg:o,attributes:{"data-testid":"genius-badge"}})},d=()=>(0,l.k)({GeniusBadge:{height:22}})},be8f84c9:(e,t,a)=>{"use strict";a.d(t,{D:()=>c});var i=a("ead71eb0"),r=a.n(i),n=a("d16e9636"),s=a.n(n),o=a("b555ea46");const l=(0,n.loadable)({resolved:{},chunkName(){return"bGeniusVipWebComponentService-GeniusVipVoucherBannerAttractionSR"},isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>a.e("f0b6375b").then(a.t.bind(a,"822583bb",23)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return a(t)},resolve(){return"822583bb"}}),c=()=>r().createElement(o.S,null,r().createElement(l,null))},"3cbeaaf8":(e,t,a)=>{"use strict";a.d(t,{e:()=>p});var i=a("b4083f42"),r=(a("ead71eb0"),a("6222292b")),n=a("c44dcb0c"),s=a("a590b133"),o=a("826f1bad"),l=a("59511b30"),c=a("7760db43"),d=a("74ac0209"),u=a("45ccbd8e"),_=a("9a67ad93");const p=e=>{const{marginBottom:t="none",source:a,titleTagName:d="h2"}=e,{translate:p}=(0,n.useTranslations)(),{apass:m}=(0,c.Z)(),f=(0,u.y)(g),b=(0,l.Z)(),{ref:h}=(0,_.YD)({onChange:e=>{e&&m.event("interaction","view","login_prompt",{item_location:{page_name:a,block_name:"login_prompt"}})}});return(0,i.tZ)(s.R,{margin:["none","none",t],ref:h},(0,i.tZ)(r.Banner,{css:"search_results"===a?f.loginBanner__searchResults:void 0,title:p("att_open_banner_sign_in_convenience_header"),titleTagName:d,text:p("att_open_banner_sign_in_convenience_subheader",{variables:{b_companyname:o.pB}}),bleed:!1,dismissible:!1,actions:[{onClick:()=>m.event("interaction","click","login_prompt",{item_location:{page_name:a,block_name:"login_prompt"}}),href:b,text:p("att_open_banner_sign_in_cta"),variant:"secondary"}]}))},g=()=>(0,u.k)({loginBanner__searchResults:{[d.gp]:{borderLeft:"none",borderRight:"none",borderRadius:0}}})},"5799ed43":(e,t,a)=>{"use strict";a.d(t,{t:()=>d});var i=a("b4083f42"),r=(a("ead71eb0"),a("6222292b")),n=a("c44dcb0c"),s=a("d3104076"),o=a("74ac0209"),l=a("45ccbd8e"),c=a("9f694d85");const d=e=>{const{originalPrice:t,price:a,priceIsAStartingPrice:o,showDiscountPriceInRed:d}=e,{translate:p}=(0,n.useTranslations)(),{isSmallViewport:g}=(0,c.T1)(),m=(0,l.y)(_),f=t&&t!==a?t:void 0;return(0,i.tZ)("div",{"data-testid":"price"},(0,i.tZ)("div",{"aria-hidden":!0,css:[m.Price,m.Price__inlineContent,"",""]},o&&(0,i.tZ)(r.Text,{variant:g?"body_2":"small_1",css:g?m.Text__body2:m.Text__small1,color:"neutral_alt"},p("att_sr_price_from")),!!f&&(0,i.tZ)(u,{price:f,showDiscountPriceInRed:d}),(0,i.tZ)(r.Text,{variant:"strong_1",css:m.Text__strong1},a)),(0,i.tZ)(s.g,{originalPrice:f,price:a,priceIsAStartingPrice:o}))},u=e=>{const{price:t,showDiscountPriceInRed:a}=e,{isSmallViewport:n}=(0,c.T1)(),s=(0,l.y)(_);return(0,i.tZ)(r.Text,{variant:n?"body_2":"small_1",css:n||!a?s.Text__body2:s.Text__small1,color:a?"destructive":"neutral",decoration:"line-through"},t)},_=e=>(0,l.k)({Price:{alignItems:"baseline",display:"flex",flexDirection:"column",position:"relative",[o.gp]:{alignItems:"flex-end",flexDirection:"row",gap:e.units.spacing_1x}},Price__inlineContent:{alignItems:"flex-end",flexDirection:"row",gap:e.units.spacing_1x,[o.gp]:{flexDirection:"row",gap:e.units.spacing_1x}},Text__body2:{lineHeight:e.fonts.medium.font_body_2.fontSize},Text__small1:{lineHeight:e.fonts.medium.font_small_1.fontSize},Text__strong1:{lineHeight:e.fonts.medium.font_strong_1.fontSize}})},eebff10a:(e,t,a)=>{"use strict";a.d(t,{o:()=>s});var i=a("b4083f42"),r=a("6222292b"),n=a("45ccbd8e");const s=e=>{const{text:t,description:a,variant:s,alternative:l=!1,className:c}=e,d=(0,n.y)(o);return(0,i.tZ)(r.Tooltip,{text:a},(a=>(0,i.tZ)(r.Actionable,{attributes:{...a,"aria-expanded":void 0,"data-testid":e["data-testid"]}},(0,i.tZ)(r.Badge,{className:c,css:d.badge,text:t,variant:s,alternative:l}))))},o=()=>(0,n.k)({badge:{display:"inline-block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"default"}})},d7e898a0:(e,t,a)=>{"use strict";a.d(t,{D:()=>p});var i=a("b4083f42"),r=a("ead71eb0"),n=a("6222292b"),s=a("5cb0d6cc"),o=a("c44dcb0c"),l=a("45ccbd8e"),c=a("9f694d85"),d=a("50dfd774"),u=a("a590b133"),_=a("d030d584");const p=(0,r.forwardRef)(((e,t)=>{const{className:a,iconSize:p="large",inline:m,reviewsStats:f,textVariant:b,onLinkClick:h}=e,v=(0,d.nF)(f),y=null===f||void 0===f?void 0:f.combinedNumericStats,x=(0,d.jd)(null===f||void 0===f?void 0:f.combinedNumericStats),k=(0,l.y)(g),{translate:C}=(0,o.useTranslations)(),{isSmallViewport:w}=(0,c.T1)(),Z="large"===b,S=(0,r.useMemo)((()=>w?{score:Z?"body_1":"small_1",strong:Z?"strong_1":"strong_2",totalReviews:Z?"body_1":"small_1",providerLabel:Z?"body_2":"small_1"}:{score:Z?"body_1":"body_2",strong:Z?"strong_1":"strong_2",totalReviews:Z?"body_1":"body_2",providerLabel:Z?"body_2":"small_1"}),[w,Z]);if(!(v&&y&&x))return null;const T=(0,_.YP)((0,_.CI)(null===y||void 0===y?void 0:y.average));return(0,i.tZ)("div",{className:a,css:[k.productReviewScore,m&&k.productReviewScoreInline,"",""],"data-testid":"review-score",ref:t},(0,i.tZ)(n.Icon,{svg:s.Z,color:"brand_genius_secondary",size:p,css:"small"!==p||w?void 0:k.icon__spacing}),(0,i.tZ)(u.R,{attributes:{"aria-hidden":!0},direction:"row",gap:["none","spacing_1x"],wrap:"wrap"},(0,i.tZ)(n.Text,{variant:S.score,tagName:"span",css:k.strong},x.average),T?(0,i.tZ)(n.Text,{variant:S.score,tagName:"span",css:k.strong},(0,i.tZ)("span",{"aria-hidden":!0}," \xb7 "),T):null,(0,i.tZ)(n.Text,{tagName:"span",variant:S.totalReviews},C("attractions_vendor_reviews_pp_total_reviews",{num_exception:y.total,variables:{num_reviews:y.total}}))),(0,i.tZ)(n.HiddenVisually,null,C("a11y_attractions_uf_sr_product_card_reviews_hint",{num_exception:x.average,variables:{num_stars:x.average,num_reviews:y.total}})),h?(0,i.tZ)(n.Link,{onClick:h,css:k.link,attributes:{"data-testid":"reviews-link"}},C("att_open_reviews_cta_see_all")):null)})),g=e=>(0,l.k)({productReviewScore:{gap:`0 ${e.units.spacing_4x}`,display:"grid",alignItems:"center",gridTemplateColumns:"auto 1fr"},productReviewScoreInline:{display:"flex"},icon__spacing:{marginTop:e.units.spacing_half},link:{width:"fit-content",gridColumnStart:2},strong:{fontWeight:600}})},f57825c1:(e,t,a)=>{"use strict";a.d(t,{K:()=>o,k:()=>l});var i=a("b4083f42"),r=a("ead71eb0"),n=a.n(r),s=a("eebff10a");let o=function(e){return e.bestseller="bestseller",e.popularFor1Traveler="popularFor1Traveler",e.popularFor2Travelers="popularFor2Travelers",e.popularFor3Travelers="popularFor3Travelers",e.newProduct="newproduct",e}({});const l=e=>{let{secondaryBadgesToDisplay:t,className:a}=e;return(0,i.tZ)(n().Fragment,null,t.map((e=>(0,i.tZ)(s.o,{text:e.text,description:e.tooltip,variant:e.variant,className:a,alternative:!0,key:e.text}))))}},b618dd09:(e,t,a)=>{"use strict";a.d(t,{c:()=>n});var i=a("b4083f42"),r=(a("ead71eb0"),a("45ccbd8e"));const n=e=>{const{children:t,tagName:a}=e,n=(0,r.y)(s),o=a||"div";return(0,i.tZ)(o,{css:n.screenReaderOnly},t)},s=()=>(0,r.k)({screenReaderOnly:{position:"absolute",height:1,width:1,clipPath:"inset(50%)",overflow:"hidden",whiteSpace:"nowrap"}})},d3104076:(e,t,a)=>{"use strict";a.d(t,{g:()=>o});var i=a("ead71eb0"),r=a.n(i),n=a("c44dcb0c"),s=a("b618dd09");const o=e=>{const{originalPrice:t,price:a,priceIsAStartingPrice:i}=e,{translate:o}=(0,n.useTranslations)();let l="";return l=t&&t!==a?o(i?"a11y_attractions_sr_strikethrough_and_current_price":"a11y_attractions_pp_strikethrough_and_current_price",{variables:{original_price:t,current_price:a}}):o(i?"a11y_attractions_sr_current_price":"a11y_attractions_pp_current_price",{variables:{current_price:a}}),r().createElement(s.c,null,l)}},"75ca6d4a":(e,t,a)=>{"use strict";a.d(t,{o:()=>ce});var i=a("b4083f42"),r=a("ead71eb0"),n=a.n(r),s=a("6222292b"),o=a("7b5b6285"),l=a("a0585de1"),c=a("b555ea46");const d=function(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px"},r.createElement("path",{d:"M13.5 22.75c5.799 0 10.5-4.701 10.5-10.5s-4.701-10.5-10.5-10.5S3 6.451 3 12.25V13a.75.75 0 0 0 1.5 0v-.75a9 9 0 1 1 9 9 .75.75 0 0 0 0 1.5M.22 10.527l3 3a.75.75 0 0 0 1.06 0l3-3a.75.75 0 1 0-1.06-1.06l-3 3h1.06l-3-3a.75.75 0 0 0-1.06 1.06M12 6.247v6.75c0 .414.336.75.75.75H18a.75.75 0 0 0 0-1.5h-5.25l.75.75v-6.75a.75.75 0 0 0-1.5 0"}))};var u=a("1424d033"),_=a("a79ff734"),p=a("25e7bf7c"),g=a("8c1b86b7"),m=a("1c0fcf2b");const f=function(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px"},r.createElement("path",{d:"M18.629 18.75H5.371L7.49 4.611l-.741.639h10.5l-.742-.639 2.121 14.14v-.001zm0 1.5a1.5 1.5 0 0 0 1.484-1.722l-2.121-14.14a.75.75 0 0 0-.742-.638H6.75a.75.75 0 0 0-.742.639l-2.12 14.139A1.5 1.5 0 0 0 5.37 20.25zm-14.129 3h15a.75.75 0 0 0 0-1.5h-15a.75.75 0 0 0 0 1.5m9-15h-2.033a2.092 2.092 0 0 0-.78 4.033l2.065.826a.592.592 0 0 1-.222 1.141H10.5a.75.75 0 0 0 0 1.5h2.031a2.092 2.092 0 0 0 .78-4.033l-2.065-.826a.592.592 0 0 1 .221-1.141H13.5a.75.75 0 0 0 0-1.5m-.75.75V7.5a.75.75 0 0 0-1.5 0V9a.75.75 0 0 0 1.5 0m0 7.5V15a.75.75 0 0 0-1.5 0v1.5a.75.75 0 0 0 1.5 0M3 8.25H1.5v-6h21v6H21a.75.75 0 0 0 0 1.5h1.5a1.5 1.5 0 0 0 1.5-1.5v-6a1.5 1.5 0 0 0-1.5-1.5h-21A1.5 1.5 0 0 0 0 2.25v6a1.5 1.5 0 0 0 1.5 1.5H3a.75.75 0 0 0 0-1.5"}))};var b=a("361fd853"),h=a("0442d256"),v=a("5a887cbf");const y=e=>({items:e.products.map((e=>({id:e.productId,source:e.imageUrl,slug:e.productSlug,cc1:e.countryCode,city:e.cityUrlName,cityName:e.cityName,icon:e.taxonomySlug&&k(e.taxonomySlug),queryText:e.title,text:e.title,destination:e.cityName,tracking:{prid:e.tracking.prid,pr_page_view_id:e.tracking.prPageViewId}})))}),x=e=>({items:e.pointsOfInterest.map((e=>({cc1:e.cc1,scopeSlug:e.scopeUrlName,text:e.scopeName,queryText:e.scopeName,destination:`${e.cityName}, ${e.country}`,icon:n().createElement(u.Z,null)})))}),k=e=>({activities:n().createElement(_.Z,null),attractions:n().createElement(p.Z,null),landmarks:n().createElement(g.Z,null),museums:n().createElement(m.Z,null),rentals:n().createElement(f,null),tours:n().createElement(b.Z,null),"transfers-services":n().createElement(h.Z,null)}[e]);var C=a("dc6d28ff"),w=a("ff4048bc"),Z=a("bee5ee65"),S=a("2fe2e183");var T=a("bc6dc0c1"),A=a("55c39dbb"),F=a("8cf3c84b"),E=a("31a0dded"),W=a("699a7cc2");const H={destination_search:{items:[]},destination_nearby:{items:[]},points_of_interest_nearby:{items:[]},points_of_interest_search:{items:[]},search_autocomplete:{items:[]},recent_searches:{items:[]},recently_viewed:{items:[]}},O=(e,t)=>{switch(t.type){case"set_query":const l={...e,query:{...e.query,...t.query}};return""===t.query.value&&(l.status="idle",l.results={...l.results,destination_search:H.destination_search,points_of_interest_search:H.points_of_interest_search,search_autocomplete:H.search_autocomplete}),l;case"set_previous_query":const c=e.queryHistory.length?e.queryHistory[0]:"";return{...e,query:{value:c,displayText:c}};case"set_query_history":return{...e,queryHistory:[...e.queryHistory,t.query]};case"set_recent_searches":return{...e,results:{...e.results,recent_searches:{items:t.items}}};case"set_recently_viewed":return{...e,results:{...e.results,recently_viewed:{items:t.items}}};case"set_destinations_nearby":return{...e,results:{...e.results,destination_nearby:{items:t.items}}};case"set_points_of_interest_nearby":return{...e,results:{...e.results,points_of_interest_nearby:{items:t.items}}};case"set_autocomplete_suggestions":{var a,i,r,n,s,o;const l="resolved"===t.event.status?{...e.results||{},destination_search:{...(null===e||void 0===e||null===(a=e.results)||void 0===a?void 0:a.destination_search)||{},items:(null===(i=t.event.data)||void 0===i||null===(i=i.destination_search)||void 0===i?void 0:i.items)||[]},points_of_interest_search:{...(null===e||void 0===e||null===(r=e.results)||void 0===r?void 0:r.points_of_interest_search)||{},items:(null===(n=t.event.data)||void 0===n||null===(n=n.points_of_interest_search)||void 0===n?void 0:n.items)||[]},search_autocomplete:{...(null===e||void 0===e||null===(s=e.results)||void 0===s?void 0:s.search_autocomplete)||{},items:(null===(o=t.event.data)||void 0===o?void 0:o.search_autocomplete.items)||[]}}:H;return{...e,status:t.event.status,results:l}}default:return e}},P=e=>{var t;const a=(0,E.h)(),{ufi:i}=(0,S.Z)(),s=e.prefilledQuery,l=e.query,c=e.resultsPerCategory||3,u=!!e.filterHistoryByUfi,_=!!e.limitProductResultsByUfi,p=!!e.showDestinations,g=!!e.showPointsOfInterest,m=!!e.showRecentSearches,f=(0,r.useMemo)((()=>e.nearbyDestinations||[]),[e.nearbyDestinations]),{recentDestinationSearches:b}=(0,T.Pr)(),{recentlyViewed:h}=(0,A.A)(),[P,B]=(0,r.useReducer)(O,{query:l,queryHistory:l.value?[l.value]:[],status:"idle",results:H}),I=(0,r.useCallback)((function(){B({type:"set_query",query:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}})}),[B]),L=(0,r.useCallback)((()=>{B({type:"set_previous_query"})}),[B]),D=(0,r.useCallback)((function(){B({type:"set_recent_searches",items:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]})}),[B]),R=(0,r.useCallback)((function(){B({type:"set_recently_viewed",items:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]})}),[B]),V=(0,r.useCallback)((function(){B({type:"set_destinations_nearby",items:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]})}),[B]),M=(0,r.useCallback)((function(){B({type:"set_points_of_interest_nearby",items:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]})}),[B]);(0,r.useEffect)((()=>{I(l)}),[l,I]);const N=(0,F.N)(P.query,300);(0,r.useEffect)((()=>{var e;(N.value||"").length>0||!m||D(((e=b)?e.map((e=>{const t=(e.scope_slug?e.scope_name:e.city_name)||"";return{icon:n().createElement(d,null),destination:e.scope_slug?e.city_name:e.country,id:e.ufi.toString(),queryText:t,text:t,city:e.city,cityName:e.city_name,cc1:e.cc1,scopeSlug:e.scope_slug}})):[]).slice(0,3))}),[N,D,b,m]),(0,r.useEffect)((()=>{if((N.value||"").length>0)return;const e=u&&i&&i.ufi?h.filter((e=>e&&e.ufi===i.ufi)):h;var t;R(((t=e)?t.map((e=>({icon:e.taxonomy_slug&&k(e.taxonomy_slug),destination:e.city_name,id:e.ext_id,queryText:e.name,text:e.name,slug:e.slug,city:e.city,cityName:e.city_name,cc1:e.cc1||e.country,country:e.country}))):[]).slice(0,4))}),[i,u,N,R,h]),(0,r.useEffect)((()=>{var e;f.length&&p&&V((e=f)?e.map((e=>({cc1:e.url.country,city:e.url.city,image:e.imageUrl&&(0,v.tg)((0,v.Lz)(e.imageUrl),"autocomplete"),queryText:e.ufiCity,text:e.ufiCity,href:e.cityUrl.replace("/city","/searchresults")}))):[])}),[f,p,V]);const G=(()=>{const e=(0,C.getRequestContext)(),{upcomingAccommodations:t}=(0,Z.Q)(),{location:a}=(0,o.Z)(),{ufi:i}=(0,S.Z)(),n=(0,w.s)(a.pathname),s=e.getVisitorUfi();return(0,r.useMemo)((()=>{const e=null!==t&&void 0!==t&&t.length?t[0]:null;return"index"===n?e?e.locationInfo.ufi:s:null===i||void 0===i?void 0:i.ufi}),[n,i,t,s])})(),{data:U}=(0,W.EFl)({skip:!G,variables:{input:{limit:c,query:"",ufi:G},...a},ssr:!1}),Y="AttractionsSearchAutoCompleteResponse"===(null===U||void 0===U||null===(t=U.attractionsProduct)||void 0===t||null===(t=t.searchAutoComplete)||void 0===t?void 0:t.__typename)?U.attractionsProduct.searchAutoComplete:null;(0,r.useEffect)((()=>{Y&&M(x(Y).items)}),[Y,M]);const[$,Q]=(0,W.TDX)({fetchPolicy:"no-cache",onCompleted:e=>{var t;"AttractionsSearchAutoCompleteResponse"===e.attractionsProduct.searchAutoComplete.__typename&&(B({type:"set_query_history",query:N.value||""}),B({type:"set_autocomplete_suggestions",event:{status:"resolved",data:{...p&&{destination_search:(t=e.attractionsProduct.searchAutoComplete,{items:t.destinations.map((e=>({cc1:e.cc1,city:e.cityUrl,cityName:e.cityName,image:e.imageUrl&&(0,v.tg)((0,v.Lz)(e.imageUrl),"autocomplete"),queryText:e.cityName,text:e.region?`${e.cityName}, ${e.region}`:e.cityName,destination:e.country,href:e.srUrl})))})},...g&&{points_of_interest_search:x(e.attractionsProduct.searchAutoComplete)},search_autocomplete:y(e.attractionsProduct.searchAutoComplete)}}}))},onError:e=>{B({type:"set_autocomplete_suggestions",event:{status:"rejected",error:e}})}});(0,r.useEffect)((()=>{const e=N.value||"";e.length<1||1===P.queryHistory.length&&P.queryHistory[0]===s&&e===s||P.queryHistory.length&&P.queryHistory[P.queryHistory.length-1]===e||$({variables:{input:{limit:c,query:e,ufi:_&&i?i.ufi:void 0},...a}})}),[a,N,_,s,$,c,P.queryHistory,i]),(0,r.useEffect)((()=>{Q.loading&&B({type:"set_autocomplete_suggestions",event:{status:"pending"}})}),[Q]);const{query:z,results:K,status:q}=P;return{query:z,debouncedQuery:N,results:K,resultsPerCategory:c,status:q,dispatchSetQuery:I,dispatchSetPreviousQuery:L}};var B=a("eb3dacc7"),I=a("45ccbd8e"),L=a("fd1ca1ab"),D=a("d086120e"),R=a("c44dcb0c"),V=a("45733827");const M=(e,t)=>{const a=e&&new Date((0,V.p7)(e)),i=t&&new Date((0,V.p7)(t)),r=a&&(0,V.T8)((0,V.PQ)(a),void 0,{month:"short",day:"numeric"}),n=i&&(0,V.T8)((0,V.PQ)(i),void 0,{month:"short",day:"numeric"});return e?e!==t&&t?`${r} - ${n}`:r:""};var N=a("28dbd132"),G=a("7760db43"),U=a("9f694d85"),Y=a("bcec923a");var $=a("c5033761");const Q=(0,r.createContext)({}),z=()=>(0,r.useContext)(Q),K=e=>{const{children:t,defaultEndDate:a,defaultStartDate:i,onSearch:s,pinnedBlackFridayCarousel:c,search:d,showProductResultsFirst:u,selectFirstResultOnSearch:_,isSearchWithDates:p,showDestinationLabel:g,showPointsOfInterest:m,showRecentSearches:f,source:b,prefilledQuery:h,datesInputRef:v,queryInputRef:y,mobilePreviewRef:x,submitInputRef:k,sortBy:C}=e,{results:Z,query:S}=d,{history:T,location:A,pushRoute:F}=(0,o.Z)(),{apass:E}=(0,G.Z)(),{isLargeViewport:W}=(0,U.T1)(),H=(0,w.s)(A.pathname),O="searchresults"===H&&!W,P=n().useRef(null),B=n().useRef(null),I=(0,r.useRef)(null),L=n().useRef(null),D=v||P,R=y||L,V=x||B,M=k||I,z=(0,l.V0)("start_date",T.location.search),K=(0,l.V0)("end_date",T.location.search),[q,J]=(0,r.useState)(h?{result:h,type:"prefill"}:null),[j,X]=(0,r.useState)(!1),[ee,te]=(0,r.useState)(!1),ae=(0,r.useRef)(),[ie,re]=(0,r.useState)(z||i||null),[ne,se]=(0,r.useState)(K||a||null),[,oe]=(0,$.M)(),le=()=>{const e=[...u?["search_autocomplete","points_of_interest_search"]:[],"destination_nearby","points_of_interest_nearby","destination_search",...u?[]:["points_of_interest_search","search_autocomplete"],"recently_viewed"];for(let t=0;t<e.length;t+=1){const a=Z[e[t]].items.length;if(S&&a)return{...Z[e[t]].items[0],type:e[t]}}};return(e=>{let{setEndDate:t,setStartDate:a}=e;const{location:i,replaceRoute:n}=(0,o.Z)(),{isLargeViewport:s}=(0,U.T1)(),c=(0,l.V0)("start_date",i.search),d=(0,l.V0)("end_date",i.search),u=(0,Y.Jt)();(0,r.useEffect)((()=>{const e=c?new Date(c):null,i=d?new Date(d):null,r=new Date,s=new Date;null===e||void 0===e||e.setHours(0,0,0,0),null===i||void 0===i||i.setHours(0,0,0,0),r.setHours(0,0,0,0),s.setDate(r.getDate()+u),s.setHours(0,0,0,0),(i&&i<r||e&&e>s||i&&i>s)&&(n({addQuery:{start_date:void 0,end_date:void 0}}),a(null),t(null))}),[c,d,s,n,t,a,u])})({setEndDate:se,setStartDate:re}),n().createElement(Q.Provider,{value:{startDate:ie,endDate:ne,selectedQuery:q,isDatesInputOpen:j,setStartDate:e=>{re(e),e&&oe(new Date(e).getTime())},setEndDate:se,setSelectedQuery:J,setIsDatesInputOpen:X,search:d,source:b,methods:{getFirstResult:le,handleSubmit:e=>{var t;null===e||void 0===e||e.preventDefault(),null===s||void 0===s||s(),null===V||void 0===V||null===(t=V.current)||void 0===t||t.close();const a=le(),i=a&&(r=a.type,"any"===_||"destination_search"===_&&"destination_search"===r)?{toPage:"searchresults",city:a.city,country:a.cc1}:{};var r;const n={start_date:ie,end_date:ne||ie},o={source:"search_box"},l="index_page"===b||S.displayText===(null===q||void 0===q?void 0:q.result.text)||S.displayText===(null===q||void 0===q?void 0:q.result.cityName)||S.displayText===(null===q||void 0===q?void 0:q.result.queryText);E.event("interaction","submit","search",{search_bar_used:{query:S.value||""},item_location:{page_name:b,block_name:"search"}});const u={...c&&{pinned_carousel:"black_friday"},sort_by:C};var g,m;p?(ie&&!ne&&se(ie),"index"!==H||q?q&&l?("search_autocomplete"!==q.result.type&&"recently_viewed"!==q.result.type||d.dispatchSetQuery({displayText:q.result.scopeSlug?q.result.text:q.result.cityName}),"points_of_interest_search"===q.result.type&&d.dispatchSetQuery({displayText:q.result.queryText}),F({toPage:"searchresults",...q.result.city&&{city:q.result.city},...q.result.scopeSlug&&{city:q.result.scopeSlug},country:q.result.cc1,useScopeSlug:!!q.result.scopeSlug,addQuery:{...n,...o,...q.result.slug&&q.result.id&&{pinned_product:q.result.id},...u}})):l||F({...i,addQuery:{...n,...o,query:S.value,...u}}):a?(J({result:a,type:"autocomplete"}),d.dispatchSetQuery({displayText:a.text})):null===R||void 0===R||null===(g=R.current)||void 0===g||g.open()):q?F({toPage:"searchresults",...q.result.city&&{city:q.result.city},...q.result.scopeSlug&&{city:q.result.scopeSlug},country:q.result.cc1,useScopeSlug:!!q.result.scopeSlug,addQuery:{...n,...o,...q.result.slug&&q.result.id&&{pinned_product:q.result.id},...u}}):null===R||void 0===R||null===(m=R.current)||void 0===m||m.open()},openDateSelector:()=>{if(null!==q&&void 0!==q&&q.result.text&&q.result.text!==ae.current&&!ie&&!ne){const t="search_box"===(0,l.V0)("source",A.search);if(!ee){if(te(!0),t)return;(0,N.trackExperimentStage)(N.exp`HWAFYDEZRETbBQAaNCWLfZVWbWOOC`,5)}ee&&(0,N.trackExperimentStage)(N.exp`HWAFYDEZRETbBQAaNCWLfZVWbWOOC`,6);const a=(0,w.s)(A.pathname);(0,N.trackExperimentStage)(N.exp`HWAFYDEZRETbBQAaNCWLfZVWbWOOC`,2),(0,N.trackExperimentStage)(N.exp`HWAFYDEZRETbBQAaNCWLfZVWbWOOC`,"searchresults"===a?4:3);var e;if(!!(0,N.trackExperiment)(N.exp`HWAFYDEZRETbBQAaNCWLfZVWbWOOC`))null===D||void 0===D||null===(e=D.current)||void 0===e||e.open(),ae.current=null===q||void 0===q?void 0:q.result.text}}},options:{pinnedBlackFridayCarousel:c,showProductResultsFirst:u,isSearchWithDates:p,showDestinationLabel:g,showPointsOfInterest:m,showRecentSearches:f,vertical:O},refs:{mobilePreview:V,queryInput:R,datesInput:D,submitInput:M}}},t)},q=e=>{var t,a;const{children:i,showMobileOverview:r}=e,s=z(),{translate:o}=(0,R.useTranslations)(),{ufi:l}=(0,S.Z)(),c=(null===(t=s.search.query)||void 0===t?void 0:t.displayText)||(null===(a=s.search.query)||void 0===a?void 0:a.value)||(null===l||void 0===l?void 0:l.bCityName)||void 0,d=s.startDate&&s.endDate&&M(s.startDate,s.endDate)||o("attrs_new_app_landing_flow_lp_dates_search_text_one");return n().createElement(L.Rj,{formAttributes:{action:"#",onSubmit:s.methods.handleSubmit},mobilePreview:r?{icon:D.Z,ariaLabel:[c,d,o("attractions_app_flow_sr_header_edit_search")].filter(Boolean).join(", "),closeAriaLabel:o("a11y_att_sr_close_cta"),sheetTitle:o("attractions_app_flow_sr_header_edit_search"),triggerAttributes:{"data-testid":"search-overview"},value:c,subValue:d,ref:s.refs.mobilePreview}:void 0},i)};var J=a("baae01e7"),j=a.n(J),X=a("6a4a8474");const ee=e=>{const{children:t}=e,{selectedQuery:a,...i}=z(),{translate:r}=(0,R.useTranslations)(),{ga:s}=(0,G.Z)(),{state:{hasError:o,noResultsToDisplayOnSearchResults:l}}=(0,X.si)(),{isLargeViewport:c}=(0,U.T1)();j()((()=>{!c||o||l||i.methods.openDateSelector()}),[a,l,o]);return n().createElement(L.Rj.Frame,{submitLabel:r("searchbox_button_index"),submitAttributes:{"data-testid":"search-button",onClick:()=>{(0,N.trackGoal)("attractions_search_submit_clicked"),(0,N.trackGoalWithValue)("js_attr_search_button",1),s.event("attr_sb_hit_button")},ref:i.refs.submitInput},vertical:i.options.vertical},t)};const te=function(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px"},r.createElement("path",{d:"M22.502 13.5v8.25a.75.75 0 0 1-.75.75h-19.5a.75.75 0 0 1-.75-.75V5.25a.75.75 0 0 1 .75-.75h19.5a.75.75 0 0 1 .75.75zm1.5 0V5.25A2.25 2.25 0 0 0 21.752 3h-19.5a2.25 2.25 0 0 0-2.25 2.25v16.5A2.25 2.25 0 0 0 2.252 24h19.5a2.25 2.25 0 0 0 2.25-2.25zm-23.25-3h22.5a.75.75 0 0 0 0-1.5H.752a.75.75 0 0 0 0 1.5M7.502 6V.75a.75.75 0 0 0-1.5 0V6a.75.75 0 0 0 1.5 0m10.5 0V.75a.75.75 0 0 0-1.5 0V6a.75.75 0 0 0 1.5 0"}))};var ae=a("92037c29"),ie=a("6cdba0e8"),re=a("3d0586c1"),ne=a("48063a67");const se=()=>{var e;const t=z(),{pushRoute:a}=(0,o.Z)(),{isLarge:i}=(0,s.useViewport)(),{translate:l}=(0,R.useTranslations)(),c=(0,ie.Z)(),d=(0,ae.Z)(),u=(0,Y.Jt)(),_=(0,r.useMemo)((()=>new Date),[]),p=_,g=(0,r.useMemo)((()=>{const e=new Date;return e.setDate(_.getDate()+u),e}),[_,u]),m=(0,r.useMemo)((()=>t.startDate?new Date((0,V.p7)(t.startDate)):null),[t.startDate]),f=(0,r.useMemo)((()=>t.endDate?new Date((0,V.p7)(t.endDate)):null),[t.endDate]),[b]=(0,r.useState)(m),h=M(t.startDate,t.endDate),v=i?t.options.vertical?"single":"double":"vertical";return n().createElement(L.Rj.Field,{ariaLabel:h?`${h}, ${l("att_select_your_dates")}`:l("att_select_your_dates"),closeAriaLabel:l("a11y_att_sr_close_cta"),icon:te,value:h??void 0,sheetTitle:l("att_select_dates"),placeholder:l("att_select_your_dates"),ref:t.refs.datesInput,sheet:{fill:!0,actionBarSlot:n().createElement(s.Button,{wide:!0,size:"large",onClick:null===(e=t.refs.datesInput.current)||void 0===e?void 0:e.close},l("att_sr_apply_cta"))},popover:{width:t.options.vertical?void 0:"700px"},onClear:()=>{t.setStartDate(null),t.setEndDate(null),a({addQuery:{start_date:void 0,end_date:void 0}})},onClose:()=>{t.startDate||t.endDate||(0,N.trackCustomGoal)(N.exp`HWAFYDEZRETbBQAaNCWLfZVWbWOOC`,1),t.setIsDatesInputOpen(!1)},onOpen:()=>{t.setIsDatesInputOpen(!0),(0,re.s_)()||(0,ne.Kq)(2)},inputs:[n().createElement("input",{type:"hidden",name:"start_date",value:t.startDate||""}),n().createElement("input",{type:"hidden",name:"end_date",value:t.endDate||""})]},n().createElement(s.Calendar,{nextAriaLabel:l("next_month"),previousAriaLabel:l("previous_month"),minDate:p,maxDate:g,allowSameDateSelection:!0,baseDate:b||p,startDate:m,endDate:f,mode:v,dayNames:d,monthNames:c,maxSelectionLength:u,onDateChange:e=>{let{startDate:a,endDate:r,changedDate:n}=e;const s=a&&(0,V.PQ)(a),o=r&&(0,V.PQ)(r)||null,l=a===n?"start":"end";var c,d;((0,Y.a8)(a,r)&&(0,N.trackCustomGoal)(N.exp`HWAFYYOLbHJaALDAbBKe`,1),"start"===l?(t.setStartDate(s),t.setEndDate(null)):t.setEndDate(o),"end"===l&&i)&&(null===(c=t.refs.datesInput.current)||void 0===c||c.close(),null===(d=t.refs.submitInput.current)||void 0===d||d.focus())},onBaseMonthChange:ne.I6}))};var oe=a("9a67ad93");const le=()=>{var e,t;const a=z(),{setSelectedQuery:i}=a,{translate:s}=(0,R.useTranslations)(),{ga:l}=(0,G.Z)(),{location:c}=(0,o.Z)(),{ufi:d}=(0,S.Z)(),{scopeDetails:u}=d||{},{isLargeViewport:_}=(0,U.T1)(),p=(0,w.s)(c.pathname),g="searchresults"===p&&!!u,f=_&&!!(0,N.trackExperiment)(N.exp`HWAFYDEZRETbBQAaNCWLfZVWbWOOC`),b=e=>{(0,N.trackExperimentStage)(N.exp`HWAFNHUYHAFPBLASeGEVUFaO`,4),(0,N.trackExperimentStage)(N.exp`HWAFNHUYHAFPBLASeGEVUFaO`,_?6:5),"index"===p?(0,N.trackExperimentStage)(N.exp`HWAFNHUYHAFPBLASeGEVUFaO`,7):(0,N.trackExperimentStage)(N.exp`HWAFNHUYHAFPBLASeGEVUFaO`,"city"===p?8:9),e&&(0,N.trackCustomGoal)(N.exp`HWAFNHUYHAFPBLASeGEVUFaO`,3)},h=e=>({onChange:t=>{t&&(e=>{var t;const i=a.search.query&&"resolved"===a.search.status&&0===(null===(t=a.search.results.points_of_interest_search)||void 0===t||null===(t=t.items)||void 0===t?void 0:t.length);switch(e){case"destination_nearby":case"destination_search":case"recent_searches":case"recently_viewed":case"search_autocomplete":b(i);break;case"points_of_interest_nearby":(0,N.trackExperimentStage)(N.exp`HWAFNecDKOQcfEEHFJEbDcTBeNSCZC`,3),(0,N.trackExperimentStage)(N.exp`HWAFNecDKOQcfEEHFJEbDcTBeNSCZC`,_?5:4),"index"===p?(0,N.trackExperimentStage)(N.exp`HWAFNecDKOQcfEEHFJEbDcTBeNSCZC`,6):(0,N.trackExperimentStage)(N.exp`HWAFNecDKOQcfEEHFJEbDcTBeNSCZC`,"city"===p?7:8),(0,N.trackCustomGoal)(N.exp`HWAFNHUYHAFPBLASeGEVUFaO`,1);break;case"points_of_interest_search":b(i),(0,N.trackCustomGoal)(N.exp`HWAFNHUYHAFPBLASeGEVUFaO`,2)}})(e)}}),v=(0,oe.YD)(h("points_of_interest_nearby")),y=(0,oe.YD)(h("points_of_interest_search")),x=(0,oe.YD)(h("search_autocomplete")),k=(0,oe.YD)(h("destination_search")),C=(0,r.useMemo)((()=>({points_of_interest_nearby:v.ref,points_of_interest_search:y.ref,search_autocomplete:x.ref,destination_search:k.ref})),[v.ref,y.ref,x.ref,k.ref]),Z=(0,r.useCallback)((e=>{var t;return((null===(t=a.search.results[e])||void 0===t?void 0:t.items)||[]).map(((t,r)=>{const n=0===r?C[e]:void 0;return{title:t.text,subtitle:a.options.showDestinationLabel||"points_of_interest_search"===e||"destination_search"===e?(()=>{if("search_autocomplete"===e||"destination_nearby"===e){var a;const e=null===(a=t.cc1)||void 0===a?void 0:a.toLowerCase(),i=e?s("country",e,"name"):void 0;if(i&&t.destination)return`${t.destination}, ${i}`;if(i)return i}return t.destination})():void 0,value:t.queryText,thumbnail:t.image?{src:t.image}:void 0,icon:t.image?void 0:t.icon||m.Z,attributes:{"data-testid":"search-bar-result",onClick:()=>{const r=a.search.query.value||"";switch(i({result:{...t,type:e},type:"autocomplete"}),(0,N.trackGoalWithValue)(`js_attr_search_${e}_click`,1),l.event(`attr_sb_click_${e}`),l.event("attr_sb_result_click",{label:r}),e){case"destination_nearby":case"destination_search":case"points_of_interest_nearby":(0,N.trackCustomGoal)(N.exp`HWAFNecDKOQcfEEHFJEbDcTBeNSCZC`,1);break;case"recent_searches":(0,N.trackGoal)("attractions_autocomplete_option_selected_destination"),(0,N.trackGoalWithValue)("js_attr_search_result_query_length",r.length);break;case"points_of_interest_search":(0,N.trackCustomGoal)(N.exp`HWAFNHUYHAFPBLASeGEVUFaO`,4);break;case"recently_viewed":case"search_autocomplete":(0,N.trackGoal)("attractions_autocomplete_option_selected_product"),(0,N.trackGoalWithValue)("js_attr_search_result_query_length",r.length)}},...n&&{ref:n}}}}))}),[a.options.showDestinationLabel,a.search.results,s,l,a.search.query.value,i,C]),T=Z("search_autocomplete"),A=Z("destination_search"),F=Z("destination_nearby"),E=Z("recent_searches"),W=Z("recently_viewed"),H=Z("points_of_interest_search"),O=Z("points_of_interest_nearby"),P=[!a.search.query.value&&{title:s("attr_index_nearby_destinations"),items:F},!a.search.query.value&&!g&&a.options.showPointsOfInterest&&{title:s("attractions_landmarks_header_top_sights"),items:O},!a.search.query.value&&!g&&a.options.showRecentSearches&&{title:s("att_universal_search_autocomplete_recent_searches"),items:E},!a.search.query.value&&!g&&{title:s("att_universal_search_autocomplete_recently_viewed"),items:W},a.search.query.value&&a.options.showProductResultsFirst&&{title:s("att_universal_search_autocomplete_ttd"),items:T},a.search.query.value&&a.options.showProductResultsFirst&&a.options.showPointsOfInterest&&{title:s("attractions_landmarks_header_top_sights"),items:H},a.search.query.value&&{title:s("att_universal_search_autocomplete_destinations"),items:A},a.search.query.value&&!a.options.showProductResultsFirst&&a.options.showPointsOfInterest&&{title:s("attractions_landmarks_header_top_sights"),items:H},a.search.query.value&&!a.options.showProductResultsFirst&&{title:s("att_universal_search_autocomplete_ttd"),items:T}].filter((e=>{var t;return e&&(null===(t=e.items)||void 0===t?void 0:t.length)>0}));return n().createElement(L.Rj.FieldAutocomplete,{inputAttributes:{"data-testid":"search-input-field",onClick:()=>{(0,N.trackGoalWithValue)("js_attr_search_click",1),l.event("attr_sb_click")},onFocus:e=>{"index"===p&&(0,N.trackCustomGoal)(N.exp`HWAFYDEZRdJfeVAXNLEHJWe`,3),f&&!a.isDatesInputOpen&&e.currentTarget.select(),(0,N.trackExperimentStage)(N.exp`HWAFNecDKOQcfEEHFJEbDcTBeNSCZC`,2),(0,N.trackExperimentStage)(N.exp`HWAFNHUYHAFPBLASeGEVUFaO`,3)},onKeyDown:e=>{"Enter"!==e.key||a.search.query||a.methods.handleSubmit()}},icon:D.Z,name:"query",placeholder:s("attr_index_search_box"),sheetTitle:s("att_sr_search_header"),clearButtonLabel:s("att_sr_clear_cta"),closeAriaLabel:s("a11y_att_sr_close_cta"),onChange:e=>{let{value:t}=e;null!==t&&void 0!==t&&t.length?a.search.dispatchSetQuery({displayText:t}):a.search.dispatchSetQuery({value:t,displayText:t})},onInput:e=>{let{value:t}=e;null!==t&&void 0!==t&&t.length?l.event("attractions_search_query_change",{label:t}):(l.event("attr_sb_clear"),(0,N.trackGoalWithValue)("js_attr_search_clear",1)),a.search.dispatchSetQuery({value:t,displayText:t})},value:(null===(e=a.search.query)||void 0===e?void 0:e.displayText)||(null===(t=a.search.query)||void 0===t?void 0:t.value)||"",ref:a.refs.queryInput,loading:"pending"===a.search.status,highlightValueOnSelect:!f,emptyLabel:["resolved","rejected"].includes(a.search.status)&&n().createElement(R.Trans,{tag:"attr_search_zero_results",variables:{query:a.search.query.value||""}}),sections:P})},ce=e=>{const{showPointsOfInterest:t,showRecentSearches:a,showOverviewOnMobile:n,pinnedBlackFridayCarousel:d,prefilledQuery:u,prefilledStartDate:_,prefilledEndDate:p,source:g,nearbyDestinations:m,filterHistoryByUfi:f,limitProductResultsByUfi:b,showDestinations:h,showDestinationLabel:v,selectFirstResultOnSearch:y,isSearchWithDates:x,onSearch:k,datesInputRef:C,queryInputRef:w,mobileOverviewRef:Z,submitInputRef:S,sortBy:T}=e,A=(0,I.y)(de),{history:F}=(0,o.Z)(),E=(0,B.O)(),W=["city_page","landmark_page","search_results"].includes(g),H=(0,l.V0)("query",F.location.search),O=(0,r.useMemo)((()=>({displayText:H||(null===u||void 0===u?void 0:u.text),value:H})),[u,H]),L=P({query:O,prefilledQuery:(null===u||void 0===u?void 0:u.text)||"",source:g,nearbyDestinations:m,resultsPerCategory:4,filterHistoryByUfi:f,limitProductResultsByUfi:b,showDestinations:h,showPointsOfInterest:t,showRecentSearches:a});return(0,i.tZ)(c.S,null,(0,i.tZ)("div",{css:E?A.webview:void 0,role:"search"},n&&!E&&(0,i.tZ)(s.Hidden,{hide:{s:!1,l:!0}},(0,i.tZ)("div",{css:A.blueSpacer})),(0,i.tZ)(K,{defaultStartDate:_,defaultEndDate:p,pinnedBlackFridayCarousel:d,prefilledQuery:u,onSearch:k,search:L,source:g,showProductResultsFirst:W,selectFirstResultOnSearch:y,showDestinationLabel:v,showPointsOfInterest:t,showRecentSearches:a,isSearchWithDates:x,mobilePreviewRef:Z,datesInputRef:C,queryInputRef:w,submitInputRef:S,sortBy:T},(0,i.tZ)(q,{showMobileOverview:n},(0,i.tZ)(ee,null,(0,i.tZ)(le,null),x&&(0,i.tZ)(se,null))))))},de=e=>(0,I.k)({webview:{paddingTop:e.units.spacing_3x},blueSpacer:{background:e.colors.color_brand_primary_background_dynamic,margin:`0 calc(${e.units.spacing_4x} * -1) calc(${e.units.spacing_1x} * -7)`,height:`calc(${e.units.spacing_1x} * 7)`}})},"52d06349":(e,t,a)=>{"use strict";a.d(t,{e:()=>s});var i=a("b4083f42"),r=(a("ead71eb0"),a("74ac0209")),n=a("45ccbd8e");const s=e=>{const{carouselPosition:t,children:a,cardListSpacingBottom:r,cardListSpacingTop:s}=e,l=(0,n.y)(o);return(0,i.tZ)("div",{css:[l[`carouselContainer__${t}`],"cardList"===t&&!!r&&l.carouselContainer__cardListSpacingBottom,"cardList"===t&&!!s&&l.carouselContainer__cardListSpacingTop,"",""]},(0,i.tZ)("div",{css:[l.container,l[`container__${t}`],"",""]},a))},o=e=>(0,n.k)({carouselContainer__cardList:{maxWidth:"100%",[r.FU]:{padding:0}},carouselContainer__cardListSpacingTop:{paddingTop:e.units.spacing_1x},carouselContainer__cardListSpacingBottom:{paddingBottom:e.units.spacing_1x},carouselContainer__indexSection:{margin:`0 -${e.units.spacing_4x}`,[r.FU]:{margin:0}},carouselContainer__layoutContent:{background:e.colors.color_background_alt,borderBottom:`1px solid ${e.colors.color_border_alt}`,margin:`0 -${e.units.spacing_4x}`,[r.FU]:{border:"none",margin:0}},container:{background:e.colors.color_white,display:"flex",flexDirection:"column",gap:e.units.spacing_3x,padding:`0 ${e.units.spacing_4x} ${e.units.spacing_2x}`,[r.FU]:{padding:0}},container__cardList:{borderTop:`1px solid ${e.colors.color_border_alt}`,borderBottom:`1px solid ${e.colors.color_border_alt}`,padding:`${e.units.spacing_4x} ${e.units.spacing_4x} ${e.units.spacing_3x}`,[r.FU]:{border:"none",padding:0}},container__layoutContent:{padding:`${e.units.spacing_4x} ${e.units.spacing_4x} ${e.units.spacing_3x}`,[r.FU]:{padding:0}},container__indexSection:{gap:e.units.spacing_4x,padding:`0 ${e.units.spacing_4x}`}})},"84f4e099":(e,t,a)=>{"use strict";a.d(t,{c:()=>k});var i=a("3d054e81"),r=a("b4083f42"),n=a("ead71eb0"),s=a.n(n),o=a("6222292b"),l=a("c44dcb0c"),c=a("ff4048bc"),d=a("afbbfc26"),u=a("45ccbd8e"),_=a("7b5b6285"),p=a("6a4a8474"),g=a("4e4a7a66"),m=a("28dbd132");const f=function(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px"},n.createElement("path",{d:"M22.875 12.008a4.24 4.24 0 0 0-2.862-4.055l.427 1.044a4.35 4.35 0 0 0-.737-4.938 4.036 4.036 0 0 0-4.84-.776l1.077.458a4.091 4.091 0 0 0-7.88 0l1.077-.459a4.04 4.04 0 0 0-4.84.777 4.35 4.35 0 0 0-.737 4.938l.42-1.042a4.292 4.292 0 0 0 0 8.089l-.42-1.042a4.35 4.35 0 0 0 .736 4.938 4.04 4.04 0 0 0 4.841.778l-1.077-.46a4.091 4.091 0 0 0 7.88 0l-1.077.46a4.036 4.036 0 0 0 4.84-.778 4.35 4.35 0 0 0 .737-4.938l-.427 1.044a4.24 4.24 0 0 0 2.862-4.054zm-1.5 0a2.74 2.74 0 0 1-1.85 2.62.75.75 0 0 0-.427 1.044 2.85 2.85 0 0 1-.483 3.236 2.536 2.536 0 0 1-3.042.488.75.75 0 0 0-1.077.46 2.59 2.59 0 0 1-4.992 0 .75.75 0 0 0-1.077-.46 2.54 2.54 0 0 1-3.043-.488 2.85 2.85 0 0 1-.482-3.236.75.75 0 0 0-.42-1.042 2.792 2.792 0 0 1 0-5.261.75.75 0 0 0 .42-1.042 2.85 2.85 0 0 1 .482-3.236 2.54 2.54 0 0 1 3.043-.487.75.75 0 0 0 1.077-.46 2.59 2.59 0 0 1 4.992 0 .75.75 0 0 0 1.077.46 2.536 2.536 0 0 1 3.042.487 2.85 2.85 0 0 1 .483 3.236.75.75 0 0 0 .427 1.044 2.74 2.74 0 0 1 1.85 2.621zM9.155 16.28l7.5-7.5a.75.75 0 0 0-1.06-1.06l-7.5 7.5a.75.75 0 1 0 1.06 1.06m.97-7.28a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m1.5 0a2.25 2.25 0 1 0-4.5 0 2.25 2.25 0 0 0 4.5 0m4.5 6a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m1.5 0a2.25 2.25 0 1 0-4.5 0 2.25 2.25 0 0 0 4.5 0"}))};var b=a("1c0fcf2b");const h=function(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px"},n.createElement("path",{d:"M9.5 21v-5.25l-.75.75h6l-.75-.75V21a.75.75 0 0 0 1.5 0v-5.25a.75.75 0 0 0-.75-.75h-6a.75.75 0 0 0-.75.75V21a.75.75 0 0 0 1.5 0m7.5-3v5.25a.75.75 0 0 0 1.5 0V18a.75.75 0 0 0-1.5 0m6 5.25V18a.75.75 0 0 0-1.5 0v5.25a.75.75 0 0 0 1.5 0m-.08-5.585-2.25-4.5a.75.75 0 0 0-1.34 0l-2.25 4.5a.75.75 0 1 0 1.34.67l2.25-4.5h-1.34l2.25 4.5a.75.75 0 1 0 1.34-.67m-13.5-1.58 3-6h-1.34l3 6a.75.75 0 1 0 1.34-.67l-3-6a.75.75 0 0 0-1.34 0l-3 6a.75.75 0 1 0 1.34.67M12.5 9.75v-3a.75.75 0 0 0-1.5 0v3a.75.75 0 0 0 1.5 0m8.25 3.75v-3a.75.75 0 0 0-1.5 0v3a.75.75 0 0 0 1.5 0M.5 18v5.25a.75.75 0 0 0 1.5 0V18a.75.75 0 0 0-1.5 0m6 5.25V18A.75.75 0 0 0 5 18v5.25a.75.75 0 0 0 1.5 0m-.08-5.585-2.25-4.5a.75.75 0 0 0-1.34 0l-2.25 4.5a.75.75 0 1 0 1.34.67l2.25-4.5H2.83l2.25 4.5a.75.75 0 1 0 1.34-.67M4.25 13.5v-3a.75.75 0 0 0-1.5 0v3a.75.75 0 0 0 1.5 0m1.5 8.25h12a.75.75 0 0 0 0-1.5h-12a.75.75 0 0 0 0 1.5M17 4.306h6a.75.75 0 0 0 0-1.5h-6a.75.75 0 0 0 0 1.5m3.839-3.91-3 5.612a.75.75 0 1 0 1.322.708l3-5.612A.75.75 0 1 0 20.84.396zm-3 .708 3 5.612a.75.75 0 1 0 1.322-.708l-3-5.612a.75.75 0 1 0-1.322.708M1.25 6.194h6a.75.75 0 0 0 0-1.5h-6a.75.75 0 0 0 0 1.5m3.839-3.91-3 5.612a.75.75 0 0 0 1.322.708l3-5.612a.75.75 0 0 0-1.322-.708m-3 .708 3 5.612a.75.75 0 0 0 1.322-.708l-3-5.612a.75.75 0 0 0-1.322.708"}))};(0,a("5705b365").j)();var v=a("9cdf582f"),y=a("4840e3d5");const x=e=>{const{translate:t}=(0,l.useTranslations)(),a=(()=>{const{translate:e}=(0,l.useTranslations)();return e("attr_web_carousel_deals_of_month_header",{variables:{month:(new Date).getMonth()+1}})})(),{location:i}=(0,_.Z)(),r=(0,y.$)({skip:!1}),n=(0,c.s)(i.pathname);return{bestseller:{title:t("att_lf_pp_bestsellers_in_city_name",{variables:{city_name:null===r||void 0===r?void 0:r.cityName,in_city_name:null===r||void 0===r?void 0:r.inCityName}}),seeAllLink:{onClick:()=>{"attraction"===n&&(0,m.trackCustomGoal)(m.exp`HWAFNeOYFQNEJNaSdFaLbFC`,2)},routeProps:{toPage:"searchresults"}}},blackFriday:{title:v.F.isBlackFridayCampaignRunning()?t("attractions_black_friday_2024_carousel_header_bf_deals"):"",seeAllLink:{routeProps:{toPage:"searchresults",addQuery:{"filter_by_label[]":"has_discount"}}}},dealsOfTheMonth:{icon:s().createElement(f,null),title:a},discountedProducts:{icon:s().createElement(f,null),title:t("attractions_desk_sr_deals_header"),seeAllLink:{routeProps:{toPage:"searchresults",addQuery:{"filter_by_label[]":"has_discount"}}}},pointsOfInterest:{icon:s().createElement(b.Z,null),title:t("attractions_landmarks_header_top_sights")},themePark:{icon:s().createElement(h,null),title:t("attractions_web_disney_universal_carousel_header")},thematicGroups:{title:t("attractions_disco_sr_thematic_grouping_header")}}[e]},k=e=>{const{carouselType:t}=e,{location:a}=(0,_.Z)(),{actions:n,pagination:{resetPagination:s}}=(0,p.si)(),m=(0,u.y)(C),{translate:f}=(0,l.useTranslations)(),b=x(t),h=(0,c.s)(a.pathname),{icon:v,seeAllLink:y,subtitle:k}=b||{},w=e.title||(null===b||void 0===b?void 0:b.title)||"";return(0,r.tZ)("div",{css:m.header},(0,r.tZ)("div",{css:m.title},v&&(0,r.tZ)(o.Icon,{svg:v,size:"medium"}),(0,r.tZ)("div",{css:m.titleText},(0,r.tZ)(o.Text,{tagName:"h2",css:m.headline,variant:"headline_3"},w),k&&(0,r.tZ)(o.Text,{css:m.subtitle,color:"neutral_alt",variant:"body_2"},k))),!!y&&(0,r.tZ)(g.Z,(0,i.Z)({},y.routeProps,{addQuery:{...y.routeProps.addQuery,..."searchresults"!==h&&{source:`${(0,d._)(t)}-carousel-cta`}},css:m.button,onClick:()=>{window.scrollTo({top:0}),s(),n.setQueryUpdateType("filter"),y.onClick&&y.onClick()}}),f("att_uf_see_all_attr_cta")))},C=e=>(0,u.k)({header:{alignContent:"center",display:"flex",justifyContent:"space-between"},title:{alignContent:"center",display:"flex",gap:e.units.spacing_2x},titleText:{display:"flex",flexDirection:"column",gap:e.units.spacing_1x},headline:{lineHeight:e.fonts.medium.font_headline_3.fontSize},subtitle:{lineHeight:e.fonts.medium.font_headline_3.fontSize},button:{background:e.colors.color_white,border:"none",borderRadius:e.units.border_radius_100,color:e.colors.color_action_foreground,fontSize:14,fontWeight:500,margin:`-${e.units.spacing_1x} -${e.units.spacing_2x}`,padding:`${e.units.spacing_1x} ${e.units.spacing_2x}`,"&:focus":{background:e.colors.color_action_highlighted_alt},"&:hover":{background:e.colors.color_action_highlighted_alt}}})},afbbfc26:(e,t,a)=>{"use strict";a.d(t,{_:()=>i,d:()=>r});const i=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=e=>"searchresults"===e?"sr-":e?`${e}-`:""},"65db78ee":(e,t,a)=>{"use strict";a.d(t,{D:()=>Q,p:()=>z});var i=a("3d054e81"),r=a("ead71eb0"),n=a.n(r),s=a("52d06349"),o=a("84f4e099"),l=a("b4083f42"),c=a("6222292b"),d=a("c44dcb0c"),u=a("5cb0d6cc"),_=a("190b2600"),p=a("8b362ef2"),g=a("9a67ad93"),m=a("3f5449ae"),f=a("4e4a7a66"),b=a("2488081c"),h=a("f57825c1"),v=a("d3104076"),y=a("bee5ee65"),x=a("2fe2e183"),k=a("a88d9cf2"),C=a("ff4048bc"),w=a("5a887cbf"),Z=a("74ac0209"),S=a("a0585de1"),T=a("50dfd774"),A=a("45ccbd8e"),F=a("7b5b6285"),E=a("4840e3d5"),W=a("1d7719e6"),H=a("e357ae41"),O=a("afbbfc26"),P=a("421f0856"),B=a("826f1bad");const I=e=>{const{attraction:t,carouselType:a,index:s,onCardClick:o,onCardShow:Z,roundPrice:I=!1,showBestSellerBadge:D,showDiscountBadge:R,showDuration:V,showOriginalPriceFirst:M,showReviewScore:N,showSkipTheLine:G,size:U,toPage:Y="attraction",shouldFocusTicketSelector:$}=e,{ref:Q,inView:z}=(0,g.YD)(),{location:K,buildUrl:q,pushRoute:J}=(0,F.Z)(),j=(0,W.o)(),X=(0,A.y)(L),{translate:ee}=(0,d.useTranslations)(),{upcomingAccommodations:te}=(0,y.Q)(),{ufi:ae}=(0,x.Z)(),[ie,re]=(0,r.useState)(null),ne=(0,C.s)(K.pathname),se=null!==te&&void 0!==te&&te.length?te[0]:null,oe=(0,E.$)({skip:"index"!==ne}),{flags:le,name:ce,photos:de,primaryPhoto:ue,representativePrice:_e,reviewsStats:pe,slug:ge,typicalDuration:me}=t,fe=(0,T.nF)(pe),be=(0,O._)(a),he=(0,r.useMemo)((()=>(0,k.z8)({representativePrice:_e,roundPrice:I})),[_e,I]),ve=(0,r.useMemo)((()=>{const e=[],t=(0,H.j)(h.K.bestseller,le);return t&&D&&e.push({el:(0,l.tZ)(m.P,{rank:t,text:ee("att_lf_bestselling_att_by_ranking_num",{variables:{rank:t}})}),key:"bestseller"}),he.hasGeniusDiscount&&e.push({el:(0,l.tZ)(b.Q,null),key:"genius"}),he.discountPercentage&&R&&e.push({el:(0,l.tZ)("div",{css:X.badge},ee("attractions_discounts_badge_num_percentage_off",{variables:{num_discount:he.discountPercentage}})),key:"discount"}),e}),[le,he,D,R,X.badge,ee]),ye=(0,r.useMemo)((()=>{if(fe&&null!==pe&&void 0!==pe&&pe.combinedNumericStats&&N){const{average:e,total:t}=pe.combinedNumericStats,a=1===e.toString().length?`${e}.0`:e;return(0,l.tZ)("div",{css:X.reviewScore},(0,l.tZ)(c.Icon,{svg:(0,l.tZ)(u.Z,null),color:"brand_genius_secondary",size:"smaller"}),a," (",t,")")}return null}),[fe,pe,N,X.reviewScore]),xe=(0,r.useMemo)((()=>(0,P.T)(t.highlights,t.itinerary)?(0,l.tZ)("div",{css:X.skipTheLine},(0,l.tZ)(c.Icon,{size:"smaller",svg:(0,l.tZ)(_.Z,null)}),(0,l.tZ)(c.Text,{variant:"small_1"},(0,l.tZ)(d.Trans,{tag:"attractions_lf_pp_skip_the_line"}))):null),[X.skipTheLine,t]),ke=(0,r.useMemo)((()=>null!==me&&void 0!==me&&me.label&&V?(0,l.tZ)("div",{css:X.duration},(0,l.tZ)(c.Icon,{svg:(0,l.tZ)(p.Z,null)}),(0,l.tZ)(c.Text,{variant:"small_1"},me.label)):null),[V,X,me]),Ce=(0,r.useMemo)((()=>{if("index"!==ne){const e=(0,S.V0)("start_date",K.search);return{date:e,start_date:e,end_date:(0,S.V0)("end_date",K.search)}}const e=null===se||void 0===se?void 0:se.reservationInfo.checkInDate;return{date:e,start_date:e,end_date:null===se||void 0===se?void 0:se.reservationInfo.checkOutDate}}),[ne,K.search,se]),we=(0,r.useMemo)((()=>{var e;return{toPage:Y,..."attraction"===Y&&{slug:ge,...$&&{fragmentId:B.bn}},...(null===oe||void 0===oe||null===(e=oe.url)||void 0===e?void 0:e.city)&&{envUrl:oe.url},addQuery:{...Ce,source:`${(0,O.d)(ne)}${be}-carousel-product-card`,..."searchresults"===Y&&{pinned_product:t.id},..."searchresults"===ne&&ae&&{ufi:null===ae||void 0===ae?void 0:ae.ufi}}}}),[Y,ge,$,null===oe||void 0===oe?void 0:oe.url,ne,be,t.id,ae,Ce]),Ze=(0,r.useMemo)((()=>{const e="white";return(0,l.tZ)("div",{css:X.content,"data-testid":"carousel-card"},(0,l.tZ)(c.Text,{tagName:"h3"},(0,l.tZ)(f.Z,(0,i.Z)({target:j?"_blank":void 0},we,{noHover:!0}),(0,l.tZ)("span",{css:X.link},ce))),ye,G&&xe,ke,(0,l.tZ)("div",{"aria-hidden":!0,css:X.price},(0,l.tZ)(c.Text,{css:X.priceText,variant:"small_1",color:e},ee("att_sr_price_from")),!!he.discountPercentage&&M&&(0,l.tZ)(c.Text,{css:X.priceText,decoration:"line-through",variant:"small_1",color:e},he.originalPrice),(0,l.tZ)(c.Text,{css:X.priceText,variant:"emphasized_2",color:e},he.price),!!he.discountPercentage&&!M&&(0,l.tZ)(c.Text,{css:X.priceText,decoration:"line-through",variant:"small_1",color:e},he.originalPrice)),(0,l.tZ)(v.g,{originalPrice:he.originalPrice,price:he.price,priceIsAStartingPrice:!0}))}),[ke,ce,he,ye,we,M,j,G,xe,X,ee]),Se=ue?(0,w.Lz)((0,w.Uo)(ue,"searchResultsCarousel")):null!==de&&void 0!==de&&de.length?(0,w.Lz)((0,w.Uo)(de[0],"searchResultsCarousel")):"",Te=(0,r.useCallback)((e=>{re(e),Q(e)}),[Q]),Ae=(0,r.useCallback)((e=>{const a=e.target;o&&o(s,t),"A"!==a.tagName&&!a.closest("A")&&null!==ie&&void 0!==ie&&ie.contains(a)&&(j||e.ctrlKey?window.open(q(we)):J(we))}),[q,ie,t,s,o,J,we,j]);return(0,r.useEffect)((()=>{z&&Z&&Z(s,t)}),[z]),(0,l.tZ)("div",{ref:Te,onClick:Ae,css:[X.card,"medium"===U&&X.card__medium,"",""],style:{backgroundImage:`url(${Se})`}},(0,l.tZ)(c.Scrim,{position:"bottom"},Ze),!!ve.length&&(0,l.tZ)("div",{css:X.badges},ve.map((e=>(0,l.tZ)(n().Fragment,{key:e.key},e.el)))))},L=e=>(0,A.k)({card:{backgroundColor:e.colors.color_background_base_alt,backgroundSize:"cover",borderRadius:e.units.border_radius_200,display:"flex",flexDirection:"column",flexShrink:0,height:284,gap:e.units.spacing_1x,overflow:"hidden",padding:e.units.spacing_4x,position:"relative",width:189,[Z.FU]:{width:"100%"},cursor:"pointer"},card__medium:{height:386},badges:{display:"flex",flexWrap:"wrap",gap:e.units.spacing_1x,position:"absolute",top:e.units.spacing_4x,left:e.units.spacing_4x,right:e.units.spacing_4x,zIndex:1},badge:{alignItems:"center",background:e.colors.color_white,borderRadius:e.units.border_radius_100,color:e.colors.color_foreground,display:"flex",gap:e.units.spacing_1x,padding:e.units.spacing_1x,...e.fonts.medium.font_small_1,lineHeight:e.fonts.medium.font_small_1.fontSize},bestsellerBadge:{background:e.colors.color_brand_primary_background,color:e.colors.color_white},reviewScore:{alignItems:"center",display:"flex",gap:e.units.spacing_1x,marginTop:`-${e.units.spacing_1x}`},duration:{display:"flex",gap:e.units.spacing_1x},skipTheLine:{display:"flex",alignItems:"center",gap:e.units.spacing_2x},image:{backgroundColor:e.colors.color_background_base_alt,backgroundSize:"cover",borderRadius:e.units.border_radius_200,height:151,width:189,[Z.FU]:{width:"100%"}},content:{display:"flex",flexDirection:"column",gap:e.units.spacing_1x},price:{alignItems:"flex-end",display:"flex",gap:e.units.spacing_1x},priceText:{lineHeight:e.fonts.medium.font_body_2.fontSize},link:{...e.fonts.medium.font_strong_1,color:e.colors.color_white}});var D=a("9f694d85");const R=e=>{const{carouselRef:t,carouselType:a,onCardClick:i,onCardShow:r,onScroll:s,products:o,roundPrices:l,showBestSellerBadge:u,showDiscountBadge:_,showDuration:p,showOriginalPriceFirst:g,showReviewScore:m,showSkipTheLine:f,size:b,toPage:h,shouldFocusTicketSelector:v}=e,{translate:y}=(0,d.useTranslations)(),{isLargeViewport:x}=(0,D.T1)();return o?n().createElement(c.Carousel,{previousButtonAriaLabel:y("a11y_aria_label_carousel_previous"),nextButtonAriaLabel:y("a11y_aria_label_carousel_next_previous"),onAfterNavigate:s,ref:t,size:x?b:void 0},o.map(((e,t)=>n().createElement(I,{attraction:e,carouselType:a,key:e.id,index:t,onCardClick:i,onCardShow:r,roundPrice:l,showBestSellerBadge:u,showDiscountBadge:_,showDuration:p,showOriginalPriceFirst:g,showReviewScore:m,showSkipTheLine:f,size:b,toPage:h,shouldFocusTicketSelector:v})))):null},V=e=>{const{size:t}=e,a=(0,A.y)(M);return(0,l.tZ)(c.SkeletonLoader,{css:[a.cardSkeleton,"medium"===t&&a.cardSkeleton__medium,"",""]})},M=e=>(0,A.k)({cardSkeleton:{display:"flex",flexShrink:0,height:284,opacity:.5,position:"relative",width:189,"> span":{borderRadius:e.units.border_radius_200,height:"100%",width:"100%"},[Z.FU]:{flexBasis:"100%",flexShrink:"inherit",width:"inherit"}},cardSkeleton__medium:{height:386}}),N=e=>{const{size:t}=e,a=(0,A.y)(G),i="medium"===t?4:3;return(0,l.tZ)("div",{css:a.cards},[...Array(i).keys()].map((e=>(0,l.tZ)(V,{key:e,size:t}))))},G=e=>(0,A.k)({cards:{display:"flex",gap:e.units.spacing_3x,margin:`0 -${e.units.spacing_4x}`,overflow:"hidden",padding:`0 ${e.units.spacing_4x}`,[Z.FU]:{gap:e.units.spacing_4x,margin:0,padding:0}}}),U=e=>{const{activeTabId:t,onTabChange:a,tabs:r}=e,n=(0,A.y)(Y),{translate:s}=(0,d.useTranslations)();return r.length?(0,l.tZ)(c.Tab,{activeTabId:t,onTabChange:a,moreLabel:s("attractions_prod_page_info_show_more"),variant:"rounded"},(0,l.tZ)(c.Tab.TriggerList,null,r.map((e=>(0,l.tZ)(c.Tab.Trigger,{id:e.id,key:`${e.id}-tab`,text:e.text})))),r.map((t=>(0,l.tZ)(c.Tab.Panel,{id:t.id,key:`${t.id}-panel`},(0,l.tZ)("div",{css:n.panel},t.products?(0,l.tZ)(R,(0,i.Z)({},e,{products:t.products})):(0,l.tZ)(N,{size:e.size})))))):null},Y=e=>(0,A.k)({panel:{paddingTop:e.units.spacing_4x}});var $=a("b618dd09");const Q=e=>{var t;const{translate:a}=(0,d.useTranslations)(),r=(0,x.Z)(),l=(null===r||void 0===r||null===(t=r.ufi)||void 0===t?void 0:t.bCityName)||"",{cardListSpacingBottom:c,cardListSpacingTop:u,carouselPosition:_,carouselRef:p,carouselType:g,products:m,onCardClick:f,onCardShow:b,onScroll:h,onTabChange:v,roundPrices:y,showBestSellerBadge:k,showDiscountBadge:C,showDuration:w,showHeader:Z=!0,showOriginalPriceFirst:S,showReviewScore:T,showSkipTheLine:A,size:F="large",tabs:E,title:W,toPage:H,shouldFocusTicketSelector:O}=e;return m||E?n().createElement(s.e,{carouselPosition:_,cardListSpacingBottom:c,cardListSpacingTop:u},Z&&n().createElement(o.c,{carouselType:g,title:W}),E?n().createElement(U,(0,i.Z)({},E,{carouselRef:p,carouselType:g,onCardClick:f,onCardShow:b,onScroll:h,onTabChange:v,products:m,roundPrices:y,showDiscountBadge:C,showDuration:w,showOriginalPriceFirst:S,showReviewScore:T,showSkipTheLine:A,size:F,toPage:H,shouldFocusTicketSelector:O})):n().createElement(R,{carouselRef:p,carouselType:g,onCardClick:f,onCardShow:b,onScroll:h,products:m,roundPrices:y,showBestSellerBadge:k,showDiscountBadge:C,showDuration:w,showOriginalPriceFirst:S,showReviewScore:T,showSkipTheLine:A,size:F,toPage:H,shouldFocusTicketSelector:O}),Z&&n().createElement($.c,{tagName:"h2"},a("a11y_attractions_uf_sr_continue_browsing_hint",{variables:{city_name:l}}))):null},z=e=>{const{carouselPosition:t,showHeader:a=!0,showSeeAllLink:i,showTabs:r,size:n}=e,o=(0,A.y)(K);return(0,l.tZ)(s.e,{carouselPosition:t},a&&(0,l.tZ)("div",{css:o.header},(0,l.tZ)(c.SkeletonLoader,{css:[o.placeholder,o.placeholder__title,"",""]}),i&&(0,l.tZ)(c.SkeletonLoader,{css:[o.placeholder,o.placeholder__button,"",""]})),r&&(0,l.tZ)("div",{css:o.tabs},[...Array(3).keys()].map((e=>(0,l.tZ)(c.SkeletonLoader,{css:[o.placeholder,o.placeholder__tab,"",""],key:e})))),(0,l.tZ)(N,{size:n}))},K=e=>(0,A.k)({header:{alignContent:"center",display:"flex",justifyContent:"space-between"},placeholder:{height:28,opacity:.5,"> span":{borderRadius:e.units.border_radius_200,height:"100%",width:"100%"}},placeholder__title:{width:220},placeholder__button:{width:60},placeholder__tab:{borderRadius:44,height:44,flexShrink:0,width:110},tabs:{display:"flex",gap:e.units.spacing_2x,margin:`0 -${e.units.spacing_4x}`,padding:`0 ${e.units.spacing_4x}`,overflow:"hidden",[Z.FU]:{margin:0,padding:0}}})},ea27e99f:(e,t,a)=>{"use strict";a.d(t,{r:()=>l,z:()=>c});var i=a("b4083f42"),r=a("9f694d85"),n=a("6222292b"),s=a("c44dcb0c"),o=a("9a67ad93");const l=e=>{const{supplierName:t}=e,{isLargeViewport:a}=(0,r.T1)(),l=(0,i.tZ)(n.Badge,{attributes:{"data-testid":e["data-testid"]},text:"Ad",variant:"outline"});return(0,i.tZ)("span",null,a?(0,i.tZ)(n.Tooltip,{text:(0,i.tZ)(o.df,{onChange:t=>{var a;t&&(null===(a=e.onView)||void 0===a||a.call(e))}},(0,i.tZ)(s.Trans,{tag:"attr_web_sr_sponsored_badge_tooltip",variables:{supplier_name:t}}))},(e=>(0,i.tZ)(n.Actionable,{attributes:{...e}},l))):l)},c=e=>{const{supplierName:t}=e,{isSmallViewport:a}=(0,r.T1)();return a?(0,i.tZ)(o.df,{onChange:t=>{var a;t&&(null===(a=e.onView)||void 0===a||a.call(e))}},(0,i.tZ)(n.Banner,{dismissible:!1,attributes:{"data-testid":e["data-testid"]}},(0,i.tZ)(s.Trans,{tag:"attr_web_pp_sponsored_desc",variables:{legal_entity:t}}))):null}},"7ef54c27":(e,t,a)=>{"use strict";a.d(t,{G:()=>h});var i=a("b4083f42"),r=a("ead71eb0"),n=a.n(r),s=a("6222292b"),o=a("c44dcb0c"),l=a("96c28170"),c=a("eb4255fc"),d=a("699a7cc2"),u=a("31a0dded"),_=a("a590b133");const p=e=>{const{page:t,productId:a,onClose:r}=e,[l]=(0,d.q6l)(),{translate:p}=(0,o.useTranslations)(),g=(0,u.h)();return(0,i.tZ)(n().Fragment,null,(0,i.tZ)(c.J9,{initialValues:{score:void 0,suggestion:""},validate:e=>e.score?{}:{score:p("att_lf_give_feedback_nav_score_error")},onSubmit:(e,i)=>{i.setStatus(null),l({variables:{input:{productId:a,placement:t,score:e.score?parseInt(e.score,10):0,comment:`${e.suggestion}`},...g}}).then((()=>{i.setSubmitting(!1),i.setStatus("success")})).catch((()=>{i.setSubmitting(!1),i.setStatus("error")}))},validateOnBlur:!1},(e=>{let{isSubmitting:t,status:a,setFieldValue:l,values:d,errors:u}=e;return(0,i.tZ)(c.l0,{placeholder:"",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,"data-testid":"feedback-form"},(0,i.tZ)(s.Title,{variant:"headline_3",title:p("att_lf_give_feedback_header"),subtitle:p("success"===a?"att_lf_give_feedback_confirm_message":"att_lf_give_feedback_subheader")}),"error"===a&&(0,i.tZ)(s.Text,{variant:"body_2",color:"destructive"},(0,i.tZ)(o.Trans,{tag:"att_error_generic"})),"success"===a?(0,i.tZ)(_.R,{margin:["spacing_3x","none","spacing_2x"]},(0,i.tZ)(s.Button,{variant:"secondary",onClick:r,text:p("att_open_search_close")})):(0,i.tZ)(n().Fragment,null,(0,i.tZ)(_.R,{margin:["spacing_6x","none","spacing_4x"]},(0,i.tZ)(s.InputRadioGroup,{name:"score",required:!0,label:p("att_lf_give_feedback_web_experience_rating_question"),value:d.score,error:u.score,onChange:e=>{let{value:t}=e;t&&l("score",t)}},(0,i.tZ)(_.R,{gap:"spacing_2x",direction:"row",justify:"space-between",margin:["none","none","spacing_1x"]},(0,i.tZ)(s.Text,{variant:"body_2"},p("att_lf_give_feedback_unsatisfied")),(0,i.tZ)(s.Text,{variant:"body_2"},p("att_lf_give_feedback_extremely_satisfied"))),(0,i.tZ)(_.R,{gap:"spacing_2x",direction:"row",justify:"space-between"},(0,i.tZ)(s.InputRadio,{label:"1",value:"1"}),(0,i.tZ)(s.InputRadio,{label:"2",value:"2"}),(0,i.tZ)(s.InputRadio,{label:"3",value:"3"}),(0,i.tZ)(s.InputRadio,{label:"4",value:"4"}),(0,i.tZ)(s.InputRadio,{label:"5",value:"5"})))),(0,i.tZ)(_.R,{margin:["spacing_1x","none","none"]},(0,i.tZ)(s.InputTextarea,{label:p("att_lf_give_feedback_web_suggestion_title"),name:"suggestion",value:d.suggestion,onChange:e=>{var t;return l("suggestion",(null===(t=e.event)||void 0===t?void 0:t.target.value)||"")},placeholder:p("att_lf_give_feedback_share_suggestion_text_field"),rows:3})),(0,i.tZ)(_.R,{direction:"row",gap:"spacing_2x",wrap:"wrap",margin:["spacing_4x","none"]},(0,i.tZ)(s.Button,{type:"submit",variant:"primary",text:p("att_lf_product_page_submit_question_cta"),disabled:t,loading:t,loadingAriaLabel:p("a11y_att_lf_button_loading_state_processing")}),(0,i.tZ)(s.Button,{variant:"secondary",text:p("att_lf_product_page_cancel_suggestion_cta"),onClick:r}))))})))};var g=a("45ccbd8e"),m=a("74ac0209"),f=a("5b091159"),b=a("9f694d85");const h=e=>{let{page:t,productId:a}=e;const r=(0,g.y)(v),{isLargeViewport:n}=(0,b.T1)(),{toggleModal:c}=(0,f.d)(l.nK.feedback);return(0,i.tZ)("div",null,(0,i.tZ)("div",{css:[r.feedback,"search_results_page"===t&&r.feedbackOnSearchResults,"",""]},(0,i.tZ)(s.Text,{variant:"body_2"},(0,i.tZ)(o.Trans,{tag:"att_lf_give_feedback_web_experience_banner"})),(0,i.tZ)(s.Link,{attributes:{"data-testid":"feedback-link"},onClick:()=>{c(!0)}},(0,i.tZ)(o.Trans,{tag:"attractions_lf_pp_suggestions_new_version_cta"}))),(0,i.tZ)(l.HS,{position:{s:"fullScreen",l:"center"},name:l.nK.feedback,size:n?375:void 0},(0,i.tZ)(p,{page:t,productId:a,onClose:()=>c(!1)})))},v=e=>(0,g.k)({feedback:{display:"flex",flexDirection:"column",borderRadius:e.units.border_radius_200,border:`1px solid ${e.colors.color_border_alt}`,padding:e.units.spacing_4x,gap:e.units.spacing_2x,background:e.colors.color_white},feedbackOnSearchResults:{[m.wh]:{borderLeft:"none",borderRight:"none",borderRadius:0}}})},"9f372f9b":(e,t,a)=>{"use strict";a.d(t,{I:()=>f,s:()=>h});var i=a("ead71eb0"),r=a.n(i),n=a("6222292b"),s=a("c44dcb0c"),o=a("b4083f42");const l=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50px"},i.createElement("path",{d:"M6.5 12A3.25 3.25 0 1 1 0 12a3.25 3.25 0 0 1 6.5 0m8.75 0a3.25 3.25 0 1 1-6.5 0 3.25 3.25 0 0 1 6.5 0M24 12a3.25 3.25 0 1 1-6.5 0 3.25 3.25 0 0 1 6.5 0"}))};var c=a("7b5b6285"),d=a("0f50eb74"),u=a("5a887cbf"),_=a("45ccbd8e");const p=e=>{const{group:t,onCardClick:a}=e,{buildUrl:r,pushRoute:p}=(0,c.Z)(),m=(0,_.y)(g),{translate:f}=(0,s.useTranslations)(),b=(0,d.K)(),h=(0,i.useMemo)((()=>t.products.slice(0,4).map((e=>{var t;return(0,u.tg)(null===(t=e.primaryPhoto)||void 0===t?void 0:t.small,"landscapeSmall")})).filter(Boolean)),[t]),v=(0,i.useMemo)((()=>({toPage:"searchresults",addQuery:{date:b.startDate,start_date:b.startDate,end_date:b.endDate,source:"thematic-group-carousel-product-card",theme:t.key},useUniversalSearchResultsRoute:!0})),[b,t]);return(0,o.tZ)(n.Actionable,{css:m.container,href:r(v),onClick:e=>{e.preventDefault(),p(v),a&&a()}},(0,o.tZ)("div",{css:m.gallery},h.map(((e,t)=>(0,o.tZ)("div",{css:m.image,key:e},(0,o.tZ)("img",{src:e,alt:"",loading:"lazy"}),3===t&&(0,o.tZ)("div",{css:m.imageOverlay},(0,o.tZ)(n.Icon,{color:"white",size:"large",svg:l})))))),(0,o.tZ)("div",{css:m.description},(0,o.tZ)(n.Text,{color:"neutral",variant:"strong_1"},t.name),(0,o.tZ)(n.Text,{color:"neutral_alt",variant:"body_2"},f("att_open_lp_subheader_ttd_per_type",{num_exception:t.productCount,variables:{num:t.productCount}}))))},g=e=>(0,_.k)({container:{background:e.colors.color_white,borderRadius:e.units.border_radius_200,boxShadow:e.shadows.shadow_100,cursor:"pointer",display:"block",height:"100%",overflow:"hidden"},description:{padding:e.units.spacing_4x},gallery:{display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"100px 100px",gap:e.units.spacing_half,height:200},image:{position:"relative","& img":{backgroundColor:e.colors.color_background_alt,display:"block",height:"100%",objectFit:"cover",width:"100%"}},imageOverlay:{background:e.colors.color_black_with_alpha,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:0,left:0,right:0,bottom:0}});var m=a("9f694d85");const f=e=>{const{onCardClick:t,onScroll:a,thematicGroups:i,size:o}=e,{translate:l}=(0,s.useTranslations)(),{isLargeViewport:c}=(0,m.T1)(),d=Object.values(i);return d.length?r().createElement(n.Carousel,{previousButtonAriaLabel:l("a11y_aria_label_carousel_previous"),nextButtonAriaLabel:l("a11y_aria_label_carousel_next_previous"),onAfterNavigate:a,size:c?o:void 0},d.map((e=>r().createElement(p,{group:e,key:e.key,onCardClick:t})))):null};var b=a("74ac0209");const h=e=>{const{size:t}=e,a=(0,_.y)(v),i="medium"===t?4:3;return(0,o.tZ)("div",{css:a.cards},[...Array(i).keys()].map((e=>(0,o.tZ)(n.SkeletonLoader,{css:a.card,key:e}))))},v=e=>(0,_.k)({cards:{display:"flex",gap:e.units.spacing_3x,margin:`0 -${e.units.spacing_4x}`,overflow:"hidden",padding:`0 ${e.units.spacing_4x}`,[b.FU]:{gap:e.units.spacing_4x,margin:0,padding:0}},card:{display:"flex",flexShrink:0,height:276,opacity:.5,position:"relative",width:302,"> span":{borderRadius:e.units.border_radius_200,height:"100%",width:"100%"},[b.FU]:{flexBasis:"100%",flexShrink:"inherit",width:"inherit"}}})},d73cc5ab:(e,t,a)=>{"use strict";a.d(t,{e:()=>h,y:()=>b});var i=a("ead71eb0"),r=a.n(i),n=a("bc8a77a1"),s=a("6222292b"),o=a("c44dcb0c"),l=a("b4083f42");const c=(0,a("a780108c").L)("/static/img/bwallet/icon/v2/wallet_ready_2x.png");var d=a("45ccbd8e");const u=e=>(0,d.k)({content:{display:"flex"},icon:{width:36,height:36},description:{marginLeft:e.units.spacing_4x},subtitle:{marginTop:e.units.spacing_1x}}),_=e=>{let{title:t,subtitle:a,onClose:r=()=>{}}=e;const{translate:n}=(0,o.useTranslations)(),_=(0,d.y)(u),[p,g]=(0,i.useState)(!0);return p?(0,l.tZ)(s.Banner,{closeAriaLabel:n("a11y_att_sr_close_cta"),onClose:()=>{null===r||void 0===r||r(),g(!1)}},(0,l.tZ)("div",{css:_.content},(0,l.tZ)("div",null,(0,l.tZ)("img",{src:c,alt:"",css:_.icon})),(0,l.tZ)("div",{css:_.description},(0,l.tZ)("div",null,t),(0,l.tZ)("div",{css:_.subtitle},a)))):null};const p=e=>{let{amount:t}=e;const a=r().createElement(s.Text,{variant:"strong_1",color:"neutral"},r().createElement(o.Trans,{tag:"walletex_infunnel_attractions_hp_head",variables:{amount_withcur:(i=t,i.replace(/\\u[\dA-F]{4}/gi,(function(e){return String.fromCharCode(parseInt(e.replace(/\\u/g,""),16))}))),start_style:"<0>",end_style:"</0>"},components:[r().createElement(s.Text,{tagName:"span",variant:"strong_1",color:"constructive"})]}));var i;const n=r().createElement(s.Text,{variant:"small_1",color:"neutral"},r().createElement(o.Trans,{tag:"walletex_infunnel_attractions_hp_body"}));return r().createElement(_,{title:a,subtitle:n})},g=e=>{let{amount:t}=e;const[a,r]=(0,i.useState)(!0);if(!a)return null;const n=(0,l.tZ)(s.Text,{variant:"strong_1",color:"neutral"},(0,l.tZ)(o.Trans,{tag:"walletex_infunnel_attractions_sr_head",variables:{amount_attractiononly_withcur:t,start_style:"<0>",end_style:"</0>"},components:[(0,l.tZ)(s.Text,{tagName:"span",variant:"strong_1",color:"constructive"})]})),c=(0,l.tZ)(s.Text,{variant:"small_1",color:"neutral"},(0,l.tZ)(o.Trans,{tag:"walletex_infunnel_attractions_sr_body"}));return(0,l.tZ)(_,{title:n,subtitle:c,onClose:()=>{r(!1)}})},m=e=>{let{voucherCount:t,voucherValue:a,hasWalletCredits:i,walletCreditsValue:r}=e;const n=(0,d.y)(f);let u=null;t>0&&i?u=(0,l.tZ)(o.Trans,{tag:"walletex_infunnel_attractions_bs2_head_voucherandcredits",variables:{start_style:"<0>",numberof_voucher:t,voucheramount_withcur:a,creditsamount_withcur:r,end_style:"</0>"},num_exception:t,components:[(0,l.tZ)(s.Text,{tagName:"span",variant:"strong_1",color:"constructive"})]}):t>0?u=(0,l.tZ)(o.Trans,{tag:"walletex_infunnel_attractions_bs2_head_vouchersonly",variables:{start_style:"<0>",numberof_voucher:t,voucheramount_withcur:a,end_style:"</0>"},num_exception:t,components:[(0,l.tZ)(s.Text,{tagName:"span",variant:"strong_1",color:"constructive"})]}):i&&(u=(0,l.tZ)(o.Trans,{tag:"walletex_infunnel_attractions_bs2_head_creditsonly",variables:{start_style:"<0>",creditsamount_withcur:r,end_style:"</0>"},components:[(0,l.tZ)(s.Text,{tagName:"span",variant:"strong_1",color:"constructive"})]}));const _=(0,l.tZ)(s.Text,{variant:"small_1",color:"neutral"},(0,l.tZ)(o.Trans,{tag:"walletex_infunnel_attractions_bs2_body",num_exception:t}));return(0,l.tZ)("div",{css:n.wrapper},(0,l.tZ)("img",{src:c,alt:"",css:n.icon}),(0,l.tZ)("div",{css:n.description},(0,l.tZ)("div",null,u),(0,l.tZ)("div",{css:n.subtitle},_)))},f=e=>(0,d.k)({wrapper:{padding:`${e.units.spacing_4x} ${e.units.spacing_4x}`,display:"flex"},icon:{width:36,height:36},description:{marginLeft:e.units.spacing_4x},subtitle:{marginTop:e.units.spacing_1x}});let b=function(e){return e[e.CityPage=0]="CityPage",e[e.SearchPage=1]="SearchPage",e[e.TicketBox=2]="TicketBox",e}({});const h=e=>{let{type:t}=e;const{walletData:a}=(0,n.b)();if(!a||!a.wallet.totalBalance.isPresent)return null;const i=a.wallet.totalBalance.amount,s=a.verticals.attractions.totalBalance.amount,o=a.verticals.attractions.vouchers,l=a.wallet.credits;return t===b.CityPage?r().createElement(p,{amount:i.converted}):t===b.SearchPage?r().createElement(r().Fragment,null,r().createElement(g,{amount:s.converted})):t===b.TicketBox?r().createElement(m,{voucherCount:o.count||0,voucherValue:o.amount.original,walletCreditsValue:l.amount.original,hasWalletCredits:!!l.isPresent}):null}},"2570d7fe":(e,t,a)=>{"use strict";a.d(t,{w:()=>u});var i=a("b4083f42"),r=a("41c6c66e"),n=a("ead71eb0"),s=a("ff4048bc"),o=a("eb3dacc7"),l=a("7b5b6285"),c=a("9f694d85");const d=".web-shell-header-mfe",u=()=>{const{location:e}=(0,l.Z)(),t=(0,s.s)(e.pathname),a=(0,o.O)(),{isLargeViewport:u}=(0,c.T1)(),_="attraction"===t,p="book"===t||"pay"===t,g="searchresults"===t,m=p||g||_?"[data-testid='header-xpb']":d,f=(0,n.useMemo)((()=>!u&&(_||p||g)),[_,p,u,g]);return(0,n.useEffect)((()=>{if(a)return;const e=document.querySelector(d);e?e.dispatchEvent(new Event("shell__navigate")):(0,r.reportWarning)("Header MFE selector not found by WebShellHeaderMfeController")}),[a,e.pathname,e.search]),f?(0,i.tZ)(i.xB,{styles:(0,i.iv)(m,"{display:none;}","")}):null}},bc8a77a1:(e,t,a)=>{"use strict";a.d(t,{b:()=>n});var i=a("699a7cc2"),r=a("555efd6b");const n=()=>{var e;const{data:t,error:a,loading:n}=(0,i.M4J)({skip:!(0,r.P)(),ssr:!1,variables:{input:{includeRewardsData:!1,includeWalletData:!0}}});return{walletData:"RewardsWalletSummary"===(null===t||void 0===t||null===(e=t.rewardswallet)||void 0===e||null===(e=e.rewardsWalletSummary)||void 0===e?void 0:e.__typename)?t.rewardswallet.rewardsWalletSummary:null,error:a,loading:n}}},"3ec397bd":(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var i=a("ead71eb0"),r=a("31a0dded"),n=a("699a7cc2"),s=a("555efd6b");function o(e){const t=(0,r.h)(),{data:a}=(0,n.IiK)({variables:{...t},skip:!(0,s.P)(),ssr:null===e||void 0===e?void 0:e.ssr});return(0,i.useMemo)((()=>{var e;return{hasGeniusDiscounts:"AttractionsUserBenefits"===(null===a||void 0===a||null===(e=a.attractionsProduct.getUserBenefits)||void 0===e?void 0:e.__typename)&&a.attractionsProduct.getUserBenefits.hasGeniusDiscounts}}),[a])}},"5705b365":(e,t,a)=>{"use strict";a.d(t,{j:()=>i});a("abab1afe");function i(){}},"2eab257c":(e,t,a)=>{"use strict";a.d(t,{U:()=>i});const i=e=>Date.now()-e<36e5},"48063a67":(e,t,a)=>{"use strict";a.d(t,{$8:()=>_,I6:()=>d,Kq:()=>l,LU:()=>c,UK:()=>u,s2:()=>p});var i=a("28dbd132"),r=a("bcec923a"),n=a("a0585de1"),s=a("45733827");const o=i.exp`HWAFYYOLbHJaALDAbBKe`,l=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(0,i.trackExperimentStage)(o,1),(0,i.trackExperimentStage)(o,e)},c=e=>{(0,i.trackCustomGoal)(o,e)},d=e=>{g(e,r.wf,2)&&l(2)},u=e=>{const t=(0,n.V0)("start_date",e.search),a=(0,n.V0)("end_date",e.search),i=t?(0,s.p7)(t):null,o=a?(0,s.p7)(a):null;return(0,r.a8)(i,o)},_=e=>{g(e,r.wf+1,1)&&l(4)},p=e=>{e&&(0,r.a8)(new Date(e))&&c(3)},g=(e,t,a)=>{const i=new Date,r=new Date(i);r.setDate(i.getDate()+t);const n=new Date(e);return n.setMonth(e.getMonth()+a),n.setDate(0),r<=n}},"59dbcdb2":(e,t,a)=>{"use strict";a.d(t,{Gc:()=>l,Xm:()=>c,ly:()=>u,uA:()=>d});var i=a("08af926e"),r=a("abab1afe"),n=a("ead71eb0"),s=a("c44dcb0c"),o=a("45733827");function l(e){const{filterOptions:t,availabilityFilterOptions:a=[]}=e,r=(0,s.useI18n)();return(0,n.useMemo)((()=>{var e,n,s,o,l,c,d,u;const p=(null===t||void 0===t||null===(e=t.typeFilters)||void 0===e?void 0:e.slice())||[],g=(null===t||void 0===t||null===(n=t.priceFilters)||void 0===n?void 0:n.slice())||[],m=((null===t||void 0===t||null===(s=t.labelFilters)||void 0===s?void 0:s.slice())||[]).map((e=>{let t="";return e.tagname&&e.tagname in _&&(t=r.trans(_[e.tagname])),{...e,...t&&{name:t}}})).filter((e=>e.tagname&&i.ed.includes(e.tagname))),f=(null===t||void 0===t||null===(o=t.destinationFilters)||void 0===o?void 0:o.slice())||[],b=(null===t||void 0===t||null===(l=t.ufiFilters)||void 0===l?void 0:l.slice())||[],h=(null===t||void 0===t||null===(c=t.supportedLanguageFilters)||void 0===c?void 0:c.slice())||[],v=(null===t||void 0===t||null===(d=t.minRatingFilter)||void 0===d?void 0:d.slice())||[],y=(null===t||void 0===t||null===(u=t.timeOfDayFilters)||void 0===u?void 0:u.slice())||[],x=p.flatMap((e=>e.childFilterOptions??[]));return{filter_by:p.filter((e=>!(0,i.w2)(e.tagname))),filter_by_landing_category:p.filter((e=>(0,i.w2)(e.tagname))),filter_by_availability:a,filter_by_subcategory:x,filter_by_price:g,filter_by_label:m,filter_by_ufi:b,filter_by_destination:f,filter_by_language:h,filter_by_min_rating:v,filter_by_time_of_day:y}}),[a,t,r])}function c(e,t){let a;for(a in e)e[a].sort(((e,i)=>t[a].findIndex((t=>t.tagname===e.tagname))-t[a].findIndex((e=>e.tagname===i.tagname))));return e}function d(e){const t=new Date,a=new Date(t);a.setDate(t.getDate()+1);const i=[];for(const r of e)"available_today"===r?i.push((0,o.PQ)(t)):"available_tomorrow"===r&&i.push((0,o.PQ)(a));return i.length?(i.sort(),{filterByStartDate:i[0],filterByEndDate:i.length>1?i[1]:i[0]}):{filterByStartDate:void 0,filterByEndDate:void 0}}const u=Object.freeze({filter_by:[],filter_by_availability:[],filter_by_destination:[],filter_by_label:[],filter_by_language:[],filter_by_min_rating:[],filter_by_price:[],filter_by_subcategory:[],filter_by_time_of_day:[],filter_by_ufi:[],filter_by_landing_category:[]}),_=Object.freeze({free_cancellation:(0,r.t)("att_sr_filters_free_cancellation")})},e357ae41:(e,t,a)=>{"use strict";a.d(t,{L:()=>i,j:()=>r});const i=(e,t)=>{const a=[];return null===e||void 0===e||e.forEach((e=>{let{flag:i,value:r,rank:n}=e;r&&(!t||t&&n<=t)&&a.push({flag:i,rank:n})})),a},r=(e,t)=>{let a;return null===t||void 0===t||t.forEach((t=>{let{flag:i,rank:r}=t;i===e&&(a=r)})),a}},"07b5b090":(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a("dc6d28ff");const r=()=>{var e;const t=null===(e=(0,i.getRequestContext)().getBasePageUrl())||void 0===e?void 0:e.origin;return t?`${t}/`:"/"}},"421f0856":(e,t,a)=>{"use strict";a.d(t,{T:()=>i});const i=(e,t)=>!(null===e||void 0===e||!e.some((e=>"skip_the_line"===e.type)))||!(null===e||void 0===e||!e.some((e=>"itinerary_skip_the_line"===e.type)))||!(null===t||void 0===t||!t.skipTheLine)},"5a887cbf":(e,t,a)=>{"use strict";a.d(t,{Lz:()=>i.L,Uo:()=>r.Uo,tg:()=>r.tg});var i=a("a780108c"),r=a("34b1c2b7")},a780108c:(e,t,a)=>{"use strict";a.d(t,{L:()=>n});const i="https://q-xx.bstatic.com/",r="https://r-xx.bstatic.com/",n=e=>e.startsWith(i)||e.startsWith(r)?e:(e.startsWith("/")&&(e=e.slice(1)),i+e)},"34b1c2b7":(e,t,a)=>{"use strict";a.d(t,{Uo:()=>r,tg:()=>n});const i={cardHero:"533x300",gallery:"max1200",hereProductPageDesktop:"1200x400",hereProductPageMobile:"800x800",landscape:"1200x400",landscapeSmall:"300x200",portrait:"640x640",small:"320x320",autocomplete:"80x80",searchResultsCarousel:"380x580",searchResultsHeader:"780x360"},r=(e,t)=>{const a=(null===e||void 0===e?void 0:e.small)||(null===e||void 0===e?void 0:e.hereProductPageMobile);return a?n(a||"",t):""},n=function(){let e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/(square100|max1200|[a-z0-9]{3,}x[0-9]{3,}|\<SIZE\>)/g,i[e])}},"8bd0b664":(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});const i=e=>!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},"3bf86382":(e,t,a)=>{"use strict";a.d(t,{S:()=>i});const i=e=>e&&e.publicAmount&&e.publicAmount!==e.chargeAmount},"5f819e09":(e,t,a)=>{"use strict";a.d(t,{T:()=>r,k:()=>i});const i=["ar","bg","ca","cs","da","de","el","en-gb","en-us","es-ar","es","et","fi","fr","he","hr","hu","id","is","it","ja","ko","lt","lv","ms","nl","no","pl","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tl","tr","uk","vi","zh-cn","zh-tw"],r=e=>({ar:"sa",ca:"catalonia",cs:"cz",da:"dk",el:"gr",en:"gb","en-gb":"gb","en-us":"us",xu:"us","ex-mx":"es","es-ar":"ar",xa:"ar",et:"ee","fr-ca":"fr",he:"il",hi:"in",ja:"jp",ka:"ge",ko:"kr",ms:"my",tl:"ph","pt-br":"br",xb:"br","pt-pt":"pt",sl:"si",sr:"rs",sv:"se",uk:"ua",vi:"vn",zh:"cn","zh-cn":"cn","zh-tw":"z4",xt:"z4"}[e]||e)},"9cdf582f":(e,t,a)=>{"use strict";a.d(t,{F:()=>r});var i=a("239beb17");const r={isBlackFridayCampaignRunning:()=>(0,i.isFeatureRunning)(i.feature`HWAFYZfFIfTLKGfIOeMBUUHSUeKe`)}},"2d521027":(e,t,a)=>{"use strict";a.d(t,{yW:()=>m,Ft:()=>b,RR:()=>h,T4:()=>v,c0:()=>y,dp:()=>Z,Ot:()=>T,c3:()=>w,iV:()=>f,Kd:()=>k,FW:()=>S});var i=a("195084cf"),r=a("95d50251");const n=new Map([["AFN",2],["ALL",2],["AED",2],["COP",0],["HUF",0],["IDR",0],["IRR",2],["MMK",2],["MRO",2],["RSD",2],["RUB",0],["STD",2],["TWD",0],["ZMK",2]]),s=new Map([["bg","."],["es",","],["es-mx","."],["hu","."]]),o=new Map([["bg","\xa0"],["et","\xa0"],["es","."],["es-ar","."],["es-mx",","],["fr","\xa0"],["hi",","],["ka","\xa0"],["lv","\xa0"],["pl","\xa0"],["pt-br","."],["pt-pt","\xa0"]]),l=new Map([["CNY-zh-cn",""],["GBP",""],["KRW-ko",""],["JPY",""],["USD",""]]),c=new Map([["ARS","AR$"],["BRL","R$"],["CLP","CL$"],["CNY-zh-cn","\u5143"],["CZK","K\u010d"],["GBP","\xa3"],["EUR","\u20ac"],["HKD","HK$"],["IDR","Rp"],["ILS","\u20aa"],["ISK-is","kr."],["INR","Rs."],["JPY","\xa5"],["JPY-ja","\uffe5"],["KRW-ko","\u20a9"],["KWD-ar","\u062f.\u0643."],["PHP","\u20b1"],["PLN","z\u0142"],["RUB-ru","\u0440\u0443\u0431."],["RON","lei"],["SGD","S$"],["USD","US$"],["TRY","TL"],["XPF","CFP"]]),d=new Map([["CNY-zh-cn","after"],["CZK","after"],["ILS-ar","after"],["ILS-he","after"],["ISK-is","after"],["PLN","after"],["RON","after"],["RUB-ru","after"]]),u=new Map;function _(e,t,a){if(t<0)return`\u2212\u2009${_(e,-t,a)}`;a=a.toLowerCase();const[i]=a.split("-"),r=((e,t,a)=>{const i=Number.isInteger(t)?`${e}__${a}__int`:`${e}__${a}`;if(!u.has(i)){const r={style:"currency",currency:e,currencyDisplay:"code",numberingSystem:"latn",minimumFractionDigits:p(e,t)},n=new Intl.NumberFormat(a,r);u.set(i,n)}return u.get(i)})(e,t,a);let o=r.formatToParts(t);return"he"===i&&"literal"===o[0].type&&o.shift(),o=function(e,t){if(0!==n.get(t))return e;for(let a=e.length-1;a>=0;a--)if("fraction"===e[a].type||"decimal"===e[a].type)e.splice(a,1);else if("integer"===e[a].type)return e;return e}(o,e),o=function(e,t,a){const i=function(e,t){const[a]=e.split("-");if(d.has(`${t}-${e}`))return d.get(`${t}-${e}`);if(d.has(`${t}-${a}`))return d.get(`${t}-${a}`);if(d.has(t))return d.get(t);return"before"}(t,a);if("currency"===e[0].type&&"after"===i){const t=e.shift(),a=e.shift();e.push(a),e.push(t)}else if("currency"===e[e.length-1].type&&"before"===i){const t=e.pop(),a=e.pop();e.unshift(a),e.unshift(t)}return e}(o,a,e),o=function(e,t){const[a]=t.split("-");if(["bg","es","et","hi","ka","lv","pl","pt"].indexOf(a)<0)return e;const i=g(t,"\xa0");let r=[];const n=[];e=e.filter((e=>"group"!==e.type));for(;"integer"!==e[0].type;)n.push(e.shift());for(;e.length>0&&"integer"===e[0].type;)r=r.concat(e[0].value.split("")),e.shift();let s="";for(let o=r.length-1;o>=0;o--)s=r.pop()+s,s.length%3===0&&(e.unshift({type:"integer",value:s}),r.length>0&&e.unshift({type:"group",value:i}),s="");""!==s&&e.unshift({type:"integer",value:s});return e=n.concat(e),e}(o,a),o.map((t=>{let{type:i,value:r}=t;switch(i){case"group":return g(a,r);case"decimal":return function(e,t){const[a]=e.split("-");if(s.has(e))return s.get(e);if(s.has(a))return s.get(a);return t}(a,r);case"currency":return function(e,t){const[a]=e.split("-");if(c.has(`${t}-${e}`))return c.get(`${t}-${e}`);if(c.has(`${t}-${a}`))return c.get(`${t}-${a}`);if(c.has(t))return c.get(t);return t}(a,r);case"literal":return function(e,t,a){const[i]=t.split("-");if(l.has(`${e}-${t}`))return l.get(`${e}-${t}`);if(l.has(`${e}-${i}`))return l.get(`${e}-${i}`);if(l.has(e))return l.get(e);return a}(e,a,r);default:return r}})).reduce(((e,t)=>e+t))}function p(e,t){return Number.isInteger(t)?0:n.get(e)}function g(e,t){const[a]=e.split("-");return o.has(e)?o.get(e):o.has(a)?o.get(a):t}const m=(e,t)=>e.toFixed(2)===t.toFixed(2),f=e=>{const{convertedPrice:t,price:a}=e;return a&&t&&t.currency!==a.currency},b=e=>{if(null!==e&&void 0!==e&&e.chargeAmount&&null!==e&&void 0!==e&&e.publicAmount&&e.chargeAmount!==e.publicAmount){const t=(e.publicAmount-e.chargeAmount)/e.publicAmount;return Math.round(100*t)}return 0},h=e=>{let{price:t,convertedPrice:a,priceType:i="chargeAmount"}=e;if(!t||!t.currency)return"";a&&f({price:t,convertedPrice:a})&&(t=a);const r=void 0!==typeof t[i]?t[i]:null;return"number"===typeof r?v(r,t.currency):""},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(a||(a=(0,i.G)()),n&&e>=.5&&(e=Math.round(e)),!t)return(0,r.ye)(`no currencyCode! ${JSON.stringify({amount:e,currencyCode:t,language:a})}`),"";try{return _(t,e,a)}catch(s){}try{return new Intl.NumberFormat(a,{style:"currency",currency:t}).format(e)}catch(s){return`${t} ${e}`.trim()}},y=e=>{try{return new Intl.DisplayNames((0,i.G)(),{type:"currency"}).of(e)||e}catch(t){return e}},x=e=>"genius"===e.discountCampaign,k=e=>{var t;return!(null===e||void 0===e||null===(t=e.discounts)||void 0===t||!t.some(x))},C=e=>"blackFriday"===e.discountCampaign,w=e=>{var t;return!(null===e||void 0===e||null===(t=e.discounts)||void 0===t||!t.some(C))},Z=(e,t)=>{if(null===e||void 0===e||!e.publicAmount||null===e||void 0===e||!e.chargeAmount||(null===e||void 0===e?void 0:e.publicAmount)<=(null===e||void 0===e?void 0:e.chargeAmount))return{};const{currency:a,discounts:i}=t&&f({price:e,convertedPrice:t})?t:e;if(!i)return{};let r=0,n=0,s=0;for(const{chargeAmountDifference:o,discountProvider:l}of i)if(o)switch(l){case"booking":r+=o;break;case"supplier":n+=o;break;default:s+=o}return{...r?{booking:v(-r,a)}:{},...n?{supplier:v(-n,a)}:{},...s?{other:v(-s,a)}:{}}},S=(e,t)=>{var a;const i={...e};return null!=e.chargeAmount&&(i.chargeAmount=e.chargeAmount*t),null!=e.publicAmount&&(i.publicAmount=e.publicAmount*t),i.discounts=null===(a=e.discounts)||void 0===a?void 0:a.map((e=>null==e.chargeAmountDifference?e:{...e,chargeAmountDifference:e.chargeAmountDifference*t})),i},T=(e,t)=>{const a=(e,t)=>({...e,chargeAmount:((null===e||void 0===e?void 0:e.chargeAmount)||0)/t,publicAmount:((null===e||void 0===e?void 0:e.publicAmount)||0)/t});return{price:e.price&&a(e.price,e.quantity),convertedPrice:e.convertedPrice&&a(e.convertedPrice,e.quantity),priceType:t}}},d030d584:(e,t,a)=>{"use strict";a.d(t,{CI:()=>c,YP:()=>l});var i=a("c44dcb0c"),r=a("ead71eb0"),n=a.n(r);let s=function(e){return e.GOOD="GOOD",e.VERY_GOOD="VERY_GOOD",e.WONDERFUL="WONDERFUL",e.EXCEPTIONAL="EXCEPTIONAL",e}({}),o=function(e){return e[e.GOOD=3.5]="GOOD",e[e.VERY_GOOD=4]="VERY_GOOD",e[e.WONDERFUL=4.4]="WONDERFUL",e[e.EXCEPTIONAL=4.7]="EXCEPTIONAL",e}({});const l=e=>e?{[s.GOOD]:n().createElement(i.Trans,{tag:"attractions_product_review_score_adjectives_good"}),[s.VERY_GOOD]:n().createElement(i.Trans,{tag:"attractions_product_review_score_adjectives_very_good"}),[s.WONDERFUL]:n().createElement(i.Trans,{tag:"attractions_product_review_score_adjectives_wonderful"}),[s.EXCEPTIONAL]:n().createElement(i.Trans,{tag:"attractions_product_review_score_adjectives_exceptional"})}[e]:null,c=e=>!e||e<o.GOOD?null:e>=o.EXCEPTIONAL?s.EXCEPTIONAL:e>=o.WONDERFUL?s.WONDERFUL:e>=o.VERY_GOOD?s.VERY_GOOD:s.GOOD},"50dfd774":(e,t,a)=>{"use strict";a.d(t,{vm:()=>u,nF:()=>s,jd:()=>n,hg:()=>_,XE:()=>p});var i=a("195084cf");const r=(e,t)=>new Intl.NumberFormat(e,{maximumSignificantDigits:2}).format(t),n=(e,t)=>{if(e)return t||(t=(0,i.G)()),{...e,average:r(t,e.average)}},s=e=>{var t;return!(null===e||void 0===e||null===(t=e.combinedNumericStats)||void 0===t||!t.total)};var o=a("95d50251"),l=a("a193178f"),c=a("239beb17"),d=a("f5e79353");let u=function(e){return e.REVIEW_ID="review_id",e.RESERVATION_ID="reservation_id",e.REVIEW_URL_CODE="review_url_code",e}({});const _=e=>"PhotoLoading"===e.__type||"PhotoUploaded"===e.__type,p=async(e,t,a)=>{try{const i=(0,c.isFeatureRunning)(c.feature`HWAFNLETcNQUcOdHVRReKe`)?await l.Z.put(e,t,{headers:{"Content-Type":t.type}}):await(0,d.ZP)(e,{method:"PUT",headers:{"Content-Type":t.type},body:t});return 200!==i.status&&(a.event("upload_photo_aws_error_status"),(0,o.ye)(`Review form [photo upload]: upload not successful \n \n                Pre-signed URL: <${null===e||void 0===e?void 0:e.split("?")[0]}> \n\n                File: {type: ${t.type}, size: ${t.size}}`,"ATTR_REVIEW_SUBMISSION_PHOTO_UPLOAD_FAILURE")),200===i.status}catch(i){return a.event("upload_photo_aws_failed"),(0,o.ye)(`Review form [photo upload]: upload failed \n \n            Pre-signed URL: <${null===e||void 0===e?void 0:e.split("?")[0]}> \n\n            File: {type: ${t.type}, size: ${t.size}} \n\n            Error: ${JSON.stringify(i)}`,"ATTR_REVIEW_SUBMISSION_PHOTO_UPLOAD_FAILURE"),!1}}},"098c315b":(e,t,a)=>{"use strict";a.d(t,{L:()=>g,y:()=>p});var i=a("ead71eb0"),r=a.n(i),n=a("ebca7d7d"),s=a("dc6d28ff"),o=a("bee5ee65"),l=a("2fe2e183"),c=a("5f819e09"),d=a("d072cd86"),u=a("07b5b090"),_=a("9d319b25");const p=e=>{const t=(0,s.getRequestContext)(),{upcomingAccommodations:a}=(0,o.Q)(),{ufi:i}=(0,l.Z)(),c=e.urlParts||(0,d.Z)({ufi:i,upcomingAccommodation:null===a||void 0===a?void 0:a[0]}),p=(0,u.Z)(),g=t.getLanguage(),m=(0,_._L)(e.view,p,c,e.slug,g);return r().createElement(n.Helmet,null,r().createElement("link",{rel:"canonical",href:m}))},g=e=>{const{upcomingAccommodations:t}=(0,o.Q)(),{ufi:a}=(0,l.Z)(),i=(0,u.Z)(),s=e.urlParts||(0,d.Z)({ufi:a,upcomingAccommodation:null===t||void 0===t?void 0:t[0]});return r().createElement(n.Helmet,null,c.k.map((t=>r().createElement("link",{rel:"alternate",href:(0,_._L)(e.view,i,s,e.slug,t),hrefLang:t,key:t}))))}},"838b1efe":(e,t,a)=>{"use strict";a.d(t,{J:()=>n});a("28dbd132");var i=a("195084cf");const r=["ar","pl","cs","tr","he","ro","sk","hu","hr","fi","el","th"],n=e=>{var t;if(!e)return!1;const a=(0,i.G)();return Boolean((null===(t=e.poweredBy)||void 0===t?void 0:t.includes("Viator"))&&r.includes(a))}},bc6dc0c1:(e,t,a)=>{"use strict";a.d(t,{Pr:()=>s});var i=a("ead71eb0"),r=a("dc6d28ff"),n=a("274ec0ed");const s=()=>{const e=(0,r.getRequestContext)().getLanguage(),[t,a]=(0,n._)("attr-destination-searches",[]);return{recentDestinationSearches:(0,i.useMemo)((()=>t.filter((t=>t.locale&&t.locale===e&&t.timestamp&&o(t.timestamp)<=30)).slice(0,3)),[e,t]),updateRecentDestinationSearchesStorage:(0,i.useCallback)((e=>{const i=t.findIndex((t=>e.scope_slug||t.scope_slug?t.scope_slug===e.scope_slug||!1:t.ufi===e.ufi));i>-1?t.splice(i,1):3===t.length&&t.pop(),t.unshift({...e,timestamp:(new Date).getTime()}),a([...t])}),[])}},o=e=>{const t=new Date(e).setHours(0,0,0,0),a=(new Date).setHours(0,0,0,0);return Math.ceil((a-t)/864e5)}},"55c39dbb":(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var i=a("ead71eb0"),r=a("274ec0ed");const n=()=>{const[e,t]=(0,r._)("attr-recently-viewed",[]);return{recentlyViewed:(0,i.useMemo)((()=>e.slice(0,8)),[e]),updateRecentlyViewedStorage:a=>{const i=e.findIndex((e=>e.ext_id===a.ext_id));0!==i&&(i>-1?e.splice(i,1):8===e.length&&e.pop(),e.unshift(a),t([...e]))}}}},c5033761:(e,t,a)=>{"use strict";a.d(t,{M:()=>r});var i=a("274ec0ed");const r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(0,i._)("start_date_applied_time",e)}},"9d6d33aa":(e,t,a)=>{"use strict";a.d(t,{q:()=>u});var i=a("ead71eb0"),r=a("afed36fd"),n=a("dc6d28ff"),s=a("43a4d203"),o=a("28dbd132"),l=a("ff4048bc"),c=a("7b5b6285"),d=a("eb3dacc7");const u=()=>{const e=(0,n.getRequestContext)().getSiteType(),{location:t}=(0,c.Z)(),a=(0,l.s)(t.pathname),u=(0,d.O)(),_={index:2,city:3,searchresults:4,attraction:5,book:6,pay:7,ticket:8,review:9},p=(e,t)=>{const a=(e=>"attr_aa_webview"===e?o.exp`HWAFYHIYTdELT`:"attr_aa_mobile"===e?o.exp`HWAFYHIEJKaEHT`:o.exp`HWAFYHIEUXPNMWe`)(e);0===t?(0,o.trackExperiment)(a):(0,o.trackExperimentStage)(a,t)};(0,i.useEffect)((()=>{p("attr_aa_desktop",0),p("attr_aa_mobile",0),p("attr_aa_webview",0)}),[]),(0,i.useEffect)((()=>{const t=u?"attr_aa_webview":e===s.SiteType.MDOT?"attr_aa_mobile":"attr_aa_desktop",i=a&&_[a];i&&(p(t,1),p(t,i))}),[a]),(0,i.useEffect)((()=>{if("undefined"===typeof window||!window.innerWidth)return;(0,o.trackExperimentStage)(o.exp`HWAFYFGeNBLScEXO`,1);const t=window.innerWidth,a=e===s.SiteType.MDOT,i=e===s.SiteType.WWW,n=t<r.MEDIUM_SCREEN,l=t>=r.LARGE_SCREEN;u&&(0,o.trackCustomGoal)(o.exp`HWAFYFGeNBLScEXO`,1),i&&(0,o.trackCustomGoal)(o.exp`HWAFYFGeNBLScEXO`,2),a&&(0,o.trackCustomGoal)(o.exp`HWAFYFGeNBLScEXO`,3),(i&&!l||!i&&l)&&(0,o.trackCustomGoal)(o.exp`HWAFYFGeNBLScEXO`,4),(a&&!n||!a&&n)&&(0,o.trackCustomGoal)(o.exp`HWAFYFGeNBLScEXO`,5);const c=[400,576,800,1024,1300,1600,1921];for(let e=0;e<c.length;e++)if(t<c[e])return void(0,o.trackExperimentStage)(o.exp`HWAFYFGeNBLScEXO`,e+2);(0,o.trackExperimentStage)(o.exp`HWAFYFGeNBLScEXO`,9)}),[u,e])}},"6b834d40":(e,t,a)=>{"use strict";a.d(t,{L:()=>d});var i=a("ead71eb0"),r=a("43a4d203"),n=a("dc6d28ff"),s=a("28dbd132"),o=a("9f694d85"),l=a("74ac0209"),c=a("555efd6b");const d=e=>{const t=(0,n.getRequestContext)().getSiteType(),a=(0,c.P)(),{width:d}=(0,o.T1)();(0,i.useEffect)((()=>{if(!d)return;const i=d<l.pN;(0,s.trackExperimentStage)(s.exp`BKATYFVfEQIJceMXWbWOOFFAOeVKGcESeHT`,1),t===r.SiteType.WWW&&((0,s.trackExperimentStage)(s.exp`BKATYFVfEQIJceMXWbWOOFFAOeVKGcESeHT`,2),i&&((0,s.trackExperimentStage)(s.exp`BKATYFVfEQIJceMXWbWOOFFAOeVKGcESeHT`,3),(0,s.trackExperimentStage)(s.exp`BKATYFVfEQIJceMXWbWOOFFAOeVKGcESeHT`,a?4:5),(0,s.trackExperimentStage)(s.exp`BKATYFVfEQIJceMXWbWOOFFAOeVKGcESeHT`,"searchresults"===e?6:7)))}),[a,e,t,d])}},"92037c29":(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a("c44dcb0c");const r=()=>{const{translate:e}=(0,i.useTranslations)(),t=t=>e("weekday",t,"shortest");return{monday:t("1"),tuesday:t("2"),wednesday:t("3"),thursday:t("4"),friday:t("5"),saturday:t("6"),sunday:t("7")}}},"9d2cb845":(e,t,a)=>{"use strict";a.d(t,{F:()=>r});var i=a("3835fb47");const r=()=>{const{suggestions:{dealsOfTheMonth:e}}=(0,i.f)();return e.map((e=>e.id))}},"8cf3c84b":(e,t,a)=>{"use strict";a.d(t,{N:()=>r});var i=a("ead71eb0");const r=(e,t)=>{const[a,r]=(0,i.useState)(e);return(0,i.useEffect)((()=>{const a=setTimeout((()=>r(e)),t);return()=>clearTimeout(a)}),[e,t]),a}},c65372b5:(e,t,a)=>{"use strict";a.d(t,{fq:()=>w});var i=a("ead71eb0"),r=a("28dbd132"),n=a("a0585de1"),s=a("7b5b6285"),o=a("47fa2ead"),l=a("9f694d85"),c=a("45733827"),d=a("95d50251");const u=["invite","reminder"],_="attractions-search-abandonment",p="trip_reminder_base_email",g={BannerCTA:`${_}_banner_cta`,Product:`${_}_product`,BottomCTA:`${_}_bottom_cta`},m={BookingDetailsCTA:`${p}_booking_detail_cta`,ManageBookingCTA:`${p}_manage_booking_cta`,GetHelpCTA:`${p}_get_help_cta`},f=u.map((e=>`attractions_${e}_emk_header_logo`)),b=["attractions_invite_emk_ufi_category","attractions_reminder_emk_ufi_category"],h=["attractions_invite_emk_ufi_category_cta","attractions_reminder_emk_ufi_category_cta"],v=["attractions_invite_emk_ufi_location","attractions_reminder_emk_ufi_location"],y=u.flatMap((e=>["top_",""].flatMap((t=>["img","name","label","ticket_cta"].flatMap((a=>((e,t,a)=>`attractions_${e}_emk_new_${t}product_${a}`)(e,t,a))))))),x=u.flatMap((e=>["main","products_link","usps_button"].flatMap((t=>`attractions_${e}_emk_new_${t}_cta`)))),k=u.map((e=>`attractions_${e}_emk_ufi_categories_cta`)),C=["attractions_review_emk_star_cta_1","attractions_review_emk_star_cta_2","attractions_review_emk_star_cta_3","attractions_review_emk_star_cta_4","attractions_review_emk_star_cta_5"],w=()=>{const{location:e}=(0,s.Z)(),t=(0,i.useRef)(!1),{isSmallViewport:a}=(0,l.T1)(),w=(0,n.V0)("source2",e.search),Z=(0,n.V0)("source",e.search),S=(0,i.useMemo)((()=>w.includes("invite")?"invite":w.includes("reminder")?"reminder":void 0),[w]),T=f.includes(w),A=x.includes(w),F=y.includes(w),E=C.includes(w),W=b.includes(w),H=h.includes(w),O=v.includes(w),P=k.includes(w),B=(0,i.useCallback)((()=>{if(!S)return;const e=u.indexOf(S);(0,r.trackExperimentStage)(o.Zc`attr_mm_email_invite_reminder_product_position_clicks_aa`,3),(0,r.trackExperimentStage)(o.Zc`attr_mm_email_invite_reminder_product_position_clicks_v2_aa`,3+e),a?((0,r.trackExperimentStage)(o.Zc`attr_mm_email_invite_reminder_product_position_clicks_aa`,4),(0,r.trackExperimentStage)(o.Zc`attr_mm_email_invite_reminder_product_position_clicks_v2_aa`,5+e)):((0,r.trackExperimentStage)(o.Zc`attr_mm_email_invite_reminder_product_position_clicks_aa`,5),(0,r.trackExperimentStage)(o.Zc`attr_mm_email_invite_reminder_product_position_clicks_v2_aa`,7+e))}),[S,a]),I=(0,i.useCallback)((e=>{S&&(a?(0,r.trackExperimentStage)(o.Zc`attr_mm_email_invite_reminder_increase_product_count`,4):(0,r.trackExperimentStage)(o.Zc`attr_mm_email_invite_reminder_increase_product_count`,5),7!==e&&8!==e||(0,r.trackCustomGoal)(o.Zc`attr_mm_email_invite_reminder_increase_product_count`,e-6))}),[S,a]);return(0,i.useEffect)((()=>{if(Z===_&&(w.includes(g.Product)&&(0,r.trackCustomGoal)(o.Zc`attr_mm_email_search_abandonment`,1),w.includes(g.BannerCTA)&&(0,r.trackCustomGoal)(o.Zc`attr_mm_email_search_abandonment`,2),w.includes(g.BottomCTA)&&(0,r.trackCustomGoal)(o.Zc`attr_mm_email_search_abandonment`,3)),Z===p&&(w.includes(m.BookingDetailsCTA)&&(0,r.trackCustomGoal)(o.Zc`attr_mm_email_trip_reminder_launch`,1),w.includes(m.ManageBookingCTA)&&(0,r.trackCustomGoal)(o.Zc`attr_mm_email_trip_reminder_launch`,2),w.includes(m.GetHelpCTA)&&(0,r.trackCustomGoal)(o.Zc`attr_mm_email_trip_reminder_launch`,3)),S&&((0,r.trackCustomGoal)(o.Zc`attr_mm_email_invite_reminder_clicks_goal_aa`,1),(0,r.trackGoal)("attractions_invite_reminder_email_click"),(()=>{const t={1:4,2:4,3:4,4:4,5:4,6:5,7:6,8:7},a=(0,n.V0)("amount_of_products_displayed",e.search);t[a]&&(0,r.trackExperimentStage)(o.Zc`attr_mm_email_invite_reminder_category_counts`,t[a])})()),P&&(0,r.trackGoal)("attractions_email_click_cta"),O&&("invite"===S?(0,r.trackGoal)("invite_location_clicked"):(0,r.trackGoal)("reminder_location_clicked"),(0,r.trackGoal)("invite_reminder_location_clicked")),W){const t={PTTV3t1Fvjp9:0,PTTV3jCHmADM:1,PTTV32SGqJEv:2,PTTV3cuXCgPo:3,PTTV3y2qdlBL:4,PTTV3YDywxmN:5,PTTV3bWrrud5:6}[(0,n.V0)("filter_by",e.search)];void 0!==t&&(0,r.trackGoalWithValue)("js_attractions_email_category",t),"invite"===S?(0,r.trackCustomGoal)(o.Zc`attr_mm_email_invite_reminder_category_counts`,1):(0,r.trackCustomGoal)(o.Zc`attr_mm_email_invite_reminder_category_counts`,2),(0,r.trackCustomGoal)(o.Zc`attr_mm_email_invite_reminder_category_counts`,3)}if(H&&("invite"===S?(0,r.trackCustomGoal)(o.Zc`attr_mm_email_invite_reminder_category_counts`,4):(0,r.trackCustomGoal)(o.Zc`attr_mm_email_invite_reminder_category_counts`,5)),T)switch((0,r.trackGoal)("attractions_email_click_header"),S){case"invite":(0,r.trackGoal)("attractions_email_click_header_invite");break;case"reminder":(0,r.trackGoal)("attractions_email_click_header_reminder")}if(A)switch((0,r.trackGoal)("attractions_email_click_cta"),S){case"invite":(0,r.trackGoal)("attractions_email_click_cta_invite");break;case"reminder":(0,r.trackGoal)("attractions_email_click_cta_reminder")}if(F)switch((0,r.trackGoal)("attractions_email_click_product"),S){case"invite":(0,r.trackGoal)("attractions_email_click_product_invite");break;case"reminder":(0,r.trackGoal)("attractions_email_click_product_reminder")}if(E&&(0,r.trackGoal)("attractions_review_email_click_star_ratings_cta"),F){const t=(0,c.PQ)(new Date),a=(0,n.V0)("start_date",e.search),i=(0,c.Ug)(t,a);i<0?(0,r.trackGoalWithValue)(`js_attractions_email_${S}_days_after_checkin`,Math.abs(i)):(0,r.trackGoalWithValue)(`js_attractions_email_${S}_days_before_checkin`,i)}if(F){const e=(0,n.l7)(),t=(0,n.ly)();let a=8;e===n.me.DESKTOP?a=3:e===n.me.MOBILE?t===n.eM.ANDROID?a=4:t===n.eM.OS_X?a=5:(0,d.ye)(`[attr_mm_email_invite_reminder_device_type_aa] Unknown osName '${t}' in mobile`,"ATTR_EMAILS_DEVICE_TYPE"):e===n.me.TABLET?t===n.eM.ANDROID?a=6:t===n.eM.OS_X?a=7:(0,d.ye)(`[attr_mm_email_invite_reminder_device_type_aa] Unknown osName '${t}' in tablet`,"ATTR_EMAILS_DEVICE_TYPE"):(0,d.ye)(`[attr_mm_email_invite_reminder_device_type_aa] Unknown deviceType '${e}'`,"ATTR_EMAILS_DEVICE_TYPE"),(0,r.trackExperimentStage)(o.Zc`attr_mm_email_invite_reminder_device_type_aa`,a)}}),[S,T,A,F,E,W,O,P,H,Z,w,e.search]),(0,i.useEffect)((()=>{if(!t.current){t.current=!0;const a=(0,n.V0)("email_position",e.search),i=Number(a);if(F&&i&&Number.isInteger(i)){if(B(),i<7){const e=i>3?i-1:i;(0,r.trackCustomGoal)(o.Zc`attr_mm_email_invite_reminder_product_position_clicks_v2_aa`,e)}(0,r.trackGoalWithValue)("js_attractions_email_product_position_clicks",i),I(i)}}}),[a,F,e.search,B,I]),{sourceMatchesInviteReminderCallToActionLinks:A,sourceMatchesInviteReminderProductLinks:F}}},fffbd3f5:(e,t,a)=>{"use strict";a.d(t,{G:()=>l});var i=a("ead71eb0"),r=a("28dbd132"),n=a("2eab257c"),s=a("274ec0ed"),o=a("7760db43");const l=()=>{const{apass_legacy:e,ga:t}=(0,o.Z)(),a=(0,i.useRef)({filter_by:[],filter_by_availability:[],filter_by_destination:[],filter_by_label:[],filter_by_language:[],filter_by_min_rating:[],filter_by_price:[],filter_by_time_of_day:[],filter_by_ufi:[],filter_by_subcategory:[],filter_by_landing_category:[]}),[l,c]=(0,s._)("filter_applied_time",0),[d,u]=(0,s._)("filter_by_type_time",0),[_,p]=(0,s._)("filter_by_free_cancellation_time",0),[g,m]=(0,s._)("filter_by_deals_time",0),[f,b]=(0,s._)("filter_by_price_time",0),[h,v]=(0,s._)("filter_by_ufi_time",0),[y,x]=(0,s._)("filter_by_subcategory_time",0),k=e=>{const t=e.filter_by_availability,a=e.filter_by,i=e.filter_by_label,r=e.filter_by_ufi,n=e.filter_by_price,s=e.filter_by_destination,o=e.filter_by_language,l=e.filter_by_min_rating,c=e.filter_by_time_of_day,d=e.filter_by_subcategory,u=e.filter_by_landing_category;return a.concat(...t).concat(...s).concat(...i).concat(...r.map((e=>`ufi_${e}`))).concat(...n.map((e=>`price_${e}`))).concat(...o).concat(l).concat(...c).concat(...d).concat(...u)};return{trackFilterInteractions:(0,i.useCallback)((i=>{const n=k(i),s=k(a.current),o=n.filter((e=>-1===s.indexOf(e))),l=s.length>0&&0===n.length;o.length&&(e.event("applied_filter",{selected_filters:n}),t.event("applied_filter",{label:o[0]}),t.event("applied_filters",{label:n.join(",")}),(0,r.trackGoal)("attractions_sp_applied_filter"),c(Date.now())),l&&(e.event("clear_all"),t.event("clear_all"),(0,r.trackGoal)("attractions_sp_clear_all")),i.filter_by.length&&((0,r.trackGoal)("attractions_sp_applied_type_filter"),u(Date.now()),(0,r.trackCustomGoal)(r.exp`HWAFYTacWCcAcJIYINNDdeKe`,1)),i.filter_by_availability.length&&((0,r.trackCustomGoal)(r.exp`HWAFNHUYTaGBMLaUC`,1),i.filter_by_availability.includes("available_today")&&(0,r.trackCustomGoal)(r.exp`HWAFNHUYTaGBMLaUC`,2),i.filter_by_availability.includes("available_tomorrow")&&(0,r.trackCustomGoal)(r.exp`HWAFNHUYTaGBMLaUC`,3)),i.filter_by_price.length&&((0,r.trackGoal)("attractions_sp_applied_price_filter"),b(Date.now())),i.filter_by_label.length&&(i.filter_by_label.includes("free_cancellation")&&((0,r.trackGoal)("attractions_sp_applied_free_cxl_filter"),p(Date.now())),i.filter_by_label.includes("has_discount")&&((0,r.trackGoal)("attractions_sp_applied_deals_filter"),m(Date.now())),i.filter_by_label.includes("skip_the_line")&&(0,r.trackGoal)("attractions_sp_applied_deals_filter")),i.filter_by_ufi.length&&((0,r.trackGoal)("attractions_sp_applied_ufi_filter"),v(Date.now())),i.filter_by_subcategory.length&&(x(Date.now()),(0,r.trackCustomGoal)(r.exp`HWAFYTacWCcAcJIYINNDdeKe`,2))}),[e,t,c,u,b,p,m,v,x]),trackViewedProductWithFiltersGoals:(0,i.useCallback)((()=>{(0,n.U)(l)&&(0,r.trackGoal)("attractions_viewed_product_after_filter"),((0,n.U)(d)||(0,n.U)(y))&&(0,r.trackGoal)("attractions_viewed_product_after_type_filter"),(0,n.U)(f)&&(0,r.trackGoal)("attractions_viewed_product_after_price_filter"),(0,n.U)(_)&&(0,r.trackGoal)("attractions_viewed_product_after_free_cxl_filter"),(0,n.U)(g)&&(0,r.trackGoal)("attractions_viewed_product_after_deals_filter"),(0,n.U)(h)&&(0,r.trackGoal)("attractions_viewed_product_after_ufi_filter")}),[l,d,f,_,g,h,y]),trackBookedWithFiltersGoals:(0,i.useCallback)((()=>{(0,n.U)(l)&&(0,r.trackGoal)("attractions_bp_book_after_filter"),((0,n.U)(d)||(0,n.U)(y))&&(0,r.trackGoal)("attractions_bp_booked_after_type_filter"),(0,n.U)(f)&&(0,r.trackGoal)("attractions_bp_booked_after_price_filter"),(0,n.U)(_)&&(0,r.trackGoal)("attractions_bp_booked_after_free_cxl_filter"),(0,n.U)(g)&&(0,r.trackGoal)("attractions_bp_booked_after_deals_filter"),(0,n.U)(h)&&(0,r.trackGoal)("attractions_bp_booked_after_ufi_filter")}),[l,d,f,_,g,h,y])}}},"293769da":(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var i=a("ead71eb0"),r=a("a0585de1"),n=a("7b5b6285"),s=a("6a4a8474"),o=a("aa08d245");const l=()=>{var e;const{location:t}=(0,n.Z)(),{state:{pinnedProduct:a}}=(0,s.si)(),l=(0,i.useMemo)((()=>!![...(0,r.tg)("filter_by",t.search),...(0,r.tg)("filter_by_price",t.search),...(0,r.tg)("filter_by_label",t.search),...(0,r.tg)("filter_by_ufi",t.search),...(0,r.tg)("filter_by_destination",t.search),...(0,r.tg)("filter_by_language",t.search),...(0,r.tg)("filter_by_min_rating",t.search),...(0,r.tg)("filter_by_time_of_day",t.search),...(0,r.tg)("filter_by_subcategory",t.search)].length),[t.search]),c=!!a,d=!!(0,r.V0)("query",t.search),u=(0,o.w)(),_=l||!!c||!!d||"genius"===(null===(e=u.activeSorter)||void 0===e?void 0:e.value);return{highIntentSearch:_,highIntentSearchWithoutPinnedProduct:_&&!c,searchResultsWithPinnedProduct:c}}},"274ec0ed":(e,t,a)=>{"use strict";a.d(t,{_:()=>r});var i=a("b72889c2");const r=(e,t)=>{const[a,r]=(0,i.B)(e,t,"local");return[a,r]}},"6cdba0e8":(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a("c44dcb0c");const r=()=>{const{translate:e}=(0,i.useTranslations)(),t=t=>e("month",t,"name");return{january:t("1"),february:t("2"),march:t("3"),april:t("4"),may:t("5"),june:t("6"),july:t("7"),august:t("8"),september:t("9"),october:t("10"),november:t("11"),december:t("12")}}},a115020c:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>l});var i=a("ead71eb0"),r=a.n(i),n=a("eb3dacc7");const s=r().createContext({configsStack:[]}),o=e=>{var t,a;const i=document.getElementsByTagName("head")[0],r=[];let n=document.getElementById("photo_header");n||(n=document.createElement("input"),n.setAttribute("type","hidden"),n.id="photo_header",document.getElementsByTagName("body")[0].appendChild(n)),e&&"transparent"===e.header&&"visible"===e.scrim?n.setAttribute("value","1"):e&&n.setAttribute("value","0");for(const o in e){const t="native_app_state_"+o;let a=document.getElementById(t);a&&a.remove();const n="webview:"+o,s=e[o];a=document.createElement("META"),a.id=t,a.setAttribute("property",n),a.setAttribute("content",s),i.appendChild(a);const l={};l[n]=s,r.push(l)}window.MetaObserver&&window.MetaObserver.metaTagsUpdated&&window.MetaObserver.metaTagsUpdated(JSON.stringify(r));const s={method:"updateMetaTags",parameters:e};"function"===typeof(null===(t=window.WebView)||void 0===t?void 0:t.postMessage)&&window.WebView.postMessage(JSON.stringify(s)),"function"===typeof(null===(a=window.webkit)||void 0===a||null===(a=a.messageHandlers)||void 0===a||null===(a=a.webview)||void 0===a?void 0:a.postMessage)&&window.webkit.messageHandlers.webview.postMessage(s)},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const a=(()=>{const e=(0,i.useContext)(s),t=(0,i.useRef)({id:-1});return{acquire:a=>{t.current.id<0&&(t.current.id=e.configsStack.length,e.configsStack.push(a),o(a))},release:()=>{if(t.current.id>=0){e.configsStack.pop(),t.current.id=-1;const a=e.configsStack[e.configsStack.length-1];a&&o(a)}}}})(),r="function"===typeof e?e():e,l=(0,n.O)();(0,i.useEffect)((()=>{if(l)return r&&a.acquire(r),()=>{r&&a.release()}}),[JSON.stringify(r),...t])}},"4f2e7733":(e,t,a)=>{"use strict";a.d(t,{J:()=>c});var i=a("ead71eb0"),r=a("2fe2e183"),n=a("a0585de1"),s=a("3d0586c1"),o=a("7b5b6285"),l=a("7760db43");const c=()=>{const{apass:e,apass_legacy:t,c360:a}=(0,l.Z)(),{ufi:c}=(0,r.Z)(),{location:d}=(0,o.Z)(),u=(0,i.useRef)([]);return{attractionViewed:(i,r,o,l,_,p)=>{const g=u.current.some((e=>e===i.id)),m=i.representativePrice,f=r+1,b=(0,n.V0)("url_code",d.search);if(g)return;u.current.push(i.id),t.event("attraction_card_visible",{ext_id:i.id,position:f,section_name:l,local_currency:null===m||void 0===m?void 0:m.currency,local_amount:(null===m||void 0===m?void 0:m.chargeAmount)||(null===m||void 0===m?void 0:m.publicAmount)});const h={attraction_product:{product_id:i.id,ufi:null===c||void 0===c?void 0:c.ufi},item_location:{block_name:l,page_name:o},object_rank:{rank_model:f,rank_in_page:f,sorting_algo:_||"trending",page_nr:1}};e.event("interaction","view","product_card",h);const v={travel_product:{object_rank:{rank_absolute:f,page_size:p},travel_product:a.payloadBuilder.travelProduct(i)},xsell_user_info:{url_code:b},sorter_used:{sorter_id:_||"trending"}};"search_results"===(0,s.$d)(d.pathname)&&a.event("sr_product_viewed","3.0.0",v)}}}},ac10c9a4:(e,t,a)=>{"use strict";a.d(t,{z:()=>r});var i=a("ead71eb0");const r=e=>{const t=(0,i.useRef)(),a=(0,i.useRef)();return e!==a.current&&(t.current=a.current,a.current=e),t.current}},"0bf59517":(e,t,a)=>{"use strict";a.d(t,{T:()=>o});var i=a("c44dcb0c"),r=a("ead71eb0"),n=a("f57825c1");a("abab1afe");const s={[n.K.popularFor1Traveler]:{text:"attr_product_page_popular_solo_tag",tooltip:"attr_product_page_popular_solo_tooltip"},[n.K.popularFor2Travelers]:{text:"attr_product_page_popular_couple_tag",tooltip:"attr_product_page_popular_couple_tooltip"},[n.K.popularFor3Travelers]:{text:"attr_product_page_popular_group_tag",tooltip:"attr_product_page_popular_group_tooltip"}},o=e=>{const{translate:t}=(0,i.useTranslations)(),a=(0,r.useCallback)((e=>!!e),[]),o=(0,r.useMemo)((()=>Object.keys(n.K).map((a=>{if(e.map((e=>{let{flag:t}=e;return t})).includes(a))switch(a){case n.K.popularFor1Traveler:case n.K.popularFor2Travelers:case n.K.popularFor3Travelers:return{text:t(s[a].text),tooltip:t(s[a].tooltip),variant:"callout",type:"traveler_type"};default:return}})).filter(a)),[e,a,t]);return(0,r.useMemo)((()=>o.filter((e=>"traveler_type"===e.type))),[o])}},"1d7719e6":(e,t,a)=>{"use strict";a.d(t,{o:()=>s});var i=a("dc6d28ff"),r=a("791ec36a"),n=a("9f694d85");const s=()=>{const{isLargeViewport:e}=(0,n.T1)();return!((0,i.getRequestContext)().isInternalIp()&&(0,r.C)()&&/exp_dev_avoid_opening_links_in_new_tab=1/.test(window.location.search))&&e}},b25e145e:(e,t,a)=>{"use strict";a.d(t,{C:()=>s});var i=a("ead71eb0"),r=a("28dbd132"),n=a("7760db43");const s=()=>{const{apass:e,apass_legacy:t,ga:a}=(0,n.Z)();return{trackSortingInteractions:(0,i.useCallback)((i=>{let{sortLogicBefore:n,sortLogicAfter:s}=i;e.event("interaction","click","sort",{applied_sorting:{sort_logic_before:n,sort_logic_after:s}}),t.event("applied_sort"),a.event("applied_sort"),(0,r.trackGoal)("attractions_sp_applied_sort")}),[e,t,a])}}},"034e4b9a":(e,t,a)=>{"use strict";a.d(t,{T:()=>o});var i=a("ead71eb0"),r=a("2eab257c"),n=a("274ec0ed"),s=a("28dbd132");const o=()=>{const[e,t]=(0,n._)("sponsored_product_viewed_time",0),[a,o]=(0,n._)("sponsored_product_viewed_id",void 0);return{trackSponsoredProductViewed:(0,i.useCallback)((e=>{(0,s.trackExperimentStage)(s.exp`HWAFNLOLOLOCcbPLDIcHXQDJKaWe`,2),(0,s.trackExperimentStage)(s.exp`HWAFNLOLOLOCcbPLDIcHXQDJKaWe`,e?3:4)}),[]),trackSponsoredProductPageViewed:(0,i.useCallback)((e=>{t(Date.now()),o(e),(0,s.trackCustomGoal)(s.exp`HWAFNLOLOLOCcbPLDIcHXQDJKaWe`,2)}),[t,o]),trackSponsoredProductBooked:(0,i.useCallback)((t=>{t===a&&(0,r.U)(e)&&(0,s.trackCustomGoal)(s.exp`HWAFNLOLOLOCcbPLDIcHXQDJKaWe`,3)}),[e,a]),trackSponsoredDetailsViewed:(0,i.useCallback)((()=>{(0,s.trackCustomGoal)(s.exp`HWAFNLOLOLOCcbPLDIcHXQDJKaWe`,4)}),[])}}},c8c7f08d:(e,t,a)=>{"use strict";a.d(t,{E:()=>r});var i=a("38bbe781");const r=()=>{const[e,t]=(0,i.X)("attr_tg_pc",[]);return{thematicGroupProductClicksIncludesId:t=>e.includes(t),trackProductClick:a=>t(e.concat(a))}}},dfe9236d:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Vt});var i=a("3d054e81"),r=a("b4083f42"),n=a("ead71eb0"),s=a.n(n),o=a("ebca7d7d"),l=a("6222292b"),c=a("28dbd132"),d=a("6666266d"),u=a("843a257c"),_=a("1ff49fad"),p=a("a590b133"),g=a("7f609444"),m=a("01cd9a42"),f=a("0c68dce6");const b=e=>{let{banners:t,marginTop:a="none"}=e;const[n,o]=s().useState(!1),c=t.find((e=>"LEGAL_NOTICE_BANNER"===e.variant));return c?(0,r.tZ)(s().Fragment,null,(0,r.tZ)(p.R,{margin:[a,"none","spacing_4x","none"],"data-testid":"legal-notice-banner"},(0,r.tZ)(l.Banner,(0,i.Z)({startIcon:f.Z,dismissible:!1,text:c.content},c.title&&{title:c.title},{actions:c.popOver?[{text:c.popOver.openButton,variant:"secondary",onClick:()=>o(!0)}]:[]}))),c.popOver&&(0,r.tZ)(l.SheetContainer,{active:n,onCloseTrigger:()=>o(!1),hideClose:!1,closeAriaLabel:c.popOver.closeButton,title:c.popOver.title,position:"center",overlayAttributes:{"data-testid":"legal-notice-overlay"}},c.popOver.content)):null};var h=a("9b683841"),v=a("08af926e"),y=a("96c28170"),x=a("c44dcb0c"),k=a("a8577192"),C=a("e66dedc9"),w=a("cb670354"),Z=a("45ccbd8e");const S=e=>{const{action:t="open_modal",active:a,activeFilters:i,label:n,onClick:s,name:o}=e,c=(0,Z.y)(F);return(0,r.tZ)("button",{css:[c.quickFilter,a&&c.quickFilter__active,"",""],"data-quick-filter-name":o,name:o,onClick:s},(0,r.tZ)(l.Text,{variant:a?"emphasized_2":"body_2"},n),a&&"open_modal"===t&&i&&i.length>1&&(0,r.tZ)(l.Bubble,{text:i.length,variant:"action"}),a&&"apply_filter"===t&&(0,r.tZ)(l.Icon,{svg:(0,r.tZ)(k.Z,null),size:"smaller"}),"open_modal"===t&&(0,r.tZ)(l.Icon,{svg:(0,r.tZ)(C.Z,null),size:"small"}))},T=e=>{const{active:t,onClick:a}=e,i=(0,Z.y)(F),{translate:n}=(0,x.useTranslations)();return(0,r.tZ)("button",{"aria-label":n("npd_att_search_page_filter_sidebar"),css:[i.quickFilter,i.quickFilter__allButton,t&&i.quickFilter__active,"",""],name:"all",onClick:a},(0,r.tZ)(l.Icon,{svg:(0,r.tZ)(w.Z,null),size:"smaller"}))},A=e=>{let{allButtonSkeleton:t,backgroundColor:a}=e;const i=(0,Z.y)(F);return(0,r.tZ)("div",{css:[i.skeleton,"elevation_one"===a&&i.skeleton__elevationOne,t&&i.skeleton__allButton,"",""]})},F=e=>(0,Z.k)({quickFilter:{background:e.colors.color_background_elevation_one,borderRadius:999,border:`1px solid ${e.colors.color_border}`,color:e.colors.color_foreground,alignItems:"center",display:"flex",gap:e.units.spacing_1x,padding:`calc(${e.units.spacing_2x} - 1px) calc(${e.units.spacing_3x} - 1px)`,whiteSpace:"nowrap","[data-bui-keyboard] &:focus":{outline:"none",boxShadow:`0 0 0 2px ${e.colors.color_background_base}, 0 0 0 4px ${e.colors.color_action_border}`}},quickFilter__allButton:{padding:`calc(${e.units.spacing_2x} - 1px) calc(${e.units.spacing_3x} - ${e.units.spacing_half})`},quickFilter__active:{background:e.colors.color_action_highlighted_alt,border:`1px solid ${e.colors.color_action_border}`,color:e.colors.color_action_foreground},skeleton:{background:e.colors.color_background_alt,borderRadius:999,height:36,width:108},skeleton__elevationOne:{background:e.colors.color_background_elevation_one},skeleton__allButton:{width:36}});var E=a("74ac0209"),W=a("6a4a8474"),H=a("6af95914"),O=a.n(H);const P=()=>{const e=(0,n.useRef)(null),t=(0,n.useRef)(null),[a,i,r]=(e=>{const t="undefined"!==typeof window,[a,i]=(0,n.useState)(!1),[r,s]=(0,n.useState)(void 0),[o,l]=(0,n.useState)(void 0),c=O()((()=>{var a;if(!t)return;const n=null===(a=e.current)||void 0===a?void 0:a.getBoundingClientRect().top,o=window.pageYOffset;s(o),void 0!==n&&(r&&l(o>r?"down":"up"),i(n<=0))}),40);return(0,n.useEffect)((()=>(window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c))),[c]),[a,o,r]})(e),[s,o]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{a&&"down"===i&&!s?o(!0):a&&"up"===i&&s&&o(!1)}),[a,s,i,r]),{actions:{setIsToolbarHidden:o},refs:{quickFiltersRef:t,toolbarContainerRef:e},state:{isToolbarFixed:a,isToolbarHidden:s,scrollDirection:i,scrollPosition:r}}},B=()=>{const{translate:e}=(0,x.useTranslations)();return(0,n.useMemo)((()=>({filter_by:e("att_sr_filters_category_subheader"),available_today:e("attractions_uf_sr_immediacy_filter_today"),available_tomorrow:e("attractions_uf_sr_immediacy_filter_tomorrow"),filter_by_price:e("att_sr_filters_price_subheader"),has_discount:e("att_sr_filters_has_discount_deals"),skip_the_line:e("att_lf_product_page_itinerary_skip_line"),free_cancellation:e("att_sr_filters_free_cancellation"),filter_by_min_rating:e("attractions_uf_sr_review_filters_filter_header"),filter_by_time_of_day:e("attractions_uf_time_of_day_filter_header"),filter_by_language:e("attractions_uf_sr_filter_sort_languages_header"),filter_by_ufi:e("attractions_uf_sr_filters_city_header_location"),filter_by_destination:e("attr_web_landmarks_filter_header_popular_places_tours")})),[e])},I=(e,t,a,i)=>{if(["filter_by_availability","filter_by_label"].includes(a))return t[i];const r=L(e,a);if(1===r.length){var n;const s=D(e,a,r),o=R(e,a,s);return null!==(n=o[0])&&void 0!==n&&n.name?`${t[i]}: ${o[0].name}`:t[i]}return t[i]},L=(e,t)=>"filter_by"===t?e.activeFilters.filter_by.concat(e.activeFilters.filter_by_subcategory):e.activeFilters[t],D=(e,t,a)=>"filter_by"===t?a[0]:e.activeFilters[t][0],R=(e,t,a)=>"filter_by"===t?[...e.filters.filter_by,...e.filters.filter_by_subcategory].filter((e=>e.tagname===a)):e.filters[t].filter((e=>e.tagname===a)),V={filter_by:"filter_by",available_today:"filter_by_availability",available_tomorrow:"filter_by_availability",filter_by_price:"filter_by_price",has_discount:"filter_by_label",free_cancellation:"filter_by_label",skip_the_line:"filter_by_label",filter_by_min_rating:"filter_by_min_rating",filter_by_time_of_day:"filter_by_time_of_day",filter_by_language:"filter_by_language",filter_by_ufi:"filter_by_ufi",filter_by_destination:"filter_by_destination"};var M=a("7b5b6285"),N=a("2fe2e183");const G=e=>{const t=B(),{location:a}=(0,M.Z)(),{state:i}=(0,W.si)(),{ufi:r}=(0,N.Z)(),s=!(null===r||void 0===r||!r.scopeDetails),o=!!(0,c.trackExperiment)(c.exp`HWAFNHUYTaGBMLaUC`),l=e.filters.filter_by.length>1,d=!s&&e.filters.filter_by_ufi.length>1,u=i.showAvailabilityFilters&&o;return(0,n.useMemo)((()=>{const i=[...u?["available_today","available_tomorrow"]:[],...d?["filter_by_ufi"]:[],...l?["filter_by"]:[],...e.filters.filter_by_price.length>1?["filter_by_price"]:[],...e.filters.filter_by_label.filter((e=>!!e.productCount)).map((e=>e.tagname)).filter(Boolean),...e.filters.filter_by_min_rating.length>1?["filter_by_min_rating"]:[],...e.filters.filter_by_time_of_day.length>1?["filter_by_time_of_day"]:[],...e.filters.filter_by_language.length>1?["filter_by_language"]:[]],r=new URLSearchParams(a.search),n=[];r.forEach(((e,t)=>{const a=t.replace("[]","");t.includes("filter_by")&&!n.includes(a)&&n.push(["filter_by_availability","filter_by_label"].includes(a)?e:a)}));const s=[...n.reverse()].filter((e=>!!V[e]));return i.forEach((e=>{s.includes(e)||s.push(e)})),s.map((e=>{const a=V[e];return{label:t[e],name:e,group:a}}))}),[e.filters,u,l,d,a.search,t])};var U=a("fffbd3f5");function Y(e,t){const a=[...e],i=a.indexOf(t);return-1!==i?a.splice(i,1):a.push(t),a}var $=a("a0585de1"),Q=a("9f694d85"),z=a("0216c7de");const K=()=>{const{location:e}=(0,M.Z)(),{state:t}=(0,W.si)(),{isLargeViewport:a}=(0,Q.T1)(),i=(0,z.l)(),r=G(i),s=(0,$.V0)("url_code",e.search),o=!!(0,c.trackExperiment)(c.exp`HWAFNHUYTaGBMLaUC`);return{quickFiltersTrackingPixelIndexes:(0,n.useMemo)((()=>{const e=r.map((e=>e.name)),a={0:[...t.showAvailabilityFilters&&!o?["available_today"]:[]]};return e.reduce(((e,t,a)=>({...e,[a]:[t,...a in e?e[a]:[]]})),a)}),[o,r,t.showAvailabilityFilters]),quickFiltersTrackingHandlers:(0,n.useMemo)((()=>({available_today:()=>{(0,c.trackExperimentStage)(c.exp`HWAFNHUYTaGBMLaUC`,3),(0,c.trackExperimentStage)(c.exp`HWAFNHUYTaGBMLaUC`,a?4:5),(0,c.trackExperimentStage)(c.exp`HWAFNHUYTaGBMLaUC`,s?6:7)}})),[a,s])}};var q=a("9a67ad93");const J=e=>{const t=(0,Z.y)(j),{ref:a}=(0,q.YD)({onChange:t=>{t&&e.onShow()}});return(0,r.tZ)("div",{ref:a,css:t.quickFilterTrackingPixel})},j=e=>(0,Z.k)({quickFilterTrackingPixel:{marginLeft:`-${e.units.spacing_1x}`,marginRight:`-${e.units.spacing_1x}`}}),X=e=>{const{backgroundMobile:t,filtersState:a}=e,{state:o}=(0,W.si)(),l=(0,Z.y)(ee),d=G(a),u=B(),{refs:{quickFiltersRef:_,toolbarContainerRef:p},state:{isToolbarFixed:g,isToolbarHidden:m}}=P(),{onClickAllFiltersButtonClick:f,onClickQuickFilterItem:b,onClickQuickFilterGroup:h}=(e=>{const{pushRoute:t}=(0,M.Z)(),{actions:a,pagination:{resetPagination:i}}=(0,W.si)(),{translate:r}=(0,x.useTranslations)(),{trackFilterInteractions:s}=(0,U.G)(),o=B(),l=(0,n.useCallback)(((r,n,o)=>{const l=Y(o,r);s({...e.activeFilters,[n]:l}),i(),a.setQueryUpdateType("filter"),a.setAutoLoadRequests(0),t({addQuery:{[n]:l}}),window.scrollTo({top:0,behavior:"smooth"})}),[e.activeFilters,t,a,i,s]);return{onClickAllFiltersButtonClick:(0,n.useCallback)((()=>{a.setFilterModalTitle(r("a11y_attractions_web_sr_filter_by")),a.setFilterModalGroup(void 0),a.setBeforeFilterModalState(-1),t({addQuery:{modal:y.nK.filters}})}),[t,a,r]),onClickQuickFilterItem:l,onClickQuickFilterGroup:(0,n.useCallback)((e=>{a.setFilterModalTitle(o[e]),a.setFilterModalGroup(e),a.setBeforeFilterModalState(-1),t({addQuery:{modal:y.nK.filters}}),window.scrollTo({top:0,behavior:"smooth"})}),[o,t,a])}})(a),{quickFiltersTrackingPixelIndexes:v,quickFiltersTrackingHandlers:k}=K(),C="alt"===t,w=(e,t)=>e[t]??e.default;return(0,r.tZ)(s().Fragment,null,(0,r.tZ)("div",{css:l.toolbarContainer,ref:p},(0,r.tZ)("div",{css:[l.toolbar,C&&l.toolbar__altBackground,g&&l.toolbar__fixed,g&&m&&l.toolbar__hidden,"",""],ref:_},o.isLoading?(0,r.tZ)(s().Fragment,null,[0,1,2,3].map((e=>(0,r.tZ)(A,{backgroundColor:"alt"===t?"elevation_one":void 0,key:e,allButtonSkeleton:0===e})))):(0,r.tZ)(s().Fragment,null,a.hasData&&(0,r.tZ)(T,{active:a.hasAnyFiltersApplied,onClick:f}),a.filters.filter_by_landing_category.map((e=>(0,r.tZ)(S,{key:e.tagname,name:e.tagname,label:e.name,active:!0,action:"apply_filter",onClick:()=>{const t=Y(a.activeFilters.filter_by_landing_category,e.tagname);a.onChange({name:"filter_by_landing_category",value:t}),(0,c.trackCustomGoal)(c.exp`HWAFYTaYSEYCBOcaGPaVHXT`,2)}}))),d.map(((e,t)=>{const n=(o=e.group,l=e.name,{action:w({filter_by_availability:"apply_filter",filter_by_label:"apply_filter",default:"open_modal"},o),active:w({filter_by_availability:!!a.activeFilters[o].includes(l),filter_by_label:!!a.activeFilters[o].includes(l),filter_by:!![...a.activeFilters.filter_by??[],...a.activeFilters.filter_by_subcategory??[]].length,default:!!a.activeFilters[o].length},o),activeFilters:w({filter_by:[...a.activeFilters.filter_by??[],...a.activeFilters.filter_by_subcategory??[]],default:a.activeFilters[o]},o),label:I(a,u,o,l),onClick:w({filter_by:()=>h(o),filter_by_availability:()=>b(l,o,a.activeFilters[o]),filter_by_label:()=>b(l,o,a.activeFilters[o]),default:()=>h(o)},o)});var o,l;const c=v[t].filter((e=>k[e]));return a.filters[e.group].length?(0,r.tZ)(s().Fragment,{key:e.name},c.map((e=>(0,r.tZ)(J,{key:e,onShow:()=>{const t=k[e];t&&t()}}))),(0,r.tZ)(S,(0,i.Z)({},n,{name:e.name}))):null}))))),g&&(0,r.tZ)("div",{css:l.spacer}))},ee=e=>(0,Z.k)({toolbarContainer:{background:e.colors.color_white,margin:`0 -${e.units.spacing_4x}`,padding:`0 ${e.units.spacing_4x}`,position:"relative"},spacer:{height:60,[E.FU]:{display:"none"}},toolbar:{display:"flex",gap:e.units.spacing_2x,margin:`0 -${e.units.spacing_4x}`,msOverflowStyle:"none",overflow:"auto",scrollBehavior:"smooth",scrollbarWidth:"none",padding:`${e.units.spacing_3x} ${e.units.spacing_4x}`,WebkitOverflowScrolling:"touch",[E.FU]:{display:"none"},"&::-webkit-scrollbar":{display:"none",height:0,width:0}},toolbar__altBackground:{background:e.colors.color_background_alt,margin:`0 -${e.units.spacing_4x} -${e.units.spacing_2x}`},toolbar__fixed:{background:e.colors.color_white,borderBottom:`1px solid ${e.colors.color_border_alt}`,margin:0,position:"fixed",transition:"transform 300ms ease-in-out",top:0,left:0,right:0,zIndex:10},toolbar__hidden:{transform:"translateY(-80px)",transitionDelay:"1200ms"}}),te=e=>{const{filtersState:t}=e,{state:a}=(0,W.si)(),i=(0,Z.y)(ie),{isLargeViewport:s}=(0,Q.T1)();(0,n.useEffect)((()=>{!a.isLoading&&"filter"===a.queryUpdateType&&s&&setTimeout((()=>window.scrollTo({top:0})),10)}),[s,a.queryUpdateType,a.isLoading,a.products]);return(0,n.useRef)().current=a.beforeFilterModalState,(0,r.tZ)("div",{css:i.desktopFilters},(0,r.tZ)(v.Bo,{state:t}))},ae=e=>{const{backgroundMobile:t,filtersState:a}=e,{actions:i,state:o}=(0,W.si)(),{history:l}=(0,M.Z)(),c=(0,n.useRef)();return c.current=o.beforeFilterModalState,(0,r.tZ)(s().Fragment,null,(o.isLoading||a.hasData)&&(0,r.tZ)(X,{backgroundMobile:t,filtersState:a}),(0,r.tZ)(y.HS,{name:y.nK.filters,position:"fullScreen",title:o.filterModalTitle,onClose:()=>{c.current&&(l.go(c.current),i.setBeforeFilterModalState(-1))},overrideModalClose:!0},(0,r.tZ)(v.AF,{state:a})))},ie=e=>(0,Z.k)({desktopFilters:{marginBottom:e.units.spacing_4x,maxHeight:`calc(100vh - ${e.units.spacing_8x})`,position:"sticky",top:e.units.spacing_4x,[E.gp]:{display:"none"}}}),re=e=>{const{searchDateInputRef:t,searchMobileOverviewRef:a,searchQueryInputRef:i}=e,s=(0,Z.y)(ne),{state:o,actions:c}=(0,W.si)(),{isLargeViewport:d}=(0,Q.T1)(),u=(e=>{let t;return e.hasError?t="networkError":e.noProductsFoundInUfi?t="ufi":e.noResultsForQuery?t="query":e.noProductsOnSelectedDates?t="date":(e.noProductsWithAvailabilityFilters||e.noProductsWithSelectedFilters)&&(t="filter"),t})(o),_=(e=>{var t,a,i,r;const{translate:n}=(0,x.useTranslations)(),s=(0,N.Z)();if(!e)return;return{filter:{heading:n("attr_web_sr_error_no_filter_match_header"),desc:n("attr_web_sr_error_no_filter_match_desc"),cta:n("attr_web_sr_error_no_filter_match_button")},query:{heading:n("attr_web_sr_error_no_keyword_match_header"),desc:n("attr_web_sr_error_no_heyword_match_desc"),cta:n("attr_web_sr_error_no_keyword_match_button")},date:{heading:n("attr_web_sr_error_no_dates_match_header",{variables:{city_name:(null===(t=s.ufi)||void 0===t?void 0:t.bCityName)||"",in_city_name:(null===(a=s.ufi)||void 0===a?void 0:a.bInCityName)||""}}),desc:n("attr_web_sr_error_no_dates_match_desc"),cta:n("attr_web_sr_error_no_dates_match_button")},networkError:{heading:n("attr_web_sr_error_header"),desc:n("attr_web_sr_error_desc"),cta:n("attr_web_sr_error_button")},ufi:{heading:n("attr_web_sr_error_ufi_zero_products_header",{variables:{city_name:(null===(i=s.ufi)||void 0===i?void 0:i.bCityName)||"",in_city_name:(null===(r=s.ufi)||void 0===r?void 0:r.bInCityName)||""}}),desc:n("attr_web_sr_error_ufi_zero_products_desc"),cta:n("attr_web_sr_error_no_keyword_match_button")}}[e]})(u),p=(0,n.useCallback)((()=>{if("date"===u){var e,r;if(!d)null===(r=a.current)||void 0===r||r.open();null===(e=t.current)||void 0===e||e.open()}var n,s;"query"!==u&&"ufi"!==u||(d?null===(n=i.current)||void 0===n||n.open():null===(s=a.current)||void 0===s||s.open());"filter"===u&&(c.clearFilters(),window.scrollTo({top:0})),"networkError"===u&&window.location.reload()}),[u,d,t,a,i,c]);return _&&u?(0,r.tZ)("div",{css:[s.Container,"networkError"===u&&s.Container__networkError,"query"===u&&s.Container__query,"",""]},(0,r.tZ)(l.Card,{css:[s.Card,"query"===u&&s.Card__query,"",""]},(0,r.tZ)("div",{css:s.Stack},(0,r.tZ)(l.Image,{css:s.Image,asset:"networkError"===u?{setName:"illustrations-traveller",assetName:"ErrorState"}:{setName:"illustrations-traveller",assetName:"AttractionsErrorState"}}),(0,r.tZ)("div",null,(0,r.tZ)(l.Text,{variant:"headline_2",css:s.Heading},_.heading),(0,r.tZ)(l.Text,{css:s.Description,variant:"body_2"},_.desc),(0,r.tZ)(l.Button,{size:"large",onClick:e=>{e.stopPropagation(),p()}},_.cta))))):null},ne=e=>(0,Z.k)({Container:{[E.gp]:{padding:`0 ${e.units.spacing_4x}`}},Container__query:{[E.gp]:{padding:0}},Container__networkError:{[E.gp]:{padding:e.units.spacing_4x}},Card:{padding:e.units.spacing_8x},Card__query:{[E.gp]:{borderLeft:"none",borderRight:"none",borderRadius:0}},Image:{minWidth:"256px"},Stack:{alignItems:"center",display:"flex",flexDirection:"column",gap:e.units.spacing_6x,textAlign:"center",[E.FU]:{flexDirection:"row",textAlign:"inherit"}},Heading:{marginBottom:e.units.spacing_4x},Description:{marginBottom:e.units.spacing_6x}});var se=a("eb3dacc7"),oe=a("826f1bad");const le=()=>{const{state:e}=(0,W.si)(),{translate:t}=(0,x.useTranslations)(),{ufi:a}=(0,N.Z)(),{bCityName:i,bInCityName:r,scopeDetails:n}=a||{},{name:s}=n||{},o=s||i,l=s||r;let c=oe.pB;return n?c=t("attr_web_sr_header_landmarks",{variables:{landmarks:n.name}}):i&&(c=t("experience_attractions_lp_page_title",{variables:{city_name:o,in_city_name:l},num_exception:e.attractionsCountTotal})),c},ce=()=>{const{state:e}=(0,W.si)(),t=(0,Z.y)(de),{translate:a}=(0,x.useTranslations)(),{loading:i}=(0,N.Z)(),{isLargeViewport:n}=(0,Q.T1)(),o="undefined"===typeof e.filterStats,c=a("attractions_uf_sr_main_subheader_num_results",{num_exception:e.attractionsCountFiltered,variables:{num:String(e.attractionsCountFiltered)}}),d=o||e.isLoading||i?(0,r.tZ)(s().Fragment,null,"\xa0"):c;return(0,r.tZ)(l.Text,{css:[t.prodCountText,!n&&t.prodCountText__mobile,o&&t.prodCountText__hidden,"",""],tagName:"div",variant:n?"strong_1":"strong_2"},d)},de=e=>(0,Z.k)({prodCountText:{margin:0},prodCountText__mobile:{...e.fonts.medium.font_body_2},prodCountText__hidden:{visibility:"hidden"}}),ue=()=>{const e=(0,Z.y)(_e),{state:t}=(0,W.si)(),{translate:a}=(0,x.useTranslations)(),{loading:i,ufi:n}=(0,N.Z)(),o=(0,se.O)(),d=le(),{bCityName:_,scopeDetails:p}=n||{},{name:g}=p||{},m=!!p,f=g||_,b=!!(0,c.trackExperiment)(c.exp`HWAFYTfDHCOLZVLeFZMO`);return(0,r.tZ)(s().Fragment,null,!o&&(0,r.tZ)("div",{css:[e.container,e.container__breadcrumbs,"",""]},(0,r.tZ)(u.O,{items:[...m?[{linkProps:{toPage:"searchresults",addQuery:{source:"search-results-breadcrumb"}},text:_||""}]:[],{text:(m?g:_)||""}],source:"search_results"})),(0,r.tZ)("div",{css:[e.container,e.container__title,"",""]},(0,r.tZ)("div",null,b?(0,r.tZ)(l.Text,{css:e.title,tagName:"h1",variant:"headline_2"},i||"undefined"===typeof t.products?(0,r.tZ)(l.SkeletonLoader,{css:e.loadingSkeleton}):a("attr_web_sr_header_city_num_attractions",{variables:{ufi_landmark:f||"",num:t.attractionsCountFiltered},num_exception:t.attractionsCountFiltered})):(0,r.tZ)(s().Fragment,null,(0,r.tZ)(l.Text,{css:e.title,tagName:"h1",variant:"headline_2"},i?"":d),(0,r.tZ)(ce,null)))))},_e=e=>(0,Z.k)({container:{display:"flex",justifyContent:"space-between",margin:"0 auto",maxWidth:1140,padding:`0 ${e.units.spacing_8x}`,width:"100%"},container__breadcrumbs:{marginBottom:`-${e.units.spacing_4x}`},container__title:{marginBottom:e.units.spacing_3x,padding:`${e.units.spacing_4x} ${e.units.spacing_8x} 0`},title:{margin:0},loadingSkeleton:{height:32,maxWidth:440,opacity:.5,"> span":{height:"100%",width:"100%"}}});var pe=a("dc6d28ff"),ge=a("bafa5ac4"),me=a("9d2cb845"),fe=a("293769da"),be=a("4f2e7733"),he=a("c8c7f08d"),ve=a("7760db43"),ye=a("3835fb47"),xe=a("ce9027a3"),ke=a("421f0856"),Ce=a("034e4b9a"),we=a("45733827"),Ze=a("838b1efe"),Se=a("d33a9817");const Te=()=>{const{state:{pageLayout:e},pagination:{pageSize:t}}=(0,W.si)(),a=(0,Z.y)(Ae),i=(0,c.trackExperiment)(c.exp`HWAFYTfDHCOLZOHeYYFGO`),n=!!i;return(0,r.tZ)("div",{css:[a.skeletonCardContainer,"GRID"===e&&n&&a[2===i?"skeletonCardContainer--grid-3-column":"skeletonCardContainer--grid"],"",""]},new Array(t).fill("").map(((e,t)=>(0,r.tZ)(Se._U.Skeleton,{key:t}))))},Ae=e=>(0,Z.k)({skeletonCardContainer:{display:"flex",flexDirection:"column",gap:e.units.spacing_1x,[E.FU]:{gap:e.units.spacing_4x}},"skeletonCardContainer--grid":{[E.FU]:{flexDirection:"row",flexWrap:"wrap","& > div":{width:336}}},"skeletonCardContainer--grid-3-column":{[E.FU]:{flexDirection:"row",flexWrap:"wrap","& > div":{width:253}}}});var Fe=a("e308cac8"),Ee=a("2438bcaf"),We=a("aa952bae"),He=a("3bf86382");const Oe=(e,t,a,i)=>{if((0,He.S)(e.representativePrice))switch(t){case"click":(0,c.trackCustomGoal)(c.exp`HWAFYTfbfSCTaOBcfae`,1);break;case"view":(0,c.trackExperimentStage)(c.exp`HWAFYTfbfSCTaOBcfae`,6),(0,c.trackExperimentStage)(c.exp`HWAFYTfbfSCTaOBcfae`,i?8:7)}};var Pe=a("f57825c1"),Be=a("2d521027"),Ie=a("555efd6b");const Le=e=>{const{currentPageStart:t,isLoading:a,attractions:i,unavailableAttractions:s}=e,o=(0,pe.getRequestContext)().getLanguage(),d=o&&["en-us","en-gb"].includes(o),u=(0,ge.Gw)(),_=(0,me.F)(),{attractionViewed:p}=(0,be.J)(),{suggestions:{blackFriday:g},thematicGroups:m}=(0,ye.f)(),{location:f}=(0,M.Z)(),{pagination:{totalCount:b},state:h}=(0,W.si)(),v=(0,Z.y)(De),{trackProductClick:y}=(0,he.E)(),{apass:k,c360:C}=(0,ve.Z)(),{translate:w}=(0,x.useTranslations)(),{ufi:S}=(0,N.Z)(),{isLargeViewport:T}=(0,Q.T1)(),A=(0,se.O)(),F=(0,n.useId)(),{highIntentSearchWithoutPinnedProduct:E}=(0,fe.A)(),H=(0,n.useRef)(0),{filterOptions:O}=h,P=(null===S||void 0===S?void 0:S.bCityName)||"",B=(0,$.V0)("source",f.search),I=(0,$.V0)("sort_by",f.search),L=(0,$.V0)("start_date",f.search),D=(0,$.V0)("theme",f.search),R=(0,$.V0)("url_code",f.search),V=(0,$.V0)("pinned_product",f.search),{trackSponsoredProductViewed:G}=(0,Ce.T)(),U=(0,We.Ib)();(0,n.useEffect)((()=>{H.current=(new Date).getTime()}),[]);const Y=(0,r.tZ)(ge.CS,{attractions:i||[],unavailableAttractions:s,"data-testid":"sr-list",onCardClick:e=>{var a,r;if(!i)return;const n=i[e],s=!!n.id&&_.includes(n.id),o=!A&&(0,Ze.J)(n),l=null===(a=n.flags)||void 0===a?void 0:a.some((e=>e.flag===Pe.K.newProduct)),d=null===(r=n.metadata)||void 0===r?void 0:r.injected;C.event("sr_product_clicked","3.0.0",{travel_product:{object_rank:{rank_absolute:e+1,page_size:b},travel_product:C.payloadBuilder.travelProduct(n)},xsell_user_info:{url_code:R},sorter_used:{sorter_id:I||"trending"}}),k.event("interaction","click","product_card",{...n.id&&{attraction_product:{product_id:n.id,ufi:n.ufiDetails.ufi}},item_location:{page_name:"search_results",block_name:"list"}}),(0,c.trackGoalWithValue)("js_attr_sr_card_click",1),B&&"search_box"===B&&(0,c.trackGoal)("attractions_viewed_product_after_search"),s&&((0,c.trackCustomGoal)(c.exp`HWAFNHUYHIPALCcYPBAVTJbFMOWe`,1),(0,c.trackCustomGoal)(c.exp`HWAFNHUYHIPALCcYPBAVTJbFMOWe`,2)),o&&(0,c.trackCustomGoal)(c.exp`HWAFYecGbRbEQMRYeWWBTMFKRfYcEGBHVUC`,1),n.id===V&&(0,c.trackCustomGoal)(c.exp`HWAFYDEZRdJDTIAZdJAINLbIeIPNUETKe`,1),l&&((0,c.trackCustomGoal)(c.exp`HWAFYRcVFRURURYYYbIeIdKC`,1),d&&(0,c.trackCustomGoal)(c.exp`HWAFYRcVFRURURYYYbIeIdKC`,2)),(0,Ee.ze)(n,"click","searchresults",T),Oe(n,"click",0,T),(0,Fe.T)(n,"searchresults"),(0,ke.T)(n.highlights,n.itinerary)?(0,c.trackCustomGoal)(c.exp`HWAFNQVeJOPIcfSePdbRe`,1):(0,c.trackCustomGoal)(c.exp`HWAFNQVeJOPIcfSePdbRe`,2),(0,c.trackCustomGoal)(c.exp`HWAFNHUYTaeCVLLIYAZTRe`,3),D&&((0,c.trackCustomGoal)(c.exp`HWAFNHUYDEZRETWJGGKBINSHT`,4),(0,c.trackCustomGoal)(c.exp`HWAFNHUYTaeCVLLIYAZTRe`,4),n.id&&y(n.id)),(0,c.trackExperimentStage)(c.exp`HWAFYTaRQMeVXGRcAAKEfPdRT`,5),(0,c.trackExperimentStage)(c.exp`HWAFYTaRQMeVXGRcAAKEfPdRT`,8),T?((0,c.trackCustomGoal)(c.exp`HWAFYTfDHCOLZIHSHFTdbLSKSGQZbXHcKVT`,1),(0,c.trackExperimentStage)(c.exp`HWAFYTaRQMeVXGRcAAKEfPdRT`,7)):(0,c.trackExperimentStage)(c.exp`HWAFYTaRQMeVXGRcAAKEfPdRT`,6),"undefined"!==typeof e&&(0,c.trackGoalWithValue)("js_attr_sr_card_click_index",t+e),(0,c.trackCustomGoal)(c.exp`HWAFNQBSdVFdXUWcaAEUZC`,1);!!n.sponsorshipDetails&&(0,c.trackCustomGoal)(c.exp`HWAFNLOLOLOCcbPLDIcHXQDJKaWe`,1);const u=(0,we.Ug)((0,we.PQ)(new Date),n.availableFrom);(0,c.trackCustomGoal)(c.exp`HWAFYTbGNONMOfUUTAcHe`,1),u>=2?(0,c.trackCustomGoal)(c.exp`HWAFYTbGNONMOfUUTAcHe`,2):0===u?(0,c.trackCustomGoal)(c.exp`HWAFYTbGNONMOfUUTAcHe`,3):1===u&&(0,c.trackCustomGoal)(c.exp`HWAFYTbGNONMOfUUTAcHe`,4),(0,Ie.P)()&&(0,Be.Kd)(n.representativePrice)&&(0,c.trackCustomGoal)(c.exp`HWAFYTfVdQbHVEZYSCC`,2)},onCardShow:e=>{var t,a,r,n;if(!i)return;const s=i[e],o=!!s.id&&_.includes(s.id),l=!A&&(0,Ze.J)(s),f=!(null===(t=s.flags)||void 0===t||!t.some((e=>e.flag===Pe.K.newProduct))),v=null===(a=s.metadata)||void 0===a?void 0:a.injected;p(s,e,"search_results","search_results",I,b),o&&((0,c.trackExperimentStage)(c.exp`HWAFNHUYHIPALCcYPBAVTJbFMOWe`,4),(0,c.trackExperimentStage)(c.exp`HWAFNHUYHIPALCcYPBAVTJbFMOWe`,5)),f&&((0,c.trackCustomGoal)(c.exp`HWAFYRcVFRURURYYYbIeIdKC`,3),v&&(0,c.trackCustomGoal)(c.exp`HWAFYRcVFRURURYYYbIeIdKC`,4)),(0,Ee.ze)(s,"view","searchresults",T),Oe(s,"view",0,T),l&&((0,c.trackExperimentStage)(c.exp`HWAFYecGbRbEQMRYeWWBTMFKRfYcEGBHVUC`,1),(0,c.trackExperimentStage)(c.exp`HWAFYecGbRbEQMRYeWWBTMFKRfYcEGBHVUC`,2),(0,c.trackExperimentStage)(c.exp`HWAFYecGbRbEQMRYeWWBTMFKRfYcEGBHVUC`,T?4:5)),e!==u.blackFriday||E||xe._.blackFriday.variant||xe._.blackFriday.onView(g,T),e!==u.thematicGroups||E||xe._.thematicGroups.variant||xe._.thematicGroups.onView(m,T,d,L),T&&e===u.exploreByCategory&&null!==O&&void 0!==O&&null!==(r=O.typeFilters)&&void 0!==r&&r.length&&!xe._.exploreByCategory.variant&&xe._.exploreByCategory.onView(),(0,Fe.C)(s,T,"searchresults"),(0,ke.T)(s.highlights,s.itinerary)&&((0,c.trackExperimentStage)(c.exp`HWAFNQVeJOPIcfSePdbRe`,2),(0,c.trackExperimentStage)(c.exp`HWAFNQVeJOPIcfSePdbRe`,T?3:4),(0,c.trackExperimentStage)(c.exp`HWAFNQVeJOPIcfSePdbRe`,5),(0,c.trackExperimentStage)(c.exp`HWAFNQVeJOPIcfSePdbRe`,T?7:8)),(0,c.trackExperimentStage)(c.exp`HWAFNQBSdVFdXUWcaAEUZC`,2),(0,c.trackExperimentStage)(c.exp`HWAFNQBSdVFdXUWcaAEUZC`,3),(0,c.trackExperimentStage)(c.exp`HWAFNQBSdVFdXUWcaAEUZC`,T?4:5),s.cancellationPolicy.hasFreeCancellation&&(0,c.trackCustomGoal)(c.exp`HWAFNQBSdVFdXUWcaAEUZC`,2),null!==(n=s.typicalDuration)&&void 0!==n&&n.label&&(0,c.trackCustomGoal)(c.exp`HWAFNQBSdVFdXUWcaAEUZC`,3);const y=!!s.sponsorshipDetails;3===e&&i[e-1].sponsorshipDetails&&G(T),y&&G(T);const x=(0,we.Ug)((0,we.PQ)(new Date),L);if((0,c.trackExperimentStage)(c.exp`HWAFYTbGNONMOfUUTAcHe`,2),L&&x>=2&&((0,c.trackExperimentStage)(c.exp`HWAFYTbGNONMOfUUTAcHe`,3),(0,c.trackExperimentStage)(c.exp`HWAFYTbGNONMOfUUTAcHe`,T?4:5)),(0,c.trackExperimentStage)(c.exp`HWAFYTaRQMeVXGRcAAKEfPdRT`,2),T?((0,c.trackExperimentStage)(c.exp`HWAFYTbQTZOUdTJeaILYDISIBBO`,2),(0,c.trackExperimentStage)(c.exp`HWAFYTbUdCISIBBO`,2),(0,c.trackExperimentStage)(c.exp`HWAFYTaRQMeVXGRcAAKEfPdRT`,4),(0,c.trackExperimentStage)(c.exp`HWAFYTfQfQMZaHIJZZKVFGUVbIeIPYGYfPHe`,2)):((0,c.trackExperimentStage)(c.exp`HWAFYTaRQMeVXGRcAAKEfPdRT`,3),(0,c.trackExperimentStage)(c.exp`HWAFYTfQfQMZaHIJZZKVFGUVbIeIPYBBVYYT`,2),(0,c.trackExperimentStage)(c.exp`HWAFYTbBQTPLEfPBCEKdeJOOIBBO`,1)),U(),e===u.geniusSort&&(0,Ie.P)()&&!(0,c.trackExperiment)(c.exp`HWAFYTfVdQbHVEZYSCC`)){var k;!(null===(k=h.sorters)||void 0===k||!k.some((e=>"genius"===e.value)))&&xe._.geniusSort.onView(T)}(0,Ie.P)()&&(0,Be.Kd)(s.representativePrice)&&(0,c.trackCustomGoal)(c.exp`HWAFYTfVdQbHVEZYSCC`,3)}});return(0,r.tZ)("main",{css:v.container,"aria-labelledby":F},(0,r.tZ)(l.HiddenVisually,null,(0,r.tZ)(l.Text,{tagName:"h2",attributes:{id:F}},w("a11y_attractions_web_sr_browse_ufi",{variables:{ufi_name:P}}))),"pagination"!==h.queryUpdateType&&a&&(0,r.tZ)(Te,null),i&&!!i.length&&Y,"pagination"===h.queryUpdateType&&a&&(0,r.tZ)(Te,null))},De=e=>(0,Z.k)({container:{display:"flex",flexDirection:"column",gap:e.units.spacing_1x,[E.FU]:{gap:e.units.spacing_4x}}});var Re=a("75ca6d4a"),Ve=a("9b567914");const Me=e=>{const{searchDateInputRef:t,queryInputRef:a,mobileOverviewRef:i,submitInputRef:s}=e,{actions:o,pagination:{resetPagination:l}}=(0,W.si)(),{translate:c}=(0,x.useTranslations)(),{ufi:d}=(0,N.Z)(),{isLargeViewport:u}=(0,Q.T1)(),_=(0,n.useMemo)((()=>d&&d.scopeDetails?{scopeSlug:(0,Ve.G)(d.scopeDetails),cc1:d.url.country,text:d.scopeDetails.name}:d&&d.bCityName?{city:d.url.city,cc1:d.url.country,text:d.bCityName}:void 0),[d]);return(0,r.tZ)(Ne,null,(0,r.tZ)(Re.o,{navigateByReplace:!u,source:"search_results",filterHistoryByUfi:!0,datesInputRef:t,queryInputRef:a,mobileOverviewRef:i,submitInputRef:s,isSearchWithDates:!0,limitProductResultsByUfi:!0,onSearch:()=>{l(),o.setQueryUpdateType("search"),o.setAutoLoadRequests(0)},selectFirstResultOnSearch:"destination_search",showDestinations:!0,showPointsOfInterest:!0,placeholder:c("attr_index_search_box"),prefilledQuery:_,showOverviewOnMobile:!0,showSearchButtonOnMobile:!0}))},Ne=e=>{const t=(0,Z.y)(Ge);return(0,r.tZ)(s().Fragment,null,(0,r.tZ)("div",{css:t.BlueSpacer}),(0,r.tZ)("div",{css:t.Container},e.children))},Ge=e=>(0,Z.k)({Container:{padding:`0 ${e.units.spacing_4x}`,[E.FU]:{margin:`-${e.units.spacing_8x} auto 0`,maxWidth:1140,padding:`0 ${e.units.spacing_8x}`,width:"100%"}},BlueSpacer:{background:e.colors.color_brand_primary_background_dynamic,display:"none",height:e.units.spacing_8x,[E.FU]:{display:"block"}}}),Ue=()=>{const e=(0,Z.y)($e),{translate:t}=(0,x.useTranslations)(),{actions:a,state:i,pagination:{fetchMore:s,pageSize:o,pageIndex:c}}=(0,W.si)(),{setAutoLoadRequests:d,setQueryUpdateType:u}=a,{attractionsCountFiltered:_,autoLoadRequests:p,isLoading:g,products:m}=i,[f,b]=(0,n.useState)(!1),h=Math.ceil(_/o),v=c===h,{ref:y,inView:k}=(0,q.YD)({rootMargin:"600px"}),C=(0,n.useRef)(0),w=(0,n.useCallback)((e=>{let{isAutoload:t}=e;m&&(u("pagination"),s({largePage:!t}),t||(C.current=m.length))}),[s,m,u]),S=o*(W.Dw.AUTO_LOAD_REQUESTS_LIMIT+1),T=(null===m||void 0===m?void 0:m.length)||0,A=p>=W.Dw.AUTO_LOAD_REQUESTS_LIMIT||T>=S,F=T<_,E=(0,n.useMemo)((()=>!!(F&&A&&h>c)),[c,F,A,h]);return(0,n.useEffect)((()=>{!f&&!g&&k&&F&&!A&&window.scrollY>300&&(b(!0),w({isAutoload:!0}))}),[f,w,g,k,F,A]),(0,n.useEffect)((()=>{1===c&&(C.current=0)}),[c]),(0,n.useEffect)((()=>{if(!g)if(f){const e=p+1;b(!1),d(e)}else C.current&&Ye(C.current)}),[f,p,g,b,d]),_&&null!==m&&void 0!==m&&m.length?(0,r.tZ)("div",{css:e.container,ref:y},(0,r.tZ)(l.Text,{color:"neutral_alt",variant:"body_2"},v?t("attractions_uf_sr_viewed_all_attractions"):t("attractions_uf_sr_infinite_scroll_viewed_x_of_y",{variables:{num_viewed:m.length,num_total:_},num_exception:_})),E&&(0,r.tZ)(l.Button,{onClick:()=>w({isAutoload:!1}),size:"large",text:t("attractions_uf_sr_infinite_scroll_cta"),variant:"secondary",wide:{s:!0}})):null},Ye=e=>{const t=document.querySelectorAll("[data-product-card]");if(t[e]){const a=t[e].querySelector("a");null===a||void 0===a||a.focus()}},$e=e=>(0,Z.k)({container:{alignItems:"center",display:"flex",flexDirection:"column",gap:e.units.spacing_2x,padding:`0 0 ${e.units.spacing_4x}`,[E.gp]:{padding:`${e.units.spacing_3x} ${e.units.spacing_4x} ${e.units.spacing_4x}`}}});var Qe=a("b618dd09");const ze=e=>{const{activeSorter:t,onChange:a,sortOptions:s,attributes:o}=e,d=(0,Z.y)(Ke),{translate:u}=(0,x.useTranslations)(),_=(0,n.useMemo)((()=>null!==s&&void 0!==s&&s.length?s:[]),[s]);return _.length?(0,r.tZ)("fieldset",(0,i.Z)({css:d.container},o),(0,r.tZ)(Qe.c,{tagName:"legend"},u("a11y_attractions_web_sr_sort_by")),(0,r.tZ)(l.SegmentedControl,{attributes:{"data-testid":"sort-bar"},options:_.map((e=>({text:e.name,value:e.value}))),fillEqually:!0,name:"sort",onChange:e=>{let{value:t}=e;return(e=>{const t=null===s||void 0===s?void 0:s.find((t=>t.value===e));t&&("genius"===t.value&&(0,c.trackGoalWithValue)("js_attr_sr_sort_by_genius_sortbar_btn_clicked",1),a(t))})(t)},value:null===t||void 0===t?void 0:t.value})):null},Ke=e=>(0,Z.k)({container:{border:"none",margin:`0 0 ${e.units.spacing_4x}`,padding:0,position:"relative",zIndex:100}});var qe=a("349a10b4"),Je=a("cbe54cba");const je=e=>{const{activeSorter:t,sortOptionApplied:a}=e,{pushRoute:i}=(0,M.Z)(),{translate:r}=(0,x.useTranslations)();return s().createElement(l.Button,{attributes:{"aria-haspopup":"dialog","aria-label":r("a11y_attractions_uf_sr_sorting_options_hint",{variables:{sort_option:t.name}}),"data-testid":"sort-button"},onClick:()=>{i({addQuery:{drawer:Je.B.sorters}})},variant:a?"tertiary":"tertiary-neutral",icon:s().createElement(qe.Z,null),iconPosition:"end"},t.name)};var Xe=a("2570d7fe"),et=a("41a7b9ac"),tt=a("9d319b25"),at=a("098c315b"),it=a("a115020c"),rt=a("aa08d245"),nt=a("43a4d203"),st=a("70636de4"),ot=a("0a597241"),lt=a("ff4048bc"),ct=a("791ec36a");var dt=a("9d6d33aa"),ut=a("c65372b5"),_t=a("bc6dc0c1"),pt=a("d6b1b839"),gt=a("274ec0ed");const mt=(0,we.PQ)(new Date),ft=()=>{const[e,t]=(0,gt._)("attr_dest_views",{});return(0,n.useEffect)((()=>{if(e[mt]){const t=Object.keys(e[mt]).length;(0,c.trackGoalWithValue)("js_attractions_ufi_view_count",t)}}),[e]),{trackUfiView:a=>(a=>{const i=e[mt]||{},r=i[a]||0,n={[mt]:{...i,[a]:r+1}};t(n)})(a.toString())}};var bt=a("6b834d40"),ht=a("0ddd0ee5");const vt=()=>{const{updateRecentDestinationSearchesStorage:e}=(0,_t.Pr)(),{location:t}=(0,M.Z)(),{state:a}=(0,W.si)(),{suggestions:{blackFriday:i}}=(0,ye.f)(),r=(0,me.F)(),{apass:s,apass_legacy:o}=(0,ve.Z)(),{ufi:l,loading:d}=(0,N.Z)(),{trackUfiView:u}=ft(),{isLargeViewport:_}=(0,Q.T1)(),p=(0,Ie.P)(),{ufi:g,bCityName:m,url:f}=l||{},b=(0,pe.getRequestContext)(),h=b.getLanguage(),v=b.getSiteType(),y=(0,$.V0)("pinned_carousel",t.search),x=(0,$.V0)("start_date",t.search),k=(0,$.V0)("end_date",t.search),C=(0,$.V0)("sort_by",t.search),w=(0,$.V0)("source",t.search),Z=(0,$.V0)("url_code",t.search);(0,st.U9)(t),(0,bt.L)("searchresults"),(0,pt.Z)((e=>{let{apass:i,apass_legacy:r,ga:n}=e;n.setCustomDimensions(),n.pageview(t),n.event("land"),r.event("land");const s={page_context:{default_sort:C||"trending",default_filter:(0,ot.o1)(t.search),ufi:null===l||void 0===l?void 0:l.ufi}};i.event("pageload","load","search_results",s),(0,c.trackGoalWithValue)("js_attractions_sp_result_count",a.attractionsCountFiltered),(0,c.trackGoal)("attractions_sp_viewed_page"),(0,c.trackGoal)("tbu_vertical_search_results_view"),(0,c.trackGoalWithValue)("js_attr_viewed_attractions_searchresults",1),(0,c.trackExperimentStage)(c.exp`HWAFNLOLOLOCcNLJJFeUBGRfTINVFMEbaO`,1),(0,c.trackExperimentStage)(c.exp`HWAFNLOLOLOCcNLJJFeUBGRfTINVFMEbaO`,_?2:3),(0,c.trackExperimentStage)(c.exp`HWAJLGbbeLRcVWNdDJaZAMUXe`,2),(0,c.trackExperimentStage)(c.exp`HWAFYTbRSdWTNUSfCSRBRT`,1),(0,c.trackExperimentStage)(c.exp`HWAFYTacWCcAcJIYINNDdeKe`,1),(0,c.trackExperimentStage)(c.exp`HWAFYTfePHGPVdMPXKBeWe`,1),(0,c.trackExperimentStage)(c.exp`HWAFYTfDHCOLZVLeFZMO`,1),_&&(0,c.trackExperimentStage)(c.exp`HWAFYTfDHCOLZVLeFZMO`,2),(0,c.trackExperimentStage)(c.exp`HWAFYTbGNONMOfUUTAcHe`,1),(0,c.trackExperimentStage)(c.exp`HWAFYTacWCcacdJXINUC`,1),(0,c.trackExperimentStage)(c.exp`HWAFNQVeJOPIcfSePdbRe`,1),(0,c.trackExperimentStage)(c.exp`HWAFYTfDHCOLZOHeYYFGO`,1),_&&(0,c.trackExperimentStage)(c.exp`HWAFYTfDHCOLZOHeYYFGO`,2),(0,c.trackExperimentStage)(c.exp`HWAFNHUYTaeCVLLIYAZTRe`,1),(0,c.trackExperimentStage)(c.exp`HWAFNQBSdVFdXUWcaAEUZC`,1);const o=v===nt.SiteType.WWW?c.exp`BKATYWbWOOFFfDbIVFGWfdTUC`:c.exp`BKATYWPHDDZbVPQWIbAaLFSeKe`;p&&((0,c.trackExperimentStage)(o,1),(0,c.trackExperimentStage)(o,2),(0,c.trackExperimentStage)(o,3)),(0,c.trackExperimentStage)(c.exp`HWAFYbIeIPYPJQKQNGLRfBOFO`,1),_&&(0,c.trackExperimentStage)(c.exp`HWAFYDEZRETbBQAaNCWLfZVWbWOOC`,1),(0,c.trackExperimentStage)(c.exp`HWAFNecDKOQcfEEHFJEbDcTBeNSCZC`,1),(0,c.trackExperiment)(c.exp`HWAFNHUYHAFPBLASeGEVUFaO`),(0,c.trackExperimentStage)(c.exp`HWAFNHUYHAFPBLASeGEVUFaO`,1)})),(0,dt.q)(),(0,ut.fq)(),(()=>{var e;const t=(0,pe.getRequestContext)(),a=null===(e=t.getBasePageUrl())||void 0===e?void 0:e.pathname,i=(0,lt.s)(a),r=t.getSiteType(),n=t.isLanding(),s="searchresults"===i,o=(0,ct.s)();s&&o&&((0,c.trackExperimentStage)(c.exp`HWAFNJbaOLSaNFO`,1),n&&(0,c.trackExperimentStage)(c.exp`HWAFNJbaOLSaNFO`,2),r===nt.SiteType.MDOT&&(0,c.trackExperimentStage)(c.exp`HWAFNJbaOLSaNFO`,3),r===nt.SiteType.WWW&&(0,c.trackExperimentStage)(c.exp`HWAFNJbaOLSaNFO`,4))})(),(0,ht.T)(),(0,n.useEffect)((()=>{"search_box"===w&&m&&l&&f&&e({cc1:null===f||void 0===f?void 0:f.country,...l.scopeDetails?{scope_name:l.scopeDetails.name,scope_slug:(0,Ve.G)(l.scopeDetails),image:l.scopeDetails.image||""}:{city:null===f||void 0===f?void 0:f.city,image:l.image||""},city_name:m,country:l.countryName,ufi:l.ufi,locale:h})}),[m,h,w,l,e,f]),(0,n.useEffect)((()=>{g&&u(g)}),[g]),(0,n.useEffect)((()=>{(a.attractionsCountTotal&&0===a.attractionsCountFiltered||a.noResultsForQuery)&&(s.event("interaction","error","zero_attractions",{item_location:{block_name:"search_results",page_name:"search_results"}}),(0,c.trackGoal)("attractions_sp_zero_results"))}),[s,a.attractionsCountFiltered,a.attractionsCountTotal,a.noResultsForQuery]),(0,n.useEffect)((()=>{d||a.isLoading||"object"!==typeof a.products||0!==a.products.length||o.event("zero_results_rendered")}),[o,a.isLoading,a.products,d]),(0,n.useEffect)((()=>{if(Z){const e=(0,we.PQ)(new Date),t=(0,we.Ug)(e,x),a=(0,we.Ug)(e,k);1===t?(0,c.trackExperimentStage)(c.exp`HWAFYTbGNONMOfUUTAcHe`,7):t<=0&&a>=0&&(0,c.trackExperimentStage)(c.exp`HWAFYTbGNONMOfUUTAcHe`,8)}else(0,c.trackExperimentStage)(c.exp`HWAFYTbGNONMOfUUTAcHe`,6)}),[Z,x,k]),(0,n.useEffect)((()=>{let{typeFilters:e}=a.filterOptions||{};e=e||[];const t=!!e.flatMap((e=>e.childFilterOptions||[])).length;e.length&&((0,c.trackExperimentStage)(c.exp`HWAFYTacWCcAcJIYINNDdeKe`,2),t&&(0,c.trackExperimentStage)(c.exp`HWAFYTacWCcAcJIYINNDdeKe`,3))}),[a.filterOptions]),(0,n.useEffect)((()=>{if(a.products){const e=a.products.slice(0,10).filter((e=>e.availableFrom&&(0,we.Ug)((0,we.PQ)(new Date),e.availableFrom)<2));(0,c.trackGoalWithValue)("js_attr_prod_available_soon_top10",e.length)}}),[a]),(0,n.useEffect)((()=>{const e=(a.products??[]).reduce(((e,t)=>({...e,[t.id]:(e[t.id]??0)+1})),{});Object.values(e).some((e=>e>1))&&o.event("duplicate_results_rendered")}),[a.products,o]),(0,n.useEffect)((()=>{(a.products??[]).some((e=>!!e.sponsorshipDetails))&&(0,c.trackExperimentStage)(c.exp`HWAFNLOLOLOCcbPLDIcHXQDJKaWe`,1)}),[a.products]),(0,n.useEffect)((()=>{(0,c.trackExperimentStage)(c.exp`HWAFYTfTLKGfIOeMBUUZDOLbFZVGAZKe`,1),i.length&&((0,c.trackExperimentStage)(c.exp`HWAFYTfTLKGfIOeMBUUZDOLbFZVGAZKe`,2),"black_friday"===y&&((0,c.trackExperimentStage)(c.exp`HWAFYTfTLKGfIOeMBUUZDOLbFZVGAZKe`,3),(0,c.trackExperimentStage)(c.exp`HWAFYTfTLKGfIOeMBUUZDOLbFZVGAZKe`,_?5:4),(0,c.trackExperimentStage)(c.exp`HWAFYTfTLKGfIOeMBUUZDOLbFZVGAZKe`,6),(0,c.trackExperimentStage)(c.exp`HWAFYTfTLKGfIOeMBUUZDOLbFZVGAZKe`,_?8:7)))}),[i,y]),(0,n.useEffect)((()=>(0,Ee.yo)(a.products)),[a.products]),(0,n.useEffect)((()=>{var e,t;(0,c.trackExperimentStage)(c.exp`HWAFNHUYHIPALCcYPBAVTJbFMOWe`,1);const i=null===(e=a.products)||void 0===e?void 0:e.some((e=>e.discounts&&e.discounts.length>0)),n=null===(t=a.products)||void 0===t?void 0:t.some((e=>r.includes(e.id)));i&&(0,c.trackExperimentStage)(c.exp`HWAFNHUYHIPALCcYPBAVTJbFMOWe`,2),n&&(0,c.trackExperimentStage)(c.exp`HWAFNHUYHIPALCcYPBAVTJbFMOWe`,3)}),[r,a.products]),(0,n.useEffect)((()=>{if((0,c.trackExperimentStage)(c.exp`HWAFNHUYTaGBMLaUC`,1),a.showAvailabilityFilters&&(0,c.trackExperimentStage)(c.exp`HWAFNHUYTaGBMLaUC`,2),a.noProductsWithAvailabilityFilters){const e=(0,$.tg)("filter_by_availability",t.search);1===e.length&&(0,c.trackCustomGoal)(c.exp`HWAFNHUYTaGBMLaUC`,e.includes("available_today")?4:5)}}),[t.search,a.showAvailabilityFilters,a.noProductsWithAvailabilityFilters]),(0,n.useEffect)((()=>((e,t)=>{if(!e)return;const a=e.some((e=>(0,He.S)(e.representativePrice)));!a&&t||((0,c.trackExperimentStage)(c.exp`HWAFYTfbfSCTaOBcfae`,1),t||(0,c.trackExperimentStage)(c.exp`HWAFYTfbfSCTaOBcfae`,2),a&&((0,c.trackExperimentStage)(c.exp`HWAFYTfbfSCTaOBcfae`,3),(0,c.trackExperimentStage)(c.exp`HWAFYTfbfSCTaOBcfae`,t?5:4)))})(a.products,_)),[a.products,_]),(0,n.useEffect)((()=>{var e;"destination"===(null===l||void 0===l||null===(e=l.scopeDetails)||void 0===e?void 0:e.type)&&((0,c.trackCustomGoal)(c.exp`HWAFNecDKOQcfEEHFJEbDcTBeNSCZC`,2),(0,c.trackCustomGoal)(c.exp`HWAFNHUYHAFPBLASeGEVUFaO`,5))}),[l]),(0,n.useEffect)((()=>{_||(0,c.trackExperimentStage)(c.exp`HWAFYTfVEBJMLaRXZVBBVYYT`,1)}),[_])};var yt=a("48063a67");const xt=e=>{const{onChange:t,margin:a,name:i,disabled:s,value:o=""}=e,c=(0,Z.y)(kt),d=(0,n.useCallback)((e=>{let{event:a}=e;o!==a.currentTarget.value&&(null===t||void 0===t||t({name:i,value:a.currentTarget.value,event:a}))}),[i,o,t]),u=e.options.map(((e,t)=>(0,r.tZ)(l.InputRadio,{label:e.label,css:[c.input,"large"===a&&c.inputMarginLarge,"",""],value:e.value,key:t,disabled:s||e.disabled,checked:e.value===o,name:i,onChange:d})));return(0,r.tZ)(p.R,{direction:"column"},u)},kt=e=>(0,Z.k)({input:{padding:`${e.units.spacing_1x} 0`},inputMarginLarge:{padding:`${e.units.spacing_2x} 0`}}),Ct=e=>{let{sortOptions:t=[],onChange:a,activeSorter:r,attributes:n}=e;return s().createElement("div",(0,i.Z)({"data-testid":"sort-drawer-options"},n),s().createElement(xt,{options:wt(t),margin:"large",name:"sort_by",value:null===r||void 0===r?void 0:r.value,onChange:e=>{"genius"===e.value&&(0,c.trackGoalWithValue)("js_attr_sr_sort_by_genius_sortbar_btn_clicked",1),a(e)}}))},wt=e=>e.map((e=>({label:e.name,value:e.value}))),Zt=e=>{const{translate:t}=(0,x.useTranslations)();return s().createElement(Je.d,{name:Je.B.sorters,title:t("npd_att_search_page_sort_sidebar")},s().createElement(Ct,e))};var St=a("bd852bbf"),Tt=a("2130994e"),At=a("d07b7083"),Ft=a("59dbcdb2"),Et=a("9dfa761d"),Wt=a("3fe3f6ad"),Ht=a("b25e145e"),Ot=a("aef1fcb8");function Pt(e){return e.length>0?e:void 0}function Bt(e){var t;const{filtersState:a,sortingState:o,sortDrawerOptionsAttributes:d}=e,{state:u,actions:_,pagination:p}=(0,W.si)(),{translate:g}=(0,x.useTranslations)(),[m,f]=(0,n.useState)(!1),[b,h]=(0,n.useState)(!1),[y,k]=(0,q.YD)({initialInView:(0,ct.s)()}),C=(0,Z.y)(Lt),{replaceRoute:S}=(0,M.Z)(),{apass:T}=(0,ve.Z)(),{trackFilterInteractions:A}=(0,U.G)(),F=(0,Et.S)(),[E,H]=(0,n.useState)((()=>({...a.activeFilters}))),O=(0,Tt.Z)({availabilityFilterDates:F,extractFilterOptions:!0,extractFilterStats:!0,extractSorters:!0,limit:0,pageIndex:1,pinnedProductId:u.pinnedProduct}),{data:P,loading:B}=(0,At.C)({input:{...O,...(I=E,{filterByType:Pt([...I.filter_by,...I.filter_by_landing_category]),filterByCategory:Pt(I.filter_by_subcategory),filterByUfi:Pt(I.filter_by_ufi.map((e=>parseInt(e,10)))),filterByMinRating:Pt(I.filter_by_min_rating),filterBySupportedLanguage:Pt(I.filter_by_language),filterByLabel:Pt(I.filter_by_label),filterByTimeOfDay:Pt(I.filter_by_time_of_day),filterByPrice:Pt(I.filter_by_price),filterByDestinationId:Pt(I.filter_by_destination),...(0,Ft.uA)(I.filter_by_availability)})}});var I;const L=(null===P||void 0===P||null===(t=P.filterStats)||void 0===t?void 0:t.filteredProductCount)??0,D=u.showAvailabilityFilters&&!!(0,c.trackExperiment)(c.exp`HWAFNHUYTaGBMLaUC`),R=(0,Wt.q)(),V=(0,n.useMemo)((()=>{var e;const t=[...(null===P||void 0===P||null===(e=P.filterOptions)||void 0===e?void 0:e.typeFilters)??[]];for(const i of a.filters.filter_by_landing_category){const e=t.find((e=>e.tagname===i.tagname));e||t.push(i)}return{...null===P||void 0===P?void 0:P.filterOptions,typeFilters:t}}),[a.filters.filter_by_landing_category,null===P||void 0===P?void 0:P.filterOptions]),N=(0,Ft.Gc)({filterOptions:V,availabilityFilterOptions:u.showAvailabilityFilters?R:void 0}),G=(0,n.useCallback)(((e,t)=>{const{name:a,value:i}=t;T.event("interaction","click","filter",{applied_filter:{type:a,value:"string"===typeof i?i:i.join(",")},item_location:{page_name:"search_results",block_name:"filters"}}),A({...e,[a]:i})}),[T,A]),{trackSortingInteractions:Y}=(0,Ht.C)(),$=(0,Ot.useHistory)();(0,n.useEffect)((()=>{if(!m&&!b)return;const e=()=>{m&&(0,c.trackGoalWithValue)("js_attr_sr_bbb_filter_sheet",1),b&&(0,c.trackGoalWithValue)("js_attr_sr_bbb_sort_sheet",1)};window.addEventListener("pagehide",e),window.addEventListener("beforeunload",e);const t=$.listen(((t,a)=>{"POP"===a&&e()}));return()=>{window.removeEventListener("pagehide",e),window.removeEventListener("beforeunload",e),t()}}),[$,m,b]);const Q=(0,n.useMemo)((()=>{const e=(0,Ft.Xm)(N,a.filters);return new v.tS({activeFilters:E,filters:e,onChange:e=>{const{name:t,value:a}=e;G(E,e),H((e=>({...e,[t]:a})))}})}),[a.filters,E,N,G]),z=()=>{_.setFilterModalTitle(g("a11y_attractions_web_sr_filter_by")),_.setFilterModalGroup(void 0),f(!0)},K=()=>{f(!1)},J=()=>{f(!1),p.resetPagination(),_.setQueryUpdateType("filter"),_.setAutoLoadRequests(0);const{filter_by_landing_category:e,...t}=Q.activeFilters;S({addQuery:{...t,filter_by:[...t.filter_by,...e]}}),window.scrollTo({top:0,behavior:"smooth"})},j=()=>{H({...Ft.ly})},X=()=>{H(a.activeFilters)};return(0,r.tZ)(s().Fragment,null,(0,r.tZ)("div",{ref:y}),(0,r.tZ)(l.Stack,{direction:"row",css:[C.actions,!k&&C.actions__sticky,"",""],gap:4,justifyContent:"center",tagName:"aside"},(0,r.tZ)(l.Button,{variant:"tertiary",onClick:z},(0,r.tZ)(l.Stack,{direction:"row",alignItems:"center",gap:3},(0,r.tZ)(l.BubbleContainer,{value:a.activeFiltersCount?a.activeFiltersCount:void 0},(0,r.tZ)(l.Icon,{size:"medium",svg:(0,r.tZ)(w.Z,null),css:C.actionIcon})),(0,r.tZ)(l.Text,{tagName:"span"},g("attractions_sr_sorting_filter_header")))),(0,r.tZ)(l.Divider,{vertical:!0,css:C.actionsDivider}),(0,r.tZ)(l.Button,{variant:"tertiary",onClick:()=>{h(!0)}},(0,r.tZ)(l.Stack,{direction:"row",alignItems:"center",gap:3},(0,r.tZ)(l.BubbleContainer,{value:o.sortOptionApplied?"":void 0},(0,r.tZ)(l.Icon,{size:"medium",svg:(0,r.tZ)(qe.Z,null),css:C.actionIcon})),(0,r.tZ)(l.Text,{tagName:"span"},g("attractions_sr_sorting_sort_header"))))),(0,c.trackExperiment)(c.exp`HWAFYTfVEBJMLaRXZVBBVYYT`)<2&&(0,r.tZ)(s().Fragment,null,(0,r.tZ)(l.Divider,{css:C.quickFiltersDivider}),(0,r.tZ)(It,{filtersState:a,loading:u.loadingFilters&&!a.hasData,showAvailabilityFilters:D,onViewAllFilters:z,onChange:e=>{let{name:t,value:i}=e;"filter_by_landing_category"===t&&(t="filter_by",i=[...a.activeFilters.filter_by,...i]),G(a.activeFilters,e),p.resetPagination(),_.setQueryUpdateType("filter"),_.setAutoLoadRequests(0),S({addQuery:{[t]:i}})}})),(0,r.tZ)(l.Divider,{css:C.divider}),(0,r.tZ)(r.ms,null,(e=>{let{css:t}=e;return(0,r.tZ)(l.SheetContainer,{containerRef:null,position:"fullScreen",title:u.filterModalTitle,stickyHeader:!0,active:m,onOpen:X,onCloseTrigger:K,closeAriaLabel:g("a11y_att_sr_close_cta"),innerClassName:t(C.sheetContainer__inner),footer:(0,r.tZ)("div",{css:C.footer},(0,r.tZ)(l.Button,{text:g("attractions_uf_sr_filters_reset_cta"),variant:"tertiary",size:"large",onClick:j,disabled:!Q.hasAnyFiltersApplied,css:C.resetFiltersCta}),(0,r.tZ)(l.Button,{loading:B,loadingAriaLabel:g("a11y_bp_spinner_generic"),text:g("attractions_uf_filters_show_num_results_cta",{variables:{num_results:L},num_exception:L}),onClick:J,attributes:{"data-testid":"apply-filters-button"},size:"large",css:C.applyFiltersCta}))},(0,r.tZ)(l.Box,{padding:0,mixin:{paddingBlockStart:3}},(0,r.tZ)(St.h,{state:Q})))})),(0,r.tZ)(l.SheetContainer,{containerRef:null,title:g("npd_att_search_page_sort_sidebar"),active:b,onCloseTrigger:()=>{h(!1)},closeAriaLabel:g("a11y_att_sr_close_cta")},(0,r.tZ)(Ct,(0,i.Z)({},o,{attributes:d,onChange:e=>{var t,a;const{value:i}=e,r=(null===(t=o.activeSorter)||void 0===t?void 0:t.value)||(null===(a=u.defaultSorter)||void 0===a?void 0:a.value),n=i;p.resetPagination(),_.setQueryUpdateType("sort"),_.setAutoLoadRequests(0),Y({sortLogicBefore:r,sortLogicAfter:n}),h(!1),S({addQuery:{sort_by:n}}),window.scrollTo({top:0,behavior:"smooth"})}}))))}function It(e){const{filtersState:t,loading:a=!1,showAvailabilityFilters:i=!1,onViewAllFilters:n,onChange:o}=e,{filters:d,activeFilters:u,hasAnyFiltersApplied:_}=t,{translate:p}=(0,x.useTranslations)(),g=(0,Z.y)(Dt),m=B(),{quickFiltersTrackingHandlers:f}=K();let b;if(a)b=(0,r.tZ)(s().Fragment,null,[1,2,3].map((e=>(0,r.tZ)(A,{key:e}))));else{const e=e=>{const{name:t,tagname:a,disabled:i=!1,dismissible:n}=e,s=m[a]||t;return(0,r.tZ)(l.Chip,{key:a,variant:"toggle",label:s,value:a,disabled:i,dismissible:n})},t=f.available_today,a=e=>{null===o||void 0===o||o(e),(0,c.trackCustomGoal)(c.exp`HWAFYTaYSEYCBOcaGPaVHXT`,2)};b=(0,r.tZ)(s().Fragment,null,d.filter_by_landing_category.length>0&&(0,r.tZ)(l.InputCheckboxGroup,{name:"filter_by_landing_category",value:u.filter_by_landing_category,onChange:a},(0,r.tZ)(l.Stack,{direction:"row"},d.filter_by_landing_category.map((t=>e({...t,dismissible:!0}))))),!!t&&(0,r.tZ)(J,{onShow:t}),i&&(0,r.tZ)(l.InputCheckboxGroup,{name:"filter_by_availability",value:u.filter_by_availability,onChange:o},(0,r.tZ)(l.Stack,{direction:"row"},d.filter_by_availability.map((t=>e(t))))),d.filter_by_label.length>0&&(0,r.tZ)(l.InputCheckboxGroup,{name:"filter_by_label",value:u.filter_by_label,onChange:o},(0,r.tZ)(l.Stack,{direction:"row"},d.filter_by_label.map((t=>e({...t,disabled:0===t.productCount}))))),(0,r.tZ)(l.Chip,{variant:"action",label:p("attractions_sr_sorting_see_all_filters_chip"),checked:_,onClick:n}))}return(0,r.tZ)(l.Stack,{direction:"row",wrap:"nowrap",css:g.root,tagName:"aside"},b)}const Lt=e=>(0,Z.k)({actions:{position:"sticky",top:0,zIndex:"var(--bui_z_index_3)",paddingBlock:e.units.spacing_2x,background:"white",marginInline:`-${e.units.spacing_4x}`,transition:"box-shadow var(--bui_animation_hover)"},actions__sticky:{boxShadow:e.shadows.shadow_100},actionsDivider:{alignSelf:"stretch",height:"auto",marginBlock:e.units.spacing_half},actionIcon:{verticalAlign:"middle"},divider:{marginInline:`-${e.units.spacing_4x}`,height:e.units.spacing_2x,background:e.colors.color_background_base_alt,borderTop:"1px solid var(--bui_color_border_alt)"},quickFiltersDivider:{marginInline:`-${e.units.spacing_4x}`},sheetContainer__inner:{"&>div:nth-of-type(1)>div:nth-of-type(1)":{borderBottom:"1px solid var(--bui_color_border_alt)"}},footer:{display:"flex",justifyContent:"space-between",gap:e.units.spacing_2x,padding:e.units.spacing_4x,borderBlockStart:`1px solid ${e.colors.color_border_alt}`},resetFiltersCta:{marginInlineStart:`-${e.units.spacing_3x}`},applyFiltersCta:{textAlign:"center"}}),Dt=e=>(0,Z.k)({root:{padding:e.units.spacing_2x,overflowX:"auto",scrollbarWidth:"none",marginInline:`-${e.units.spacing_4x}`,scrollSnapType:"x mandatory",scrollBehavior:"smooth",position:"relative"}}),Rt=e=>(0,Z.k)({prodCountContainer:{alignItems:"flex-end",background:e.colors.color_background_alt,borderTop:`1px solid ${e.colors.color_border_alt}`,display:"flex",justifyContent:"space-between",...e.fonts.medium.font_body_2,margin:`0 -${e.units.spacing_4x}`,padding:`0 ${e.units.spacing_2x}`},prodCountTextContainer:{paddingBottom:e.units.spacing_1x,paddingLeft:e.units.spacing_2x,"[dir=rtl] &":{paddingLeft:0,paddingRight:e.units.spacing_2x}},searchResultsListContainer:{display:"flex",flexDirection:"column",gap:e.units.spacing_4x,[E.gp]:{gap:e.units.spacing_1x,margin:`0 -${e.units.spacing_4x}`}},searchResultsListContainerWithBackground:{[E.gp]:{background:e.colors.color_background_alt}},Sort__desktop:{display:"none",[E.FU]:{display:"block",textAlign:"left"},"[dir=rtl] &":{textAlign:"right"}},activeSorterSkeleton:{height:28,margin:`${e.units.spacing_1x} ${e.units.spacing_2x}`,width:112},sortBarSkeleton:{background:e.colors.color_background_alt,borderRadius:e.units.border_radius_200,height:36,marginBottom:e.units.spacing_4x},mobile:{[E.FU]:{display:"none"}},desktop:{[E.gp]:{display:"none"}}}),Vt=()=>{var e,t;const{match:a,location:f}=(0,M.Z)(),{state:v,pagination:{pageIndex:y,pageSize:k}}=(0,W.si)(),C=(0,z.l)(),w=le(),S=(0,rt.w)(),T=(0,Z.y)(Rt),{ufi:A,loading:F}=(0,N.Z)(),{isSmallViewport:E,isLargeViewport:H}=(0,Q.T1)(),{translate:O}=(0,x.useTranslations)(),{bCityName:P,banners:B,scopeDetails:I}=A||{},[L]=(0,n.useState)(null===(e=f.state)||void 0===e?void 0:e.error),{name:D}=I||{},R=!!I,V=(0,c.trackExperiment)(c.exp`HWAFYTfDHCOLZOHeYYFGO`),G=!H&&!!(0,c.trackExperiment)(c.exp`HWAFYTfVEBJMLaRXZVBBVYYT`),U=(0,n.useRef)(null),Y=(0,n.useRef)(null),K=(0,n.useRef)(null),J=(0,n.useRef)(null),j=(y-1)*k+1;(0,n.useEffect)((()=>{window.scrollTo(0,0)}),[]),(0,n.useEffect)((()=>{et.aO.preload()}),[]),(0,n.useEffect)((()=>{(0,yt.UK)(f)&&(0,yt.Kq)(3)}),[]),(0,n.useEffect)((()=>{C.filters.filter_by_landing_category.length&&((0,c.trackExperimentStage)(c.exp`HWAFYTaYSEYCBOcaGPaVHXT`,1),(0,c.trackExperimentStage)(c.exp`HWAFYTaYSEYCBOcaGPaVHXT`,H?2:3))}),[C.filters,H]),(0,it.ZP)({header:"regular",scrim:"hidden"}),vt(),(0,We.wM)(),(0,We.TB)(),function(){const{location:e,replaceRoute:t}=(0,M.Z)();(0,n.useEffect)((()=>{const a=(0,$.V0)("sort_by",e.search);("attr_book_score"===a||"genius"===a&&(0,Ie.P)()&&!(0,c.trackExperiment)(c.exp`HWAFYTfVdQbHVEZYSCC`))&&t({addQuery:{sort_by:void 0}})}),[t,e.search])}();const[X]=(0,q.YD)({onChange:e=>{var t;if(!e)return;(0,Ie.P)()&&(null===(t=v.sorters)||void 0===t?void 0:t.some((e=>"genius"===e.value)))&&((0,c.trackExperimentStage)(c.exp`HWAFYTfVdQbHVEZYSCC`,1),(0,c.trackExperimentStage)(c.exp`HWAFYTfVdQbHVEZYSCC`,H?2:3))}});return F||A?(H?((0,c.trackExperimentStage)(c.exp`HWAFYTbQTZOUdTJeaILYDISIBBO`,1),(0,c.trackExperimentStage)(c.exp`HWAFYTbUdCISIBBO`,1),(0,c.trackExperimentStage)(c.exp`HWAFYTfQfQMZaHIJZZKVFGUVbIeIPYGYfPHe`,1)):(0,c.trackExperimentStage)(c.exp`HWAFYTfQfQMZaHIJZZKVFGUVbIeIPYBBVYYT`,1),(0,c.trackExperimentStage)(c.exp`HWAFYTaRQMeVXGRcAAKEfPdRT`,1),(0,r.tZ)(s().Fragment,null,(0,r.tZ)(o.Helmet,null,(0,r.tZ)("title",null,`${w}- Booking.com`),(0,r.tZ)("meta",{name:"robots",content:"none"})),(0,r.tZ)(at.y,{view:"searchresults"}),(0,r.tZ)(at.L,{view:"searchresults",urlParts:{city:a.params.city,country:a.params.country,prefix:(0,tt.Pb)()}}),(0,r.tZ)(m.A,{contentRatio:2===V?"3:1":"2:1",top:(0,r.tZ)(s().Fragment,null,(0,r.tZ)(Me,{searchDateInputRef:U,queryInputRef:Y,mobileOverviewRef:K,submitInputRef:J}),(0,r.tZ)("div",{css:T.desktop},(0,r.tZ)(ue,null))),noPaddingsTop:!0,fullWidthTop:!0,content:(0,r.tZ)(s().Fragment,null,(0,r.tZ)(Xe.w,null),!H&&R&&(0,r.tZ)("div",{css:T.mobile},(0,r.tZ)(u.O,{skipHomeCrumb:!0,items:[{linkProps:{toPage:"searchresults",addQuery:{source:"search-results-breadcrumb"}},text:P||""},{text:D||""}],source:"search_results"})),G&&(0,r.tZ)(Bt,{filtersState:C,sortingState:S,sortDrawerOptionsAttributes:{ref:X}}),!H&&!G&&(0,r.tZ)(ae,{filtersState:C}),!v.noResultsToDisplayOnSearchResults&&!G&&(0,r.tZ)(s().Fragment,null,!H&&(0,r.tZ)("div",{css:[T.prodCountContainer,T.mobile,"",""]},(0,r.tZ)("span",{css:T.prodCountTextContainer},(0,r.tZ)(ce,null)),S.activeSorter?(0,r.tZ)(s().Fragment,null,(0,r.tZ)(je,(0,i.Z)({},S,{activeSorter:S.activeSorter})),(0,r.tZ)(Zt,(0,i.Z)({},S,{attributes:{ref:X}}))):(0,r.tZ)("div",{css:T.activeSorterSkeleton}))),(0,r.tZ)(b,(0,i.Z)({banners:B??[]},!H&&{marginTop:"spacing_4x"})),(0,r.tZ)(d.q,{marginTop:E?"spacing_4x":"none",warningBanners:B}),H&&(0,r.tZ)("aside",{css:T.Sort__desktop,"aria-label":O("att_open_sr_header_sort_by")},S.sortOptions.length?(0,r.tZ)(ze,(0,i.Z)({},S,{attributes:{ref:X}})):(0,r.tZ)("div",{css:T.sortBarSkeleton})),(0,r.tZ)("div",{css:[T.searchResultsListContainer,!v.noResultsToDisplayOnSearchResults&&T.searchResultsListContainerWithBackground,"",""],id:"attr-search-results-page-main-content"},L?(0,r.tZ)(p.R,{margin:[E?"spacing_2x":"none","none","none"]},(0,r.tZ)(l.Alert,{variant:"error",inline:!0,text:L})):null,null!==(t=f.state)&&void 0!==t&&t.warning?(0,r.tZ)(p.R,{margin:[E?"spacing_2x":"none","none","none"]},(0,r.tZ)(l.Banner,{text:f.state.warning,dismissible:!1,variant:"callout"})):null,!v.noResultsToDisplayOnSearchResults&&(0,r.tZ)(_.b,{margin:[0,0,0,0],source:"search_results"}),(0,r.tZ)(re,{searchDateInputRef:U,searchMobileOverviewRef:K,searchQueryInputRef:Y}),!v.noResultsToDisplayOnSearchResults&&(0,r.tZ)(s().Fragment,null,(0,r.tZ)(Le,{currentPageStart:j,attractions:v.products,unavailableAttractions:v.unavailableProducts,isLoading:v.isLoading||F}),(0,r.tZ)(Ue,null)))),primarySidebar:(0,r.tZ)(s().Fragment,null,H&&(0,r.tZ)(te,{filtersState:C})),topLevelLayout:!0}))):(0,r.tZ)(g.Z,null,(0,r.tZ)(h.T,{action:"searchresults"}))}},"0216c7de":(e,t,a)=>{"use strict";a.d(t,{l:()=>p});var i=a("ead71eb0"),r=a("08af926e"),n=a("a0585de1"),s=a("3fe3f6ad"),o=a("fffbd3f5"),l=a("7b5b6285"),c=a("7760db43"),d=a("6a4a8474");var u=a("96c28170"),_=a("59dbcdb2");const p=()=>{const{location:e,pushRoute:t}=(0,l.Z)(),{trackFilterInteractions:a}=(0,o.G)(),{state:p,actions:g,pagination:{resetPagination:m}}=(0,d.si)(),{apass:f}=(0,c.Z)(),b=(0,s.q)(),h=(0,_.Gc)({filterOptions:p.filterOptions,availabilityFilterOptions:p.showAvailabilityFilters?b:void 0}),v=(0,i.useMemo)((()=>{const i=(0,n.tg)("filter_by",e.search),s=(0,n.tg)("filter_by_subcategory",e.search),o=(0,n.tg)("filter_by_price",e.search),l=(0,n.tg)("filter_by_label",e.search),c=(0,n.tg)("filter_by_ufi",e.search),d=(0,n.tg)("filter_by_availability",e.search),_=(0,n.tg)("filter_by_destination",e.search),b=(0,n.tg)("filter_by_language",e.search),y=(0,n.tg)("filter_by_min_rating",e.search),x=(0,n.tg)("filter_by_time_of_day",e.search),k=function(e,t){return Object.entries(e).reduce(((e,a)=>{let[i,r]=a;const n=null===t||void 0===t?void 0:t[i];if(!n)return e;const s=new Set(n.map((e=>e.tagname)));return e[i]=r.filter((e=>s.has(e))),e}),{})}({filter_by:i.filter((e=>!(0,r.w2)(e))),filter_by_landing_category:i.filter((e=>(0,r.w2)(e))),filter_by_availability:d,filter_by_subcategory:s,filter_by_price:o,filter_by_label:l,filter_by_ufi:c,filter_by_destination:_,filter_by_language:b,filter_by_min_rating:y,filter_by_time_of_day:x},h),C=p.filterModalGroup;return new r.tS({filters:h,activeFilters:k,modalGroup:C,onChange:i=>{let{name:r,value:s}=i;"filter_by_landing_category"===r&&(r="filter_by",s=[...v.activeFilters.filter_by,...s]),f.event("interaction","click","filter",{applied_filter:{type:r,value:"string"===typeof s?s:s.join(",")},item_location:{page_name:"search_results",block_name:"filters"}}),a({...k,[r]:s}),m(),g.setQueryUpdateType("filter"),g.setAutoLoadRequests(0),t({addQuery:{[r]:s}}),(0,n.jS)("modal",e.search)===u.nK.filters&&0!==p.beforeFilterModalState&&g.setBeforeFilterModalState((e=>e-1))}})}),[m,p.filterModalGroup,p.filterOptions,e.search,h]);return v}},aa08d245:(e,t,a)=>{"use strict";a.d(t,{w:()=>d});var i=a("ead71eb0"),r=a("28dbd132"),n=a("a0585de1"),s=a("7b5b6285"),o=a("b25e145e"),l=a("6a4a8474"),c=a("555efd6b");const d=()=>{var e;const{location:t,replaceRoute:a}=(0,s.Z)(),{state:d,actions:u,pagination:{resetPagination:_}}=(0,l.si)(),{trackSortingInteractions:p}=(0,o.C)(),g=(0,n.V0)("sort_by",t.search),[m,f]=(0,i.useMemo)((()=>{var e;const t=(0,c.P)()&&(0,r.trackExperiment)(r.exp`HWAFYTfVdQbHVEZYSCC`),a=(null===(e=d.sorters)||void 0===e?void 0:e.filter((e=>!("genius"===e.value&&!t)&&"attr_book_score"!==e.value)))||[],i=a.find((e=>e.value===g))||d.defaultSorter;return[a,i]}),[g,d.defaultSorter,d.sorters]),b=!!g;return(0,i.useMemo)((()=>({activeSorter:f,sortOptions:m,sortOptionApplied:b,onChange:e=>{var t;let{value:i}=e;const r=(null===f||void 0===f?void 0:f.value)||(null===(t=d.defaultSorter)||void 0===t?void 0:t.value),n=i;_(),u.setQueryUpdateType("sort"),u.setAutoLoadRequests(0),a({addQuery:{sort_by:n,drawer:void 0}}),p({sortLogicBefore:r,sortLogicAfter:n})}})),[f,m,b,null===(e=d.defaultSorter)||void 0===e?void 0:e.value,_,u,a,p])}},"5e975472":e=>{e.exports=function(e,t){for(var a=-1,i=null==e?0:e.length,r=Array(i);++a<i;)r[a]=t(e[a],a,e);return r}},"6734dda5":e=>{e.exports=function(e,t,a,i){var r=-1,n=null==e?0:e.length;for(i&&n&&(a=e[++r]);++r<n;)a=t(a,e[r],r,e);return a}},"97a18e37":e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},"521c7e3f":e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},b06a8616:(e,t,a)=>{var i=a("8047dcc1"),r=a("5e975472"),n=a("a0cd9649"),s=a("0860bfb5"),o=i?i.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(n(t))return r(t,e)+"";if(s(t))return l?l.call(t):"";var a=t+"";return"0"==a&&1/t==-1/0?"-0":a}},"72d9f9c9":(e,t,a)=>{var i=a("6734dda5"),r=a("2bf84bc3"),n=a("709d0c74"),s=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return i(n(r(t).replace(s,"")),e,"")}}},c4de02b4:(e,t,a)=>{var i=a("521c7e3f")({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=i},afe8fbff:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},"27d16b8d":e=>{var t="\\ud800-\\udfff",a="\\u2700-\\u27bf",i="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",n="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="["+n+"]",o="\\d+",l="["+a+"]",c="["+i+"]",d="[^"+t+n+o+a+i+r+"]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",_="[\\ud800-\\udbff][\\udc00-\\udfff]",p="["+r+"]",g="(?:"+c+"|"+d+")",m="(?:"+p+"|"+d+")",f="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",b="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",h="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",v="[\\ufe0e\\ufe0f]?",y=v+h+("(?:\\u200d(?:"+["[^"+t+"]",u,_].join("|")+")"+v+h+")*"),x="(?:"+[l,u,_].join("|")+")"+y,k=RegExp([p+"?"+c+"+"+f+"(?="+[s,p,"$"].join("|")+")",m+"+"+b+"(?="+[s,p+g,"$"].join("|")+")",p+"?"+g+"+"+f,p+"+"+b,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o,x].join("|"),"g");e.exports=function(e){return e.match(k)||[]}},"2bf84bc3":(e,t,a)=>{var i=a("c4de02b4"),r=a("5545b6d3"),n=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=r(e))&&e.replace(n,i).replace(s,"")}},"6790ce78":(e,t,a)=>{var i=a("72d9f9c9")((function(e,t,a){return e+(a?"_":"")+t.toLowerCase()}));e.exports=i},"6af95914":(e,t,a)=>{var i=a("9409e9af"),r=a("1122849d");e.exports=function(e,t,a){var n=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(a)&&(n="leading"in a?!!a.leading:n,s="trailing"in a?!!a.trailing:s),i(e,t,{leading:n,maxWait:t,trailing:s})}},"5545b6d3":(e,t,a)=>{var i=a("b06a8616");e.exports=function(e){return null==e?"":i(e)}},"709d0c74":(e,t,a)=>{var i=a("97a18e37"),r=a("afe8fbff"),n=a("5545b6d3"),s=a("27d16b8d");e.exports=function(e,t,a){return e=n(e),void 0===(t=a?void 0:t)?r(e)?s(e):i(e):e.match(t)||[]}}}]);
//# sourceMappingURL=https://istatic.booking.com/internal-static/capla/static/js/e93e6b6d.2a53dd07.chunk.js.map